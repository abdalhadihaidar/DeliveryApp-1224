import{a as he}from"./chunk-AUVTR7ER.js";import"./chunk-GGQ7LRWG.js";import"./chunk-W4AHS3DZ.js";import{b as Ae,d as ze,f as Fe}from"./chunk-GURXHOCJ.js";import{a as Oe,b as Se,c as Me,d as Pe,e as ye,f as Te,g as we,h as Ee,i as Ie,j as De,k as ke}from"./chunk-66EBL4AI.js";import{b as re,c as oe}from"./chunk-BHUWSNYL.js";import{b as ge,c as fe}from"./chunk-5QG37IKZ.js";import{c as B,e as U,h as W,k as q,l as Q,m as X,n as Z}from"./chunk-4QNLZ27S.js";import"./chunk-F5X5MWHG.js";import{a as ee,b as te}from"./chunk-H6HE4MHR.js";import"./chunk-QI4NFHPB.js";import{a as be}from"./chunk-UMVVOU4F.js";import"./chunk-3XTS6IX6.js";import{a as de,b as se,c as ce,e as me,f as pe,g as ue}from"./chunk-VE33HBPU.js";import{a as Ce,b as xe}from"./chunk-RKVGNEAU.js";import{a as ve,b as _e}from"./chunk-YYCZXRKQ.js";import"./chunk-YG2AVUDB.js";import{$a as ae,Da as Y,Ha as G,La as J,Wa as K,Ya as ne,Za as ie,ab as le,g as H,h as $,k as j,n as V}from"./chunk-F6AVZLPP.js";import{Ac as P,Dc as R,Fc as N,H as D,Hc as L,Mb as z,Sb as c,Tb as t,Ub as i,Vb as x,Wb as v,Xb as _,Zb as F,ba as y,cb as k,cc as g,dc as m,fb as n,kb as E,n as I,oc as C,pc as b,qc as h,rb as A,rc as a,sa as T,sc as d,ta as w,tc as p,xb as f,xc as O,yc as S,zc as M}from"./chunk-PBCT4LDD.js";var Ne=()=>[10,25,50];function Le(l,r){if(l&1&&(t(0,"mat-option",56),a(1),i()),l&2){let o=r.$implicit;c("value",o),n(),d(o)}}function He(l,r){if(l&1&&(t(0,"div",57),x(1,"mat-spinner"),t(2,"p"),a(3),i()()),l&2){let o=m();n(3),d(o.translationService.translate("loading")||"Loading...")}}function $e(l,r){if(l&1&&(t(0,"th",76),a(1),t(2,"mat-icon"),a(3,"arrow_drop_down"),i()()),l&2){let o=m(3);n(),p(" ",o.translationService.translate("orderId")||"\u0627\u0644\u0631\u0642\u0645"," ")}}function je(l,r){if(l&1&&(t(0,"td",77)(1,"div",78)(2,"span",79),a(3),i()()()),l&2){let o=r.$implicit;n(3),p("#",o.id)}}function Ve(l,r){if(l&1&&(t(0,"th",76),a(1),t(2,"mat-icon"),a(3,"arrow_drop_down"),i()()),l&2){let o=m(3);n(),p(" ",o.translationService.translate("orderTime")||"\u0648\u0642\u062A \u0627\u0644\u0637\u0644\u0628"," ")}}function Be(l,r){if(l&1&&(t(0,"td",77)(1,"div",80)(2,"mat-icon"),a(3,"schedule"),i(),t(4,"span"),a(5),i()()()),l&2){let o=r.$implicit;n(5),d(o.orderTime)}}function Ue(l,r){if(l&1&&(t(0,"th",76),a(1),t(2,"mat-icon"),a(3,"arrow_drop_down"),i()()),l&2){let o=m(3);n(),p(" ",o.translationService.translate("customerName")||"\u0627\u0633\u0645 \u0627\u0644\u0632\u0628\u0648\u0646"," ")}}function We(l,r){if(l&1&&(t(0,"td",77)(1,"div",81)(2,"div",82)(3,"mat-icon"),a(4,"person"),i()(),t(5,"div",83)(6,"span",84),a(7),i(),t(8,"span",85),a(9),i()()()()),l&2){let o=r.$implicit,e=m(3);n(7),d(e.getCustomerDisplayName(o)),n(2),d(o.customerPhoneNumber)}}function qe(l,r){if(l&1&&(t(0,"th",76),a(1),t(2,"mat-icon"),a(3,"arrow_drop_down"),i()()),l&2){let o=m(3);n(),p(" ",o.translationService.translate("storeName")||"\u0627\u0644\u0645\u062A\u062C\u0631"," ")}}function Ye(l,r){if(l&1&&(t(0,"td",77)(1,"div",86)(2,"mat-icon"),a(3,"store"),i(),t(4,"span"),a(5),i()()()),l&2){let o=r.$implicit;n(5),d(o.storeName)}}function Ge(l,r){if(l&1&&(t(0,"th",76),a(1),t(2,"mat-icon"),a(3,"arrow_drop_down"),i()()),l&2){let o=m(3);n(),p(" ",o.translationService.translate("city")||"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"," ")}}function Je(l,r){if(l&1&&(t(0,"td",77)(1,"div",87)(2,"mat-icon"),a(3,"location_on"),i(),t(4,"span"),a(5),i()()()),l&2){let o=r.$implicit;n(5),d(o.city)}}function Ke(l,r){if(l&1&&(t(0,"th",76),a(1),t(2,"mat-icon"),a(3,"arrow_drop_down"),i()()),l&2){let o=m(3);n(),p(" ",o.translationService.translate("amount")||"\u0627\u0644\u0645\u0628\u0644\u063A"," ")}}function Qe(l,r){if(l&1&&(t(0,"td",77)(1,"div",88)(2,"span",89),a(3),i()()()),l&2){let o=r.$implicit,e=m(3);n(3),d(e.formatCurrency(o.amount))}}function Xe(l,r){if(l&1&&(t(0,"th",76),a(1),t(2,"mat-icon"),a(3,"arrow_drop_down"),i()()),l&2){let o=m(3);n(),p(" ",o.translationService.translate("deliveryTimeDifference")||"\u0641\u0627\u0631\u0642 \u0632\u0645\u0646 \u0627\u0644\u062A\u0648\u0635\u064A\u0644"," ")}}function Ze(l,r){if(l&1&&(t(0,"td",77)(1,"mat-chip-set")(2,"mat-chip")(3,"mat-icon"),a(4),i(),a(5),i()()()),l&2){let o=r.$implicit,e=m(3);n(2),h(e.getTimeDifferenceClass(o.deliveryTimeDifference)),n(2),d(e.getTimeDifferenceIcon(o.deliveryTimeDifference)),n(),p(" ",o.deliveryTimeDifference," ")}}function et(l,r){if(l&1&&(t(0,"th",76),a(1),t(2,"mat-icon"),a(3,"arrow_drop_down"),i()()),l&2){let o=m(3);n(),p(" ",o.translationService.translate("customerStatus")||"\u062D\u0627\u0644\u0629 \u0627\u0644\u0632\u0628\u0648\u0646"," ")}}function tt(l,r){if(l&1&&(t(0,"td",77)(1,"mat-chip-set")(2,"mat-chip")(3,"mat-icon"),a(4),i(),a(5),i()()()),l&2){let o=r.$implicit,e=m(3);n(2),h(e.getCustomerStatusClass(o.customerStatus)),n(2),d(e.getCustomerStatusIcon(o.customerStatus)),n(),p(" ",o.customerStatus," ")}}function nt(l,r){if(l&1&&(t(0,"th",90),a(1),i()),l&2){let o=m(3);n(),d(o.translationService.translate("actions")||"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A")}}function it(l,r){if(l&1){let o=F();t(0,"td",77)(1,"div",91)(2,"button",92),g("click",function(){let s=T(o).$implicit,u=m(3);return w(u.viewDetails(s))}),t(3,"mat-icon"),a(4,"visibility"),i()(),t(5,"button",93),g("click",function(){let s=T(o).$implicit,u=m(3);return w(u.viewReceipt(s))}),t(6,"mat-icon"),a(7,"receipt"),i()()()()}if(l&2){let o=m(3);n(2),c("matTooltip",P(o.translationService.translate("viewDetails")||"View Details")),n(3),c("matTooltip",P(o.translationService.translate("viewReceipt")||"View Receipt"))}}function at(l,r){l&1&&x(0,"tr",94)}function rt(l,r){l&1&&x(0,"tr",95)}function ot(l,r){if(l&1&&(t(0,"table",61),v(1,62),f(2,$e,4,1,"th",63)(3,je,4,1,"td",64),_(),v(4,65),f(5,Ve,4,1,"th",63)(6,Be,6,1,"td",64),_(),v(7,66),f(8,Ue,4,1,"th",63)(9,We,10,2,"td",64),_(),v(10,67),f(11,qe,4,1,"th",63)(12,Ye,6,1,"td",64),_(),v(13,68),f(14,Ge,4,1,"th",63)(15,Je,6,1,"td",64),_(),v(16,69),f(17,Ke,4,1,"th",63)(18,Qe,4,1,"td",64),_(),v(19,70),f(20,Xe,4,1,"th",63)(21,Ze,6,4,"td",64),_(),v(22,71),f(23,et,4,1,"th",63)(24,tt,6,4,"td",64),_(),v(25,72),f(26,nt,2,1,"th",73)(27,it,8,4,"td",64),_(),f(28,at,1,0,"tr",74)(29,rt,1,0,"tr",75),i()),l&2){let o=m(2);c("dataSource",o.filteredOrders),n(28),c("matHeaderRowDef",o.displayedColumns),n(),c("matRowDefColumns",o.displayedColumns)}}function lt(l,r){if(l&1&&(t(0,"div",96)(1,"mat-icon"),a(2,"inbox"),i(),t(3,"h3"),a(4),i(),t(5,"p"),a(6),i()()),l&2){let o=m(2);n(4),d(o.translationService.translate("noCompletedOrders")||"No Completed Orders"),n(2),d(o.translationService.translate("noCompletedOrdersMessage")||"There are no completed orders to display.")}}function dt(l,r){if(l&1&&(t(0,"div",58),f(1,ot,30,3,"table",59)(2,lt,7,2,"div",60),i()),l&2){let o=m();n(),c("ngIf",o.filteredOrders.length>0),n(),c("ngIf",o.filteredOrders.length===0)}}function st(l,r){if(l&1&&(t(0,"div",97)(1,"div",98)(2,"mat-icon"),a(3),i()(),t(4,"div",99)(5,"div",100),a(6),i(),t(7,"div",101),a(8),i()(),t(9,"div",102)(10,"mat-icon"),a(11),i()()()),l&2){let o=r.$implicit;n(),h(o.type),n(2),d(o.icon),n(3),d(o.title),n(2),d(o.time),n(),h(o.status),n(2),d(o.statusIcon)}}var Re=class l{constructor(r,o){this.dashboardService=r;this.translationService=o}completedOrders=[];filteredOrders=[];displayedColumns=["id","orderTime","customerName","storeName","city","amount","deliveryTimeDifference","customerStatus","actions"];isLoading=!1;error=null;destroy$=new I;pageIndex=0;pageSize=10;totalItems=0;searchTerm="";selectedStatus="";selectedCity="";selectedTimeFilter="day";currentDate=new Date;liveTime="";previousPeriodData={totalCompleted:0,activeCustomers:0,onTimeDeliveries:0,totalRevenue:0};Math=Math;recentActivities=[];ngOnInit(){this.loadCompletedOrders(),this.startLiveTime(),this.loadPreviousPeriodData(),this.loadRecentActivities()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadCompletedOrders(r=1,o=10){this.isLoading=!0,this.error=null,this.dashboardService.getCompletedOrdersByPageAndPageSizeAndSortByAndSortOrder(r,o,"id","desc").pipe(y(this.destroy$)).subscribe({next:e=>{let s=e;this.completedOrders=s?.items||[],this.filteredOrders=[...this.completedOrders],this.totalItems=s?.totalCount||0,console.log("CompletedOrders API result:",e),console.log("Assigned completedOrders:",this.completedOrders),this.isLoading=!1},error:e=>{console.error("Error loading completed orders",e),this.error=this.translationService.translate("loadingError"),this.isLoading=!1}})}refreshData(){this.loadCompletedOrders()}onPageChange(r){this.pageIndex=r.pageIndex,this.pageSize=r.pageSize,this.loadCompletedOrders(this.pageIndex+1,this.pageSize)}formatCurrency(r){return new Intl.NumberFormat("ar-SA",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(r)}getTimeDifferenceClass(r){return r.includes("+")?"time-positive":r.includes("-")?"time-negative":"time-neutral"}getCustomerStatusClass(r){switch(r){case"\u0646\u0634\u064A\u0637":return"status-active";default:return"status-normal"}}getActiveCustomersCount(){return this.completedOrders.filter(r=>r.customerStatus==="\u0646\u0634\u064A\u0637").length}getOnTimeDeliveriesCount(){return this.completedOrders.filter(r=>r.deliveryTimeDifference&&r.deliveryTimeDifference.includes("+")).length}getTotalRevenue(){return this.completedOrders.reduce((r,o)=>r+(o.amount||0),0)}getUniqueCities(){let r=this.completedOrders.map(o=>o.city).filter(o=>!!o);return[...new Set(r)]}applyFilters(){this.filteredOrders=this.completedOrders.filter(r=>{let o=!this.searchTerm||r.customerName?.toLowerCase().includes(this.searchTerm.toLowerCase())||r.storeName?.toLowerCase().includes(this.searchTerm.toLowerCase())||r.id?.toString().includes(this.searchTerm),e=!this.selectedStatus||r.customerStatus===this.selectedStatus,s=!this.selectedCity||r.city===this.selectedCity;return o&&e&&s})}getTimeDifferenceIcon(r){return r.includes("+")?"schedule":r.includes("-")?"warning":"schedule"}getCustomerStatusIcon(r){switch(r){case"\u0646\u0634\u064A\u0637":return"person";default:return"person_outline"}}viewDetails(r){console.log("View details for order:",r)}viewReceipt(r){console.log("View receipt for order:",r)}exportData(){console.log("Export data")}startLiveTime(){this.updateLiveTime(),D(1e3).pipe(y(this.destroy$)).subscribe(()=>this.updateLiveTime())}updateLiveTime(){let r=new Date;this.liveTime=r.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit",second:"2-digit"})}setTimeFilter(r){this.selectedTimeFilter=r,this.loadCompletedOrders()}loadPreviousPeriodData(){this.previousPeriodData={totalCompleted:0,activeCustomers:0,onTimeDeliveries:0,totalRevenue:0}}loadRecentActivities(){this.recentActivities=[]}getTrendPercentage(r,o){return o===0?0:Math.round((r-o)/o*100)}getTrendClass(r){return r>0?"positive":r<0?"negative":"neutral"}getTrendIcon(r){return r>0?"arrow_upward":r<0?"arrow_downward":"trending_flat"}navigateToCurrentDeliveries(){console.log("Navigate to current deliveries")}navigateToCancelledOrders(){console.log("Navigate to cancelled orders")}navigateToOverview(){console.log("Navigate to overview")}navigateToRestaurants(){console.log("Navigate to restaurants")}getCustomerDisplayName(r){return r.customerName&&r.customerName.match(/^\d/)?`\u0639\u0645\u064A\u0644 ${r.customerName.slice(-4)}`:r.customerName||"\u0639\u0645\u064A\u0644 \u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}static \u0275fac=function(o){return new(o||l)(E(be),E(le))};static \u0275cmp=A({type:l,selectors:[["app-completed-orders"]],decls:173,vars:104,consts:[[1,"completed-orders-container"],[1,"page-header"],[1,"header-content"],[1,"header-info"],[1,"header-subtitle"],[1,"date-time-section"],[1,"current-time"],[1,"live-time",3,"innerHTML"],[1,"header-actions"],["mat-icon-button","",1,"refresh-btn",3,"click","disabled"],["mat-raised-button","","color","primary",1,"export-btn",3,"click"],[1,"time-filters-section"],[1,"time-filters"],["mat-button","",1,"filter-btn",3,"click"],[1,"stats-section"],[1,"stat-card","total-orders"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-change"],[1,"stat-label"],[1,"progress-bar"],[1,"progress-fill"],[1,"stat-card","active-customers"],[1,"progress-fill","success"],[1,"stat-card","on-time-deliveries"],[1,"progress-fill","info"],[1,"stat-card","total-revenue"],[1,"progress-fill","warning"],[1,"filters-section"],[1,"filter-group"],["appearance","outline",1,"filter-field"],["matInput","",3,"ngModelChange","input","ngModel","placeholder"],["matSuffix",""],[3,"ngModelChange","selectionChange","ngModel"],["value",""],["value","\u0646\u0634\u064A\u0637"],["value","\u0639\u0627\u062F\u064A"],[3,"value",4,"ngFor","ngForOf"],[1,"data-card"],[1,"card-header"],["mat-card-avatar","",1,"completed-icon"],[1,"count-badge"],["class","loading-container",4,"ngIf"],["class","table-container",4,"ngIf"],["showFirstLastButtons","",3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"quick-actions-section"],[1,"section-title"],[1,"quick-actions-grid"],["mat-raised-button","","color","primary",1,"action-btn",3,"click"],["mat-raised-button","","color","accent",1,"action-btn",3,"click"],["mat-raised-button","","color","warn",1,"action-btn",3,"click"],["mat-raised-button","",1,"action-btn",3,"click"],[1,"recent-activity-section"],[1,"activity-list"],["class","activity-item",4,"ngFor","ngForOf"],[3,"value"],[1,"loading-container"],[1,"table-container"],["mat-table","","class","completed-orders-table",3,"dataSource",4,"ngIf"],["class","empty-state",4,"ngIf"],["mat-table","",1,"completed-orders-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","class","sortable-header",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","orderTime"],["matColumnDef","customerName"],["matColumnDef","storeName"],["matColumnDef","city"],["matColumnDef","amount"],["matColumnDef","deliveryTimeDifference"],["matColumnDef","customerStatus"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","order-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"sortable-header"],["mat-cell",""],[1,"order-id-cell"],[1,"order-id"],[1,"time-cell"],[1,"customer-cell"],[1,"customer-avatar"],[1,"customer-info"],[1,"customer-name"],[1,"customer-phone"],[1,"store-cell"],[1,"location-cell"],[1,"amount-cell"],[1,"amount-value"],["mat-header-cell",""],[1,"action-buttons"],["mat-icon-button","",1,"action-btn","view-btn",3,"click","matTooltip"],["mat-icon-button","",1,"action-btn","receipt-btn",3,"click","matTooltip"],["mat-header-row",""],["mat-row","",1,"order-row"],[1,"empty-state"],[1,"activity-item"],[1,"activity-icon"],[1,"activity-content"],[1,"activity-title"],[1,"activity-time"],[1,"activity-status"]],template:function(o,e){o&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),a(5),i(),t(6,"p",4),a(7),i()(),t(8,"div",5)(9,"div",6)(10,"mat-icon"),a(11,"schedule"),i(),t(12,"span"),a(13),N(14,"date"),i()(),x(15,"div",7),i(),t(16,"div",8)(17,"button",9),g("click",function(){return e.refreshData()}),t(18,"mat-icon"),a(19,"refresh"),i()(),t(20,"button",10),g("click",function(){return e.exportData()}),t(21,"mat-icon"),a(22,"download"),i(),a(23),i()()()(),t(24,"div",11)(25,"div",12)(26,"button",13),g("click",function(){return e.setTimeFilter("day")}),t(27,"mat-icon"),a(28,"today"),i(),a(29),i(),t(30,"button",13),g("click",function(){return e.setTimeFilter("week")}),t(31,"mat-icon"),a(32,"date_range"),i(),a(33),i(),t(34,"button",13),g("click",function(){return e.setTimeFilter("month")}),t(35,"mat-icon"),a(36,"calendar_month"),i(),a(37),i(),t(38,"button",13),g("click",function(){return e.setTimeFilter("custom")}),t(39,"mat-icon"),a(40,"tune"),i(),a(41),i()()(),t(42,"div",14)(43,"div",15)(44,"div",16)(45,"mat-icon"),a(46,"check_circle"),i()(),t(47,"div",17)(48,"div",18),a(49),i(),t(50,"div",19)(51,"mat-icon"),a(52),i(),t(53,"span"),a(54),i()(),t(55,"div",20),a(56),i()(),t(57,"div",21),x(58,"div",22),i()(),t(59,"div",23)(60,"div",16)(61,"mat-icon"),a(62,"people"),i()(),t(63,"div",17)(64,"div",18),a(65),i(),t(66,"div",19)(67,"mat-icon"),a(68),i(),t(69,"span"),a(70),i()(),t(71,"div",20),a(72),i()(),t(73,"div",21),x(74,"div",24),i()(),t(75,"div",25)(76,"div",16)(77,"mat-icon"),a(78,"schedule"),i()(),t(79,"div",17)(80,"div",18),a(81),i(),t(82,"div",19)(83,"mat-icon"),a(84),i(),t(85,"span"),a(86),i()(),t(87,"div",20),a(88),i()(),t(89,"div",21),x(90,"div",26),i()(),t(91,"div",27)(92,"div",16)(93,"mat-icon"),a(94,"attach_money"),i()(),t(95,"div",17)(96,"div",18),a(97),i(),t(98,"div",19)(99,"mat-icon"),a(100),i(),t(101,"span"),a(102),i()(),t(103,"div",20),a(104),i()(),t(105,"div",21),x(106,"div",28),i()()(),t(107,"div",29)(108,"div",30)(109,"mat-form-field",31)(110,"mat-label"),a(111),i(),t(112,"input",32),M("ngModelChange",function(u){return S(e.searchTerm,u)||(e.searchTerm=u),u}),g("input",function(){return e.applyFilters()}),i(),t(113,"mat-icon",33),a(114,"search"),i()(),t(115,"mat-form-field",31)(116,"mat-label"),a(117),i(),t(118,"mat-select",34),M("ngModelChange",function(u){return S(e.selectedStatus,u)||(e.selectedStatus=u),u}),g("selectionChange",function(){return e.applyFilters()}),t(119,"mat-option",35),a(120),i(),t(121,"mat-option",36),a(122),i(),t(123,"mat-option",37),a(124),i()()(),t(125,"mat-form-field",31)(126,"mat-label"),a(127),i(),t(128,"mat-select",34),M("ngModelChange",function(u){return S(e.selectedCity,u)||(e.selectedCity=u),u}),g("selectionChange",function(){return e.applyFilters()}),t(129,"mat-option",35),a(130),i(),f(131,Le,2,2,"mat-option",38),i()()()(),t(132,"mat-card",39)(133,"mat-card-header",40)(134,"mat-icon",41),a(135,"check_circle"),i(),t(136,"mat-card-title"),a(137),i(),t(138,"div",42),a(139),i()(),t(140,"mat-card-content"),f(141,He,4,1,"div",43)(142,dt,3,2,"div",44),t(143,"mat-paginator",45),g("page",function(u){return e.onPageChange(u)}),i()()()(),t(144,"div",46)(145,"h3",47),a(146),i(),t(147,"div",48)(148,"button",49),g("click",function(){return e.navigateToCurrentDeliveries()}),t(149,"mat-icon"),a(150,"local_shipping"),i(),t(151,"span"),a(152),i()(),t(153,"button",50),g("click",function(){return e.navigateToCancelledOrders()}),t(154,"mat-icon"),a(155,"cancel"),i(),t(156,"span"),a(157),i()(),t(158,"button",51),g("click",function(){return e.navigateToOverview()}),t(159,"mat-icon"),a(160,"dashboard"),i(),t(161,"span"),a(162),i()(),t(163,"button",52),g("click",function(){return e.navigateToRestaurants()}),t(164,"mat-icon"),a(165,"restaurant"),i(),t(166,"span"),a(167),i()()()(),t(168,"div",53)(169,"h3",47),a(170),i(),t(171,"div",54),f(172,st,12,8,"div",55),i()()),o&2&&(b("rtl",e.translationService.isRTL()),n(5),d(e.translationService.translate("completedOrders")),n(2),d(e.translationService.translate("completedOrdersSubtitle")||"View and analyze successfully delivered orders"),n(6),d(L(14,100,e.currentDate,"EEEE, MMMM d, yyyy")),n(2),c("innerHTML",e.liveTime,k),n(2),c("disabled",e.isLoading),n(),b("spinning",e.isLoading),n(5),p(" ",e.translationService.translate("export")," "),n(3),b("active",e.selectedTimeFilter==="day"),n(3),p(" ",e.translationService.translate("today")," "),n(),b("active",e.selectedTimeFilter==="week"),n(3),p(" ",e.translationService.translate("week")," "),n(),b("active",e.selectedTimeFilter==="month"),n(3),p(" ",e.translationService.translate("month")," "),n(),b("active",e.selectedTimeFilter==="custom"),n(3),p(" ",e.translationService.translate("custom")," "),n(2),c("@slideInUp",void 0),n(6),d(e.completedOrders.length),n(),h(e.getTrendClass(e.getTrendPercentage(e.completedOrders.length,e.previousPeriodData.totalCompleted))),n(2),d(e.getTrendIcon(e.getTrendPercentage(e.completedOrders.length,e.previousPeriodData.totalCompleted))),n(2),p("",e.getTrendPercentage(e.completedOrders.length,e.previousPeriodData.totalCompleted),"%"),n(2),d(e.translationService.translate("totalCompleted")||"Total Completed"),n(2),C("width",e.Math.min(e.completedOrders.length/100*100,100),"%"),n(),C("animation-delay","0.1s"),c("@slideInUp",void 0),n(6),d(e.getActiveCustomersCount()),n(),h(e.getTrendClass(e.getTrendPercentage(e.getActiveCustomersCount(),e.previousPeriodData.activeCustomers))),n(2),d(e.getTrendIcon(e.getTrendPercentage(e.getActiveCustomersCount(),e.previousPeriodData.activeCustomers))),n(2),p("",e.getTrendPercentage(e.getActiveCustomersCount(),e.previousPeriodData.activeCustomers),"%"),n(2),d(e.translationService.translate("activeCustomers")||"Active Customers"),n(2),C("width",e.completedOrders.length>0?e.getActiveCustomersCount()/e.completedOrders.length*100:0,"%"),n(),C("animation-delay","0.2s"),c("@slideInUp",void 0),n(6),d(e.getOnTimeDeliveriesCount()),n(),h(e.getTrendClass(e.getTrendPercentage(e.getOnTimeDeliveriesCount(),e.previousPeriodData.onTimeDeliveries))),n(2),d(e.getTrendIcon(e.getTrendPercentage(e.getOnTimeDeliveriesCount(),e.previousPeriodData.onTimeDeliveries))),n(2),p("",e.getTrendPercentage(e.getOnTimeDeliveriesCount(),e.previousPeriodData.onTimeDeliveries),"%"),n(2),d(e.translationService.translate("onTimeDeliveries")||"On-Time Deliveries"),n(2),C("width",e.completedOrders.length>0?e.getOnTimeDeliveriesCount()/e.completedOrders.length*100:0,"%"),n(),C("animation-delay","0.3s"),c("@slideInUp",void 0),n(6),d(e.formatCurrency(e.getTotalRevenue())),n(),h(e.getTrendClass(e.getTrendPercentage(e.getTotalRevenue(),e.previousPeriodData.totalRevenue))),n(2),d(e.getTrendIcon(e.getTrendPercentage(e.getTotalRevenue(),e.previousPeriodData.totalRevenue))),n(2),p("",e.getTrendPercentage(e.getTotalRevenue(),e.previousPeriodData.totalRevenue),"%"),n(2),d(e.translationService.translate("totalRevenue")||"Total Revenue"),n(2),C("width",e.Math.min(e.getTotalRevenue()/2e5*100,100),"%"),n(5),d(e.translationService.translate("search")),n(),c("placeholder",P(e.translationService.translate("searchPlaceholder")||"Search orders...")),O("ngModel",e.searchTerm),n(5),d(e.translationService.translate("status")),n(),O("ngModel",e.selectedStatus),n(2),d(e.translationService.translate("allStatuses")||"All Statuses"),n(2),d(e.translationService.translate("active")||"Active"),n(2),d(e.translationService.translate("normal")||"Normal"),n(3),d(e.translationService.translate("city")),n(),O("ngModel",e.selectedCity),n(2),d(e.translationService.translate("allCities")||"All Cities"),n(),c("ngForOf",e.getUniqueCities()),n(6),d(e.translationService.translate("completedOrders")),n(2),d(e.filteredOrders.length),n(2),c("ngIf",e.isLoading),n(),c("ngIf",!e.isLoading),n(),c("length",e.totalItems)("pageIndex",e.pageIndex)("pageSize",e.pageSize)("pageSizeOptions",R(103,Ne)),z("dir",e.translationService.isRTL()?"rtl":"ltr")("aria-label",e.translationService.translate("pagination")),n(),C("animation-delay","1.4s"),c("@slideInUp",void 0),n(2),d(e.translationService.translate("dashboard.quickActions")||"\u0625\u062C\u0631\u0627\u0621\u0627\u062A \u0633\u0631\u064A\u0639\u0629"),n(6),d(e.translationService.translate("dashboard.viewCurrentDeliveries")||"\u0639\u0631\u0636 \u0627\u0644\u062A\u0648\u0635\u064A\u0644\u0627\u062A \u0627\u0644\u062D\u0627\u0644\u064A\u0629"),n(5),d(e.translationService.translate("dashboard.viewCancelledOrders")||"\u0639\u0631\u0636 \u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0627\u0644\u0645\u0644\u063A\u064A\u0629"),n(5),d(e.translationService.translate("dashboard.viewOverview")||"\u0639\u0631\u0636 \u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645"),n(5),d(e.translationService.translate("dashboard.manageRestaurants")||"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0637\u0627\u0639\u0645"),n(),C("animation-delay","1.5s"),c("@slideInUp",void 0),n(2),d(e.translationService.translate("dashboard.recentActivity")||"\u0627\u0644\u0646\u0634\u0627\u0637 \u0627\u0644\u0623\u062E\u064A\u0631"),n(2),c("ngForOf",e.recentActivities))},dependencies:[V,H,$,j,K,Y,G,J,ke,Oe,Me,we,Pe,Se,Ee,ye,Te,Ie,De,oe,re,ue,de,pe,ce,me,se,_e,ve,ae,ie,ne,xe,Ce,Fe,Ae,ze,Q,q,U,W,fe,ge,Z,X,B,te,ee],styles:['.completed-orders-container[_ngcontent-%COMP%]{padding:20px;font-family:Cairo,sans-serif;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);min-height:100vh}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 8px 32px #0000001a}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px}.header-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;color:#fff;font-size:32px;font-weight:700}.header-subtitle[_ngcontent-%COMP%]{color:#ffffffe6;font-size:16px;margin:0}.date-time-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:8px}.current-time[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#ffffffe6;font-size:14px}.live-time[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#fff;font-family:Courier New,monospace}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.refresh-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3)}.refresh-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.export-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3)}.export-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.time-filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:20px;margin-bottom:24px;box-shadow:0 4px 20px #00000014}.time-filters[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;justify-content:center}.filter-btn[_ngcontent-%COMP%]{border-radius:12px;padding:12px 20px;font-weight:500;display:flex;align-items:center;gap:8px;transition:all .3s ease;border:2px solid transparent}.filter-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.filter-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff;border-color:#4facfe}.stats-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:24px}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 4px 20px #00000014;display:flex;align-items:center;gap:16px;transition:transform .3s ease,box-shadow .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 32px #0000001f}.stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:24px;color:#fff}.total-orders[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.active-customers[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.on-time-deliveries[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a8edea,#fed6e3)}.total-revenue[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-value[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#2c3e50;margin-bottom:4px}.stat-label[_ngcontent-%COMP%]{font-size:14px;color:#7f8c8d;font-weight:500}.stat-change[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:12px;font-weight:600;margin-bottom:4px}.stat-change.positive[_ngcontent-%COMP%]{color:#27ae60}.stat-change.negative[_ngcontent-%COMP%]{color:#e74c3c}.stat-change.neutral[_ngcontent-%COMP%]{color:#7f8c8d}.progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;background:#ecf0f1;border-radius:2px;overflow:hidden;margin-top:12px}.progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(135deg,#4facfe,#00f2fe);border-radius:2px;transition:width .3s ease}.progress-fill.success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.progress-fill.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.progress-fill.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a8edea,#fed6e3)}.quick-actions-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 4px 20px #00000014}.section-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#2c3e50;margin:0 0 20px;text-align:center}.quick-actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.action-btn[_ngcontent-%COMP%]{border-radius:12px;padding:16px 20px;font-weight:500;display:flex;align-items:center;gap:12px;transition:all .3s ease;min-height:60px}.action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #00000026}.action-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px!important;width:20px!important;height:20px!important;display:inline-block!important;vertical-align:middle!important;line-height:1!important;font-family:Material Icons!important;font-weight:400!important;font-style:normal!important;text-transform:none!important;letter-spacing:normal!important;word-wrap:normal!important;white-space:nowrap!important;direction:ltr!important;-webkit-font-smoothing:antialiased!important;text-rendering:optimizeLegibility!important;-moz-osx-font-smoothing:grayscale!important;font-feature-settings:"liga"!important;opacity:1!important;visibility:visible!important}.recent-activity-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 4px 20px #00000014}.activity-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.activity-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;background:#f8f9fa;border-radius:12px;transition:all .3s ease}.activity-item[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translate(4px)}.activity-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.activity-icon.order[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.activity-icon.delivery[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.activity-icon.customer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.activity-icon.revenue[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a8edea,#fed6e3)}.activity-content[_ngcontent-%COMP%]{flex:1}.activity-title[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;margin-bottom:4px}.activity-time[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d}.activity-status[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:16px}.activity-status.completed[_ngcontent-%COMP%]{background:#27ae60}.activity-status.positive[_ngcontent-%COMP%]{background:#3498db}.activity-status.success[_ngcontent-%COMP%]{background:#2ecc71}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 4px 20px #00000014}.filter-group[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap;align-items:center}.filter-field[_ngcontent-%COMP%]{min-width:200px;flex:1}.data-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 20px #00000014;overflow:hidden}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff;padding:20px 24px;display:flex;align-items:center;gap:16px}.completed-icon[_ngcontent-%COMP%]{background:#fff3;color:#fff}.count-badge[_ngcontent-%COMP%]{background:#fff3;color:#fff;padding:4px 12px;border-radius:20px;font-size:14px;font-weight:600;margin-left:auto}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.completed-orders-table[_ngcontent-%COMP%]{width:100%;background:#fff;border-collapse:collapse}.sortable-header[_ngcontent-%COMP%]{background:#f8f9fa!important;font-weight:600;color:#495057;padding:16px 12px;text-align:left!important;border-bottom:2px solid #dee2e6;cursor:pointer;transition:all .3s ease;white-space:nowrap;display:table-cell!important;vertical-align:middle!important}.sortable-header[_ngcontent-%COMP%]:hover{background:#e9ecef}.sortable-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:8px;font-size:18px;opacity:.6;vertical-align:middle}.order-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.order-id-cell[_ngcontent-%COMP%]{display:flex;align-items:center}.order-id[_ngcontent-%COMP%]{font-weight:600;color:#4facfe}.time-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.customer-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.customer-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#4facfe,#00f2fe);display:flex;align-items:center;justify-content:center;color:#fff}.customer-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.customer-name[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.customer-phone[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d}.store-cell[_ngcontent-%COMP%], .location-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.amount-cell[_ngcontent-%COMP%]{text-align:right}.amount-value[_ngcontent-%COMP%]{font-weight:600;color:#27ae60}.status-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff}.status-normal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a8edea,#fed6e3);color:#2c3e50}.time-positive[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff}.time-negative[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff}.time-neutral[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffecd2,#fcb69f);color:#2c3e50}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.action-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px}.view-btn[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.receipt-btn[_ngcontent-%COMP%]{background:#e8f5e8;color:#388e3c}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;gap:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#7f8c8d}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px;color:#bdc3c7}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#2c3e50}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.rtl[_ngcontent-%COMP%]{direction:rtl}.rtl[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .customer-cell[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .store-cell[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .location-cell[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:row-reverse}@media (max-width: 768px){.completed-orders-container[_ngcontent-%COMP%]{padding:12px}.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.stats-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.filter-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filter-field[_ngcontent-%COMP%]{min-width:unset}.completed-orders-table[_ngcontent-%COMP%]{font-size:14px}.customer-cell[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:4px}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:16px}.header-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.stat-card[_ngcontent-%COMP%]{padding:16px}.stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;font-size:20px}.stat-value[_ngcontent-%COMP%]{font-size:24px}}'],data:{animation:[he]}})};export{Re as CompletedOrdersComponent};
