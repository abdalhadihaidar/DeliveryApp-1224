import{a as U}from"./chunk-M7PHK4OQ.js";import"./chunk-W345M3QW.js";import{a as K,b as Q}from"./chunk-SBN3BR4S.js";import"./chunk-YZHQBPKS.js";import{b as $,c as ee}from"./chunk-5QG37IKZ.js";import{c as O,e as I,f as w,h as y,k as L,l as z,m as A,n as D}from"./chunk-4QNLZ27S.js";import"./chunk-QI4NFHPB.js";import{a as W,c as X,e as Y,g as Z}from"./chunk-VE33HBPU.js";import{a as ie,b as oe}from"./chunk-RKVGNEAU.js";import{a as te,b as ne}from"./chunk-YYCZXRKQ.js";import{b}from"./chunk-YG2AVUDB.js";import{$a as H,Da as E,Fa as v,Ha as F,Ia as k,Ma as B,Pa as T,Qa as N,Ta as q,Va as R,Xa as j,Ya as G,Za as V,ab as J,h as S,n as P}from"./chunk-F6AVZLPP.js";import{Sb as m,Tb as n,Ub as i,Vb as u,cc as x,dc as g,fb as t,kb as c,pc as h,rb as C,rc as r,sc as p,tc as _,xb as f}from"./chunk-PBCT4LDD.js";function re(o,l){if(o&1&&(n(0,"mat-error"),r(1),i()),o&2){let a=g();t(),_(" ",a.translationService.translate("emailRequired")," ")}}function le(o,l){if(o&1&&(n(0,"mat-error"),r(1),i()),o&2){let a=g();t(),_(" ",a.translationService.translate("emailInvalid")," ")}}function me(o,l){if(o&1&&(n(0,"mat-error"),r(1),i()),o&2){let a=g();t(),_(" ",a.translationService.translate("passwordRequired")," ")}}function pe(o,l){o&1&&u(0,"mat-spinner",20)}function se(o,l){if(o&1&&(n(0,"span"),r(1),i()),o&2){let a=g();t(),p(a.translationService.translate("login"))}}var ae=class o{constructor(l,a,e,s,d){this.fb=l;this.router=a;this.apiService=e;this.translationService=s;this.snackBar=d;this.loginForm=this.fb.group({email:["",[v.required,v.email]],password:["",[v.required]]})}loginForm;isLoading=!1;hidePassword=!0;isProduction=!1;ngOnInit(){this.apiService.isAuthenticated()&&this.router.navigate(["/dashboard"])}onSubmit(){if(this.loginForm.valid&&!this.isLoading){this.isLoading=!0;let{email:l,password:a}=this.loginForm.value;this.apiService.login(l,a).subscribe({next:e=>{this.snackBar.open(this.translationService.translate("loginSuccess"),"",{duration:3e3}),this.router.navigate(["/dashboard"]),this.isLoading=!1},error:e=>{this.snackBar.open(this.translationService.translate("loginError"),"",{duration:3e3}),this.isLoading=!1}})}}changeLanguage(l){this.translationService.setLanguage(l),document.documentElement.dir=l==="ar"?"rtl":"ltr",document.documentElement.lang=l}static \u0275fac=function(a){return new(a||o)(c(R),c(b),c(U),c(J),c(K))};static \u0275cmp=C({type:o,selectors:[["app-login"]],decls:39,vars:18,consts:[[1,"login-container"],[1,"login-card-wrapper"],[1,"login-card"],[1,"login-header"],[1,"logo-section"],[1,"app-logo"],[1,"language-selector"],["appearance","outline"],[3,"selectionChange","value"],["value","ar"],["value","en"],[1,"login-form",3,"ngSubmit","formGroup"],["appearance","outline",1,"full-width"],["matInput","","type","email","formControlName","email","required",""],["matSuffix",""],[4,"ngIf"],["matInput","","formControlName","password","required","",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"login-button","full-width",3,"disabled"],["diameter","20",4,"ngIf"],["diameter","20"]],template:function(a,e){if(a&1&&(n(0,"div",0)(1,"div",1)(2,"mat-card",2)(3,"mat-card-header",3)(4,"div",4)(5,"mat-icon",5),r(6,"restaurant"),i(),n(7,"h1"),r(8),i()(),n(9,"div",6)(10,"mat-form-field",7)(11,"mat-label"),r(12),i(),n(13,"mat-select",8),x("selectionChange",function(d){return e.changeLanguage(d.value)}),n(14,"mat-option",9),r(15),i(),n(16,"mat-option",10),r(17),i()()()()(),n(18,"mat-card-content")(19,"form",11),x("ngSubmit",function(){return e.onSubmit()}),n(20,"mat-form-field",12)(21,"mat-label"),r(22),i(),u(23,"input",13),n(24,"mat-icon",14),r(25,"email"),i(),f(26,re,2,1,"mat-error",15)(27,le,2,1,"mat-error",15),i(),n(28,"mat-form-field",12)(29,"mat-label"),r(30),i(),u(31,"input",16),n(32,"button",17),x("click",function(){return e.hidePassword=!e.hidePassword}),n(33,"mat-icon"),r(34),i()(),f(35,me,2,1,"mat-error",15),i(),n(36,"button",18),f(37,pe,1,0,"mat-spinner",19)(38,se,2,1,"span",15),i()()()()()()),a&2){let s,d,M;h("rtl",e.translationService.isRTL()),t(8),p(e.translationService.translate("deliveryDashboard")),t(4),p(e.translationService.translate("language")),t(),m("value",e.translationService.getCurrentLanguage()),t(2),p(e.translationService.translate("arabic")||"\u0627\u0644\u0639\u0631\u0628\u064A\u0629"),t(2),p(e.translationService.translate("english")||"English"),t(2),m("formGroup",e.loginForm),t(3),p(e.translationService.translate("email")),t(4),m("ngIf",(s=e.loginForm.get("email"))==null?null:s.hasError("required")),t(),m("ngIf",(d=e.loginForm.get("email"))==null?null:d.hasError("email")),t(3),p(e.translationService.translate("password")),t(),m("type",e.hidePassword?"password":"text"),t(3),p(e.hidePassword?"visibility_off":"visibility"),t(),m("ngIf",(M=e.loginForm.get("password"))==null?null:M.hasError("required")),t(),m("disabled",e.loginForm.invalid||e.isLoading),t(),m("ngIf",e.isLoading),t(),m("ngIf",!e.isLoading)}},dependencies:[P,S,j,B,E,F,k,q,T,N,Z,W,X,Y,z,L,I,w,y,ee,$,H,V,G,ne,te,oe,ie,Q,D,A,O],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);font-family:Cairo,sans-serif;padding:20px}.login-card-wrapper[_ngcontent-%COMP%]{width:100%;max-width:450px}.login-card[_ngcontent-%COMP%]{padding:0;border-radius:16px;box-shadow:0 20px 40px #0000001a}.login-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9800,#f57c00);color:#fff;padding:30px 24px 24px;border-radius:16px 16px 0 0;display:flex;justify-content:space-between;align-items:center;gap:12px}.logo-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.app-logo[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600;letter-spacing:.5px}.language-selector[_ngcontent-%COMP%]{min-width:120px;margin-left:8px}.language-selector[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.language-selector[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{background-color:#ffffff1a}.language-selector[_ngcontent-%COMP%]   .mat-mdc-form-field-label[_ngcontent-%COMP%]{color:#fffc}.language-selector[_ngcontent-%COMP%]   .mat-mdc-select-value[_ngcontent-%COMP%], .language-selector[_ngcontent-%COMP%]   .mat-mdc-select-arrow[_ngcontent-%COMP%]{color:#fff}.login-form[_ngcontent-%COMP%]{padding:40px 32px 32px;display:flex;flex-direction:column;gap:20px}.full-width[_ngcontent-%COMP%]{width:100%}.login-button[_ngcontent-%COMP%]{height:48px;font-size:16px;font-weight:600;margin-top:10px;letter-spacing:.5px}.demo-credentials[_ngcontent-%COMP%]{margin-top:30px;padding:20px 24px;background-color:#f5f5f5;border-radius:8px;border-top:1px solid #e0e0e0;box-shadow:0 2px 8px #00000008}.demo-credentials[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;color:#666;font-size:14px;font-weight:600;letter-spacing:.2px}.credential-item[_ngcontent-%COMP%]{margin-bottom:8px;font-size:13px;color:#666;display:flex;align-items:center;gap:8px}.credential-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#333;margin-left:8px;min-width:70px;text-align:left}.rtl[_ngcontent-%COMP%]{direction:rtl}.rtl[_ngcontent-%COMP%]   .login-header[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{flex-direction:row-reverse}.rtl[_ngcontent-%COMP%]   .credential-item[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{margin-left:0;margin-right:8px;text-align:right}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{padding:10px}.login-header[_ngcontent-%COMP%]{flex-direction:column;gap:20px;text-align:center;padding:24px 12px 12px}.login-form[_ngcontent-%COMP%]{padding:30px 12px 12px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}}"]})};export{ae as LoginComponent};
