import{a as i}from"./chunk-SBN3BR4S.js";import{c}from"./chunk-YZHQBPKS.js";import{h as s,ha as a,la as n}from"./chunk-PBCT4LDD.js";var l=class o{constructor(r,e){this.snackBar=r;this.dialog=e}translate(r){return{errorNoInternetConnection:"No internet connection",errorValidationError:"Validation error",errorUnauthorized:"Unauthorized access",errorForbidden:"Access forbidden",errorNotFound:"Resource not found",errorConnectionTimeout:"Connection timeout",errorServerError:"Server error",errorNetworkError:"Network error",operationCompletedSuccessfully:"Operation completed successfully"}[r]||r}getLocalizedErrorMessage(r){let e=this.extractBackendMessage(r);return e||this.getFallbackErrorMessage(r)}extractBackendMessage(r){if(r.error){let e=["message","error","errorMessage","detail","details"];for(let t of e)if(r.error[t])return r.error[t];if(typeof r.error=="string")return r.error}return null}getFallbackErrorMessage(r){switch(r.status){case 0:return this.translate("errorNoInternetConnection");case 400:return this.translate("errorValidationError");case 401:return this.translate("errorUnauthorized");case 403:return this.translate("errorForbidden");case 404:return this.translate("errorNotFound");case 408:return this.translate("errorConnectionTimeout");case 500:case 502:case 503:case 504:return this.translate("errorServerError");default:return this.translate("errorNetworkError")}}getLocalizedSuccessMessage(r){return r&&r.message?r.message:this.translate("operationCompletedSuccessfully")||"Operation completed successfully"}getErrorCodeMessage(r){let t={USER_EXISTS:"errorUserExists",USER_EXISTS_PHONE:"errorUserExistsPhone",INVALID_CREDENTIALS:"errorInvalidCredentials",EMAIL_VERIFICATION_FAILED:"errorEmailVerificationFailed",PHONE_VERIFICATION_FAILED:"errorPhoneVerificationFailed",PASSWORD_RESET_FAILED:"errorPasswordResetFailed",PASSWORD_CHANGE_FAILED:"errorPasswordChangeFailed",TOKEN_REFRESH_FAILED:"errorTokenRefreshFailed",LOGOUT_FAILED:"errorLogoutFailed",ACCOUNT_PENDING:"errorAccountPending",ACCOUNT_REJECTED:"errorAccountRejected",ACCOUNT_NOT_APPROVED:"errorAccountNotApproved",WEBHOOK_PROCESSING_FAILED:"errorWebhookProcessingFailed",GEOCODING_FAILED:"errorGeocodingFailed",USER_ID_NOT_FOUND:"errorUserIdNotFound",INVALID_TOKEN:"errorInvalidToken",INVALID_ORDER_STATUS:"errorInvalidOrderStatus",ORDER_EXPIRED:"errorOrderExpired",PAYMENT_FAILED:"errorPaymentFailed",CANCELLED_BY_CUSTOMER:"errorCancelledByCustomer"}[r];return t?this.translate(t):this.translate("errorServerError")}showErrorMessage(r,e=5e3){this.snackBar.open(r,"Close",{duration:e,panelClass:["error-snackbar"],horizontalPosition:"end",verticalPosition:"top"})}showSuccessMessage(r,e=3e3){this.snackBar.open(r,"Close",{duration:e,panelClass:["success-snackbar"],horizontalPosition:"end",verticalPosition:"top"})}showInfoMessage(r,e=4e3){this.snackBar.open(r,"Close",{duration:e,panelClass:["info-snackbar"],horizontalPosition:"end",verticalPosition:"top"})}showConfirmation(r){return s(this,null,function*(){return confirm(`${r.title}

${r.message}`)})}showPrompt(r){return s(this,null,function*(){return prompt(`${r.title}

${r.message}`,r.placeholder||"")})}static \u0275fac=function(e){return new(e||o)(n(i),n(c))};static \u0275prov=a({token:o,factory:o.\u0275fac,providedIn:"root"})};export{l as a};
