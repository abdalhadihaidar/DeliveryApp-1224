import{b as we,d as Ie,f as Ee}from"./chunk-GURXHOCJ.js";import{a as fe,b as Ce,c as xe,d as he,e as ve,f as Oe,g as Me,h as be,i as Pe,j as Se,k as ye}from"./chunk-66EBL4AI.js";import{b as ee,c as te}from"./chunk-BHUWSNYL.js";import{b as de,c as se}from"./chunk-5QG37IKZ.js";import{c as N,e as H,h as B,k as V,l as U,m as Y,n as G}from"./chunk-4QNLZ27S.js";import"./chunk-F5X5MWHG.js";import{a as J,b as K}from"./chunk-H6HE4MHR.js";import"./chunk-QI4NFHPB.js";import{a as _e}from"./chunk-UMVVOU4F.js";import"./chunk-3XTS6IX6.js";import{a as ae,b as ie,c as re,e as oe,f as le,g as ce}from"./chunk-VE33HBPU.js";import{a as ue,b as ge}from"./chunk-RKVGNEAU.js";import{a as me,b as pe}from"./chunk-YYCZXRKQ.js";import"./chunk-YG2AVUDB.js";import{$a as Z,Da as j,Ha as W,La as $,Wa as q,Ya as Q,Za as X,ab as ne,g as R,h as L,n as F}from"./chunk-F6AVZLPP.js";import{Ac as b,Dc as A,Mb as z,Sb as p,Tb as e,Ub as o,Vb as h,Wb as _,Xb as f,Zb as k,ba as T,cc as C,dc as s,fb as l,kb as y,n as E,pc as w,qc as I,rb as D,rc as i,sa as P,sc as c,ta as S,tc as g,xb as u,xc as v,yc as O,zc as M}from"./chunk-PBCT4LDD.js";var De=()=>[10,25,50];function ze(n,a){if(n&1&&(e(0,"mat-option",36),i(1),o()),n&2){let t=a.$implicit;p("value",t),l(),c(t)}}function ke(n,a){if(n&1&&(e(0,"div",37),h(1,"mat-spinner"),e(2,"p"),i(3),o()()),n&2){let t=s();l(3),c(t.translationService.translate("loading")||"Loading...")}}function Ae(n,a){if(n&1&&(e(0,"th",56),i(1),e(2,"mat-icon"),i(3,"arrow_drop_down"),o()()),n&2){let t=s(3);l(),g(" ",t.translationService.translate("orderId")||"\u0627\u0644\u0631\u0642\u0645"," ")}}function Re(n,a){if(n&1&&(e(0,"td",57)(1,"div",58)(2,"span",59),i(3),o()()()),n&2){let t=a.$implicit;l(3),g("#",t.id)}}function Le(n,a){if(n&1&&(e(0,"th",56),i(1),e(2,"mat-icon"),i(3,"arrow_drop_down"),o()()),n&2){let t=s(3);l(),g(" ",t.translationService.translate("orderTime")||"\u0648\u0642\u062A \u0627\u0644\u0637\u0644\u0628"," ")}}function Fe(n,a){if(n&1&&(e(0,"td",57)(1,"div",60)(2,"mat-icon"),i(3,"schedule"),o(),e(4,"span"),i(5),o()()()),n&2){let t=a.$implicit;l(5),c(t.orderTime)}}function Ne(n,a){if(n&1&&(e(0,"th",56),i(1),e(2,"mat-icon"),i(3,"arrow_drop_down"),o()()),n&2){let t=s(3);l(),g(" ",t.translationService.translate("customerName")||"\u0627\u0633\u0645 \u0627\u0644\u0632\u0628\u0648\u0646"," ")}}function He(n,a){if(n&1&&(e(0,"td",57)(1,"div",61)(2,"div",62)(3,"mat-icon"),i(4,"person"),o()(),e(5,"div",63)(6,"span",64),i(7),o(),e(8,"span",65),i(9),o()()()()),n&2){let t=a.$implicit;l(7),c(t.customerName||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),l(2),c(t.customerPhoneNumber)}}function Be(n,a){if(n&1&&(e(0,"th",56),i(1),e(2,"mat-icon"),i(3,"arrow_drop_down"),o()()),n&2){let t=s(3);l(),g(" ",t.translationService.translate("storeName")||"\u0627\u0644\u0645\u062A\u062C\u0631"," ")}}function Ve(n,a){if(n&1&&(e(0,"td",57)(1,"div",66)(2,"mat-icon"),i(3,"store"),o(),e(4,"span"),i(5),o()()()),n&2){let t=a.$implicit;l(5),c(t.storeName)}}function je(n,a){if(n&1&&(e(0,"th",56),i(1),e(2,"mat-icon"),i(3,"arrow_drop_down"),o()()),n&2){let t=s(3);l(),g(" ",t.translationService.translate("city")||"\u0627\u0644\u0645\u062F\u064A\u0646\u0629"," ")}}function We(n,a){if(n&1&&(e(0,"td",57)(1,"div",67)(2,"mat-icon"),i(3,"location_on"),o(),e(4,"span"),i(5),o()()()),n&2){let t=a.$implicit;l(5),c(t.city)}}function $e(n,a){if(n&1&&(e(0,"th",56),i(1),e(2,"mat-icon"),i(3,"arrow_drop_down"),o()()),n&2){let t=s(3);l(),g(" ",t.translationService.translate("amount")||"\u0627\u0644\u0645\u0628\u0644\u063A"," ")}}function qe(n,a){if(n&1&&(e(0,"td",57)(1,"div",68)(2,"span",69),i(3),o()()()),n&2){let t=a.$implicit,r=s(3);l(3),c(r.formatCurrency(t.amount))}}function Ue(n,a){if(n&1&&(e(0,"th",56),i(1),e(2,"mat-icon"),i(3,"arrow_drop_down"),o()()),n&2){let t=s(3);l(),g(" ",t.translationService.translate("orderStatus")||"\u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628"," ")}}function Ye(n,a){if(n&1&&(e(0,"td",57)(1,"mat-chip-set")(2,"mat-chip")(3,"mat-icon"),i(4),o(),i(5),o()()()),n&2){let t=a.$implicit,r=s(3);l(2),I(r.getCustomerStatusClass(t.customerStatus)),l(2),c(r.getStatusIcon(t.customerStatus)),l(),g(" ",r.getStatusDisplayText(t.customerStatus)," ")}}function Ge(n,a){if(n&1&&(e(0,"th",56),i(1),e(2,"mat-icon"),i(3,"arrow_drop_down"),o()()),n&2){let t=s(3);l(),g(" ",t.translationService.translate("cancellationReason")||"\u0633\u0628\u0628 \u0627\u0644\u0625\u0644\u063A\u0627\u0621"," ")}}function Je(n,a){if(n&1&&(e(0,"td",57)(1,"mat-chip-set")(2,"mat-chip")(3,"mat-icon"),i(4),o(),i(5),o()()()),n&2){let t=a.$implicit,r=s(3);l(2),I(r.getReasonClass(t.cancellationReason)),l(2),c(r.getReasonIcon(t.cancellationReason)),l(),g(" ",t.cancellationReason," ")}}function Ke(n,a){if(n&1&&(e(0,"th",70),i(1),o()),n&2){let t=s(3);l(),c(t.translationService.translate("actions")||"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A")}}function Qe(n,a){if(n&1){let t=k();e(0,"td",57)(1,"div",71)(2,"button",72),C("click",function(){let d=P(t).$implicit,m=s(3);return S(m.viewDetails(d))}),e(3,"mat-icon"),i(4,"visibility"),o()(),e(5,"button",73),C("click",function(){let d=P(t).$implicit,m=s(3);return S(m.analyzeReason(d))}),e(6,"mat-icon"),i(7,"analytics"),o()()()()}if(n&2){let t=s(3);l(2),p("matTooltip",b(t.translationService.translate("viewDetails")||"View Details")),l(3),p("matTooltip",b(t.translationService.translate("analyzeReason")||"Analyze Reason"))}}function Xe(n,a){n&1&&h(0,"tr",74)}function Ze(n,a){n&1&&h(0,"tr",75)}function et(n,a){if(n&1&&(e(0,"table",41),_(1,42),u(2,Ae,4,1,"th",43)(3,Re,4,1,"td",44),f(),_(4,45),u(5,Le,4,1,"th",43)(6,Fe,6,1,"td",44),f(),_(7,46),u(8,Ne,4,1,"th",43)(9,He,10,2,"td",44),f(),_(10,47),u(11,Be,4,1,"th",43)(12,Ve,6,1,"td",44),f(),_(13,48),u(14,je,4,1,"th",43)(15,We,6,1,"td",44),f(),_(16,49),u(17,$e,4,1,"th",43)(18,qe,4,1,"td",44),f(),_(19,50),u(20,Ue,4,1,"th",43)(21,Ye,6,4,"td",44),f(),_(22,51),u(23,Ge,4,1,"th",43)(24,Je,6,4,"td",44),f(),_(25,52),u(26,Ke,2,1,"th",53)(27,Qe,8,4,"td",44),f(),u(28,Xe,1,0,"tr",54)(29,Ze,1,0,"tr",55),o()),n&2){let t=s(2);p("dataSource",t.filteredOrders),l(28),p("matHeaderRowDef",t.displayedColumns),l(),p("matRowDefColumns",t.displayedColumns)}}function tt(n,a){if(n&1&&(e(0,"div",76)(1,"mat-icon"),i(2,"inbox"),o(),e(3,"h3"),i(4),o(),e(5,"p"),i(6),o()()),n&2){let t=s(2);l(4),c(t.translationService.translate("noCancelledOrders")||"No Cancelled Orders"),l(2),c(t.translationService.translate("noCancelledOrdersMessage")||"There are no cancelled orders to display.")}}function nt(n,a){if(n&1&&(e(0,"div",38),u(1,et,30,3,"table",39)(2,tt,7,2,"div",40),o()),n&2){let t=s();l(),p("ngIf",t.filteredOrders.length>0),l(),p("ngIf",t.filteredOrders.length===0)}}var Te=class n{constructor(a,t){this.dashboardService=a;this.translationService=t}cancelledOrders=[];filteredOrders=[];displayedColumns=["id","orderTime","customerName","storeName","city","amount","customerStatus","cancellationReason","actions"];isLoading=!1;error=null;destroy$=new E;pageIndex=0;pageSize=10;totalItems=0;searchTerm="";selectedCancelledBy="";selectedCity="";ngOnInit(){this.loadCancelledOrders(),setTimeout(()=>{this.forceHorizontalHeaders()},100)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}ngAfterViewInit(){setTimeout(()=>{this.forceHorizontalHeaders()},200)}onPageChange(a){this.pageIndex=a.pageIndex,this.pageSize=a.pageSize,this.loadCancelledOrders(this.pageIndex+1,this.pageSize)}loadCancelledOrders(a=1,t=10){this.isLoading=!0,this.error=null,this.dashboardService.getCancelledOrdersByPageAndPageSizeAndSortByAndSortOrder(a,t,"id","desc").pipe(T(this.destroy$)).subscribe({next:r=>{let d=r;this.cancelledOrders=d?.items||[],this.filteredOrders=[...this.cancelledOrders],this.totalItems=d?.totalCount||0,console.log("CancelledOrders API result:",r),console.log("Assigned cancelledOrders:",this.cancelledOrders),this.isLoading=!1,setTimeout(()=>{this.forceHorizontalHeaders()},50)},error:r=>{console.error("Error loading cancelled orders",r),this.error=this.translationService.translate("loadingError"),this.isLoading=!1}})}refreshData(){this.loadCancelledOrders()}formatCurrency(a){return new Intl.NumberFormat("ar-SA",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(a)}getCustomerStatusClass(a){switch(a?.toLowerCase()){case"active":return"status-active";case"inactive":return"status-inactive";case"cancelled":return"status-cancelled";case"expired":return"status-expired";default:return"status-normal"}}getCustomerCancelledCount(){return this.cancelledOrders.filter(a=>a.customerStatus?.toLowerCase()==="cancelled").length}getStoreCancelledCount(){return this.cancelledOrders.filter(a=>a.customerStatus?.toLowerCase()==="expired").length}getLostRevenue(){return this.cancelledOrders.reduce((a,t)=>a+(t.amount||0),0)}getUniqueCities(){let a=this.cancelledOrders.map(t=>t.city).filter(t=>!!t);return[...new Set(a)]}applyFilters(){this.filteredOrders=this.cancelledOrders.filter(a=>{let t=!this.searchTerm||a.customerName?.toLowerCase().includes(this.searchTerm.toLowerCase())||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F".includes(this.searchTerm.toLowerCase())||a.storeName?.toLowerCase().includes(this.searchTerm.toLowerCase())||a.customerPhoneNumber?.includes(this.searchTerm)||a.id?.toString().includes(this.searchTerm),r=!this.selectedCancelledBy||a.customerStatus?.toLowerCase()===this.selectedCancelledBy.toLowerCase(),d=!this.selectedCity||a.city===this.selectedCity;return t&&r&&d})}getStatusIcon(a){switch(a?.toLowerCase()){case"active":return"check_circle";case"inactive":return"pause_circle";case"cancelled":return"cancel";case"expired":return"schedule";default:return"help"}}getStatusDisplayText(a){switch(a?.toLowerCase()){case"active":return"\u0646\u0634\u0637";case"inactive":return"\u063A\u064A\u0631 \u0646\u0634\u0637";case"cancelled":return"\u0645\u0644\u063A\u064A";case"expired":return"\u0645\u0646\u062A\u0647\u064A \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0629";default:return a||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}}getReasonClass(a){return"reason-chip"}getReasonIcon(a){return"info"}viewDetails(a){console.log("View details for order:",a)}analyzeReason(a){console.log("Analyze reason for order:",a)}exportData(){console.log("Export data")}forceHorizontalHeaders(){let a=[".cancelled-orders-table .mat-mdc-header-cell",".cancelled-orders-table th[mat-header-cell]",".cancelled-orders-table .sortable-header",".cancelled-orders-table .mat-header-cell",".cancelled-orders-table th",".mat-mdc-table .mat-mdc-header-cell"];a.forEach(t=>{document.querySelectorAll(t).forEach(d=>{d&&(d.style.setProperty("writing-mode","horizontal-tb","important"),d.style.setProperty("text-orientation","mixed","important"),d.style.setProperty("transform","none","important"),d.style.setProperty("white-space","nowrap","important"),d.style.setProperty("vertical-align","middle","important"),d.style.setProperty("text-align","center","important"),d.style.setProperty("height","auto","important"),d.style.setProperty("min-height","48px","important"),d.style.setProperty("max-height","none","important"),d.style.setProperty("width","auto","important"),d.style.setProperty("min-width","100px","important"),d.style.setProperty("display","table-cell","important"),d.style.setProperty("position","static","important"),d.style.setProperty("overflow","visible","important"),d.querySelectorAll("*").forEach(x=>{x.style.setProperty("writing-mode","horizontal-tb","important"),x.style.setProperty("text-orientation","mixed","important"),x.style.setProperty("transform","none","important"),x.style.setProperty("display","inline","important"),x.style.setProperty("position","static","important")}))})}),console.log("Applied horizontal header fixes to",a.length,"selectors")}static \u0275fac=function(t){return new(t||n)(y(_e),y(ne))};static \u0275cmp=D({type:n,selectors:[["app-cancelled-orders"]],decls:94,vars:42,consts:[[1,"cancelled-orders-container"],[1,"page-header"],[1,"header-content"],[1,"header-info"],[1,"header-subtitle"],[1,"header-actions"],["mat-icon-button","",1,"refresh-btn",3,"click","disabled"],["mat-raised-button","","color","primary",1,"export-btn",3,"click"],[1,"stats-section"],[1,"stat-card","total-cancelled"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","customer-cancelled"],[1,"stat-card","store-cancelled"],[1,"stat-card","lost-revenue"],[1,"filters-section"],[1,"filter-group"],["appearance","outline",1,"filter-field"],["matInput","",3,"ngModelChange","input","ngModel","placeholder"],["matSuffix",""],[3,"ngModelChange","selectionChange","ngModel"],["value",""],["value","active"],["value","inactive"],["value","cancelled"],["value","expired"],[3,"value",4,"ngFor","ngForOf"],[1,"data-card"],[1,"card-header"],["mat-card-avatar","",1,"cancelled-icon"],[1,"count-badge"],["class","loading-container",4,"ngIf"],["class","table-container",4,"ngIf"],["showFirstLastButtons","",3,"page","length","pageIndex","pageSize","pageSizeOptions"],[3,"value"],[1,"loading-container"],[1,"table-container"],["mat-table","","class","cancelled-orders-table",3,"dataSource",4,"ngIf"],["class","empty-state",4,"ngIf"],["mat-table","",1,"cancelled-orders-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","class","sortable-header",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","orderTime"],["matColumnDef","customerName"],["matColumnDef","storeName"],["matColumnDef","city"],["matColumnDef","amount"],["matColumnDef","customerStatus"],["matColumnDef","cancellationReason"],["matColumnDef","actions"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","order-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"sortable-header"],["mat-cell",""],[1,"order-id-cell"],[1,"order-id"],[1,"time-cell"],[1,"customer-cell"],[1,"customer-avatar"],[1,"customer-info"],[1,"customer-name"],[1,"customer-phone"],[1,"store-cell"],[1,"location-cell"],[1,"amount-cell"],[1,"amount-value"],["mat-header-cell",""],[1,"action-buttons"],["mat-icon-button","",1,"action-btn","view-btn",3,"click","matTooltip"],["mat-icon-button","",1,"action-btn","analyze-btn",3,"click","matTooltip"],["mat-header-row",""],["mat-row","",1,"order-row"],[1,"empty-state"]],template:function(t,r){t&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),i(5),o(),e(6,"p",4),i(7),o()(),e(8,"div",5)(9,"button",6),C("click",function(){return r.refreshData()}),e(10,"mat-icon"),i(11,"refresh"),o()(),e(12,"button",7),C("click",function(){return r.exportData()}),e(13,"mat-icon"),i(14,"download"),o(),i(15),o()()()(),e(16,"div",8)(17,"div",9)(18,"div",10)(19,"mat-icon"),i(20,"cancel"),o()(),e(21,"div",11)(22,"div",12),i(23),o(),e(24,"div",13),i(25),o()()(),e(26,"div",14)(27,"div",10)(28,"mat-icon"),i(29,"cancel"),o()(),e(30,"div",11)(31,"div",12),i(32),o(),e(33,"div",13),i(34),o()()(),e(35,"div",15)(36,"div",10)(37,"mat-icon"),i(38,"schedule"),o()(),e(39,"div",11)(40,"div",12),i(41),o(),e(42,"div",13),i(43),o()()(),e(44,"div",16)(45,"div",10)(46,"mat-icon"),i(47,"money_off"),o()(),e(48,"div",11)(49,"div",12),i(50),o(),e(51,"div",13),i(52),o()()()(),e(53,"div",17)(54,"div",18)(55,"mat-form-field",19)(56,"mat-label"),i(57),o(),e(58,"input",20),M("ngModelChange",function(m){return O(r.searchTerm,m)||(r.searchTerm=m),m}),C("input",function(){return r.applyFilters()}),o(),e(59,"mat-icon",21),i(60,"search"),o()(),e(61,"mat-form-field",19)(62,"mat-label"),i(63),o(),e(64,"mat-select",22),M("ngModelChange",function(m){return O(r.selectedCancelledBy,m)||(r.selectedCancelledBy=m),m}),C("selectionChange",function(){return r.applyFilters()}),e(65,"mat-option",23),i(66),o(),e(67,"mat-option",24),i(68),o(),e(69,"mat-option",25),i(70),o(),e(71,"mat-option",26),i(72),o(),e(73,"mat-option",27),i(74),o()()(),e(75,"mat-form-field",19)(76,"mat-label"),i(77),o(),e(78,"mat-select",22),M("ngModelChange",function(m){return O(r.selectedCity,m)||(r.selectedCity=m),m}),C("selectionChange",function(){return r.applyFilters()}),e(79,"mat-option",23),i(80),o(),u(81,ze,2,2,"mat-option",28),o()()()(),e(82,"mat-card",29)(83,"mat-card-header",30)(84,"mat-icon",31),i(85,"cancel"),o(),e(86,"mat-card-title"),i(87),o(),e(88,"div",32),i(89),o()(),e(90,"mat-card-content"),u(91,ke,4,1,"div",33)(92,nt,3,2,"div",34),e(93,"mat-paginator",35),C("page",function(m){return r.onPageChange(m)}),o()()()()),t&2&&(w("rtl",r.translationService.isRTL()),l(5),c(r.translationService.translate("cancelledOrders")),l(2),c(r.translationService.translate("cancelledOrdersSubtitle")||"Analyze cancelled orders and identify patterns"),l(2),p("disabled",r.isLoading),l(),w("spinning",r.isLoading),l(5),g(" ",r.translationService.translate("export")," "),l(8),c(r.cancelledOrders.length),l(2),c(r.translationService.translate("totalCancelled")||"Total Cancelled"),l(7),c(r.getCustomerCancelledCount()),l(2),c(r.translationService.translate("cancelledOrders")||"\u0645\u0644\u063A\u064A"),l(7),c(r.getStoreCancelledCount()),l(2),c(r.translationService.translate("expiredOrders")||"\u0645\u0646\u062A\u0647\u064A \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0629"),l(7),c(r.formatCurrency(r.getLostRevenue())),l(2),c(r.translationService.translate("lostRevenue")||"Lost Revenue"),l(5),c(r.translationService.translate("search")),l(),p("placeholder",b(r.translationService.translate("searchPlaceholder")||"Search orders...")),v("ngModel",r.searchTerm),l(5),c(r.translationService.translate("orderStatus")||"\u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628"),l(),v("ngModel",r.selectedCancelledBy),l(2),c(r.translationService.translate("allStatuses")||"\u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0627\u0644\u0627\u062A"),l(2),c(r.translationService.translate("active")||"\u0646\u0634\u0637"),l(2),c(r.translationService.translate("inactive")||"\u063A\u064A\u0631 \u0646\u0634\u0637"),l(2),c(r.translationService.translate("cancelled")||"\u0645\u0644\u063A\u064A"),l(2),c(r.translationService.translate("expired")||"\u0645\u0646\u062A\u0647\u064A \u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0629"),l(3),c(r.translationService.translate("city")),l(),v("ngModel",r.selectedCity),l(2),c(r.translationService.translate("allCities")||"All Cities"),l(),p("ngForOf",r.getUniqueCities()),l(6),c(r.translationService.translate("cancelledOrders")),l(2),c(r.filteredOrders.length),l(2),p("ngIf",r.isLoading),l(),p("ngIf",!r.isLoading),l(),p("length",r.totalItems)("pageIndex",r.pageIndex)("pageSize",r.pageSize)("pageSizeOptions",A(41,De)),z("dir",r.translationService.isRTL()?"rtl":"ltr")("aria-label",r.translationService.translate("pagination")))},dependencies:[F,R,L,q,j,W,$,ye,fe,xe,Me,he,Ce,be,ve,Oe,Pe,Se,te,ee,ce,ae,le,re,oe,ie,pe,me,Z,X,Q,ge,ue,Ee,we,Ie,U,V,H,B,se,de,G,Y,N,K,J],styles:[".cancelled-orders-container[_ngcontent-%COMP%]   .cancelled-orders-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%], .cancelled-orders-container[_ngcontent-%COMP%]   .cancelled-orders-table[_ngcontent-%COMP%]   th[mat-header-cell][_ngcontent-%COMP%], .cancelled-orders-container[_ngcontent-%COMP%]   .cancelled-orders-table[_ngcontent-%COMP%]   .sortable-header[_ngcontent-%COMP%], .cancelled-orders-container[_ngcontent-%COMP%]   .cancelled-orders-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%], .cancelled-orders-container[_ngcontent-%COMP%]   .cancelled-orders-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .cancelled-orders-container[_ngcontent-%COMP%]   .cancelled-orders-table[_ngcontent-%COMP%]   .mat-mdc-header-row[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{writing-mode:horizontal-tb!important;text-orientation:mixed!important;transform:none!important;white-space:nowrap!important;vertical-align:middle!important;text-align:center!important;height:auto!important;min-height:48px!important;max-height:none!important;width:auto!important;min-width:100px!important;display:table-cell!important;position:static!important;overflow:visible!important}.cancelled-orders-container[_ngcontent-%COMP%]   .cancelled-orders-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .cancelled-orders-container[_ngcontent-%COMP%]   .cancelled-orders-table[_ngcontent-%COMP%]   th[mat-header-cell][_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .cancelled-orders-container[_ngcontent-%COMP%]   .cancelled-orders-table[_ngcontent-%COMP%]   .sortable-header[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{writing-mode:horizontal-tb!important;text-orientation:mixed!important;transform:none!important;display:inline!important;position:static!important}.cancelled-orders-container[_ngcontent-%COMP%]   .cancelled-orders-table[_ngcontent-%COMP%]{direction:rtl!important;writing-mode:horizontal-tb!important}.cancelled-orders-container[_ngcontent-%COMP%]   .cancelled-orders-table[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{writing-mode:horizontal-tb!important;text-orientation:mixed!important}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   th[mat-header-cell][_ngcontent-%COMP%]{writing-mode:horizontal-tb!important;text-orientation:mixed!important;transform:none!important}[dir=rtl][_ngcontent-%COMP%]   .cancelled-orders-container[_ngcontent-%COMP%]   .cancelled-orders-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .cancelled-orders-container[_ngcontent-%COMP%]   .cancelled-orders-table[_ngcontent-%COMP%]   th[mat-header-cell][_ngcontent-%COMP%]{writing-mode:horizontal-tb!important;text-orientation:mixed!important;transform:none!important;direction:rtl!important}",".cancelled-orders-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%], .cancelled-orders-table[_ngcontent-%COMP%]   th[mat-header-cell][_ngcontent-%COMP%], .cancelled-orders-table[_ngcontent-%COMP%]   .sortable-header[_ngcontent-%COMP%]{writing-mode:horizontal-tb!important;text-orientation:mixed!important;transform:none!important;white-space:nowrap!important;vertical-align:middle!important;text-align:center!important;height:auto!important;min-height:48px!important;max-height:none!important}.cancelled-orders-container[_ngcontent-%COMP%]{padding:20px;font-family:Cairo,sans-serif;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);min-height:100vh}.page-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 8px 32px #0000001a}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px}.header-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 8px;color:#fff;font-size:32px;font-weight:700}.header-subtitle[_ngcontent-%COMP%]{color:#ffffffe6;font-size:16px;margin:0}.header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.refresh-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3)}.refresh-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.export-btn[_ngcontent-%COMP%]{background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3)}.export-btn[_ngcontent-%COMP%]:hover{background:#ffffff4d}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.stats-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:24px}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 4px 20px #00000014;display:flex;align-items:center;gap:16px;transition:transform .3s ease,box-shadow .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 32px #0000001f}.stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:24px;color:#fff}.total-cancelled[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140)}.customer-cancelled[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.store-cancelled[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.lost-revenue[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a8edea,#fed6e3)}.stat-content[_ngcontent-%COMP%]{flex:1}.stat-value[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#2c3e50;margin-bottom:4px}.stat-label[_ngcontent-%COMP%]{font-size:14px;color:#7f8c8d;font-weight:500}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 4px 20px #00000014}.filter-group[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap;align-items:center}.filter-field[_ngcontent-%COMP%]{min-width:200px;flex:1}.data-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 20px #00000014;overflow:hidden}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fa709a,#fee140);color:#fff;padding:20px 24px;display:flex;align-items:center;gap:16px}.cancelled-icon[_ngcontent-%COMP%]{background:#fff3;color:#fff}.count-badge[_ngcontent-%COMP%]{background:#fff3;color:#fff;padding:4px 12px;border-radius:20px;font-size:14px;font-weight:600;margin-left:auto}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.cancelled-orders-table[_ngcontent-%COMP%]{width:100%;background:#fff}.cancelled-orders-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{writing-mode:horizontal-tb!important;text-orientation:mixed!important;white-space:nowrap!important;vertical-align:middle!important;text-align:center!important}.sortable-header[_ngcontent-%COMP%]{background:#f8f9fa;font-weight:600;color:#495057;display:flex;align-items:center;justify-content:flex-start;gap:8px;white-space:nowrap;writing-mode:horizontal-tb;text-orientation:mixed}.order-row[_ngcontent-%COMP%]:hover{background:#f8f9fa}.order-id-cell[_ngcontent-%COMP%]{display:flex;align-items:center}.order-id[_ngcontent-%COMP%]{font-weight:600;color:#fa709a}.time-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.customer-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.customer-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#fa709a,#fee140);display:flex;align-items:center;justify-content:center;color:#fff}.customer-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.customer-name[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.customer-phone[_ngcontent-%COMP%]{font-size:12px;color:#7f8c8d}.store-cell[_ngcontent-%COMP%], .location-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.amount-cell[_ngcontent-%COMP%]{text-align:right}.amount-value[_ngcontent-%COMP%]{font-weight:600;color:#e74c3c}.status-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf50,#2e7d32);color:#fff}.status-inactive[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9800,#f57c00);color:#fff}.status-cancelled[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f44336,#c62828);color:#fff}.status-expired[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9e9e9e,#616161);color:#fff}.status-normal[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a8edea,#fed6e3);color:#2c3e50}.reason-chip[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffecd2,#fcb69f);color:#2c3e50}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px}.action-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px}.view-btn[_ngcontent-%COMP%]{background:#e3f2fd;color:#1976d2}.analyze-btn[_ngcontent-%COMP%]{background:#fff3e0;color:#f57c00}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;gap:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:#7f8c8d}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;margin-bottom:16px;color:#bdc3c7}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;color:#2c3e50}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px}.rtl[_ngcontent-%COMP%]{direction:rtl}.rtl[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{writing-mode:horizontal-tb!important;text-orientation:mixed!important;direction:rtl}.rtl[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .customer-cell[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .store-cell[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .location-cell[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:row-reverse}@media (max-width: 768px){.cancelled-orders-container[_ngcontent-%COMP%]{padding:12px}.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.header-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.stats-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.filter-group[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filter-field[_ngcontent-%COMP%]{min-width:unset}.cancelled-orders-table[_ngcontent-%COMP%]{font-size:14px}.customer-cell[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:4px}}@media (max-width: 480px){.page-header[_ngcontent-%COMP%]{padding:16px}.header-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.stat-card[_ngcontent-%COMP%]{padding:16px}.stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;font-size:20px}.stat-value[_ngcontent-%COMP%]{font-size:24px}}"]})};export{Te as CancelledOrdersComponent};
