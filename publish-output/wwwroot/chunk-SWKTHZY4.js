import{a as st,b as ct}from"./chunk-Y7ZC6R2U.js";import{a as $e}from"./chunk-3EZUEQLB.js";import{a as lt}from"./chunk-D2L3R3XT.js";import"./chunk-CIN4ONNM.js";import{a as He,b as W}from"./chunk-SBN3BR4S.js";import{g as Ge}from"./chunk-YZHQBPKS.js";import{f as Z}from"./chunk-GURXHOCJ.js";import{a as Ke,b as Xe,c as Ze,d as et,e as tt,f as nt,g as it,h as rt,i as at,j as ot,k as X}from"./chunk-66EBL4AI.js";import{a as qe,b as G,c as Q}from"./chunk-BHUWSNYL.js";import{b as J,c as z}from"./chunk-5QG37IKZ.js";import{c as Ue,e as j,f as Ie,g as Ee,h as ke,k as B,l as F,m as Be,n as $}from"./chunk-4QNLZ27S.js";import"./chunk-F5X5MWHG.js";import{a as Ne,b as E}from"./chunk-H6HE4MHR.js";import"./chunk-QI4NFHPB.js";import"./chunk-3XTS6IX6.js";import{a as Qe,c as We,e as Je,g as R}from"./chunk-VE33HBPU.js";import{a as K,b as V}from"./chunk-RKVGNEAU.js";import{a as T,b as D}from"./chunk-YYCZXRKQ.js";import"./chunk-YG2AVUDB.js";import{$a as k,Da as N,Fa as w,Ha as q,Ia as Te,La as De,Ma as Ve,Pa as Fe,Qa as Ae,Ta as Re,Ua as ze,Va as Le,Wa as je,Xa as Y,Ya as H,Za as A,ab as Ye,g as we,h as U,k as ye,n as I}from"./chunk-F6AVZLPP.js";import{Ac as he,Cc as Pe,Dc as be,Fc as Oe,Hc as Se,Sb as m,Tb as n,Ub as a,Vb as M,Wb as P,Xb as b,Zb as h,cc as f,db as me,dc as d,ec as pe,fb as r,fc as ue,hc as ge,ic as fe,jc as _e,kb as L,n as de,pc as O,qc as S,rb as y,rc as s,sa as p,sc as l,ta as u,tc as _,uc as xe,xb as x,xc as ve,yc as Ce,zb as v,zc as Me}from"./chunk-PBCT4LDD.js";var ut=["*"];function gt(o,i){if(o&1&&(n(0,"div",5)(1,"div",6),M(2,"mat-spinner",7),n(3,"p",8),s(4),a()()()),o&2){let e=d();r(4),l(e.translationService.translate("loading")||"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u062D\u0645\u064A\u0644...")}}function ft(o,i){if(o&1&&(n(0,"th",32)(1,"div",33)(2,"mat-icon",34),s(3,"person"),a(),n(4,"span"),s(5),a()()()),o&2){let e=d(2);r(5),l(e.translationService.translate("userName"))}}function _t(o,i){if(o&1&&(n(0,"td",35)(1,"div",36)(2,"div",37)(3,"mat-icon"),s(4,"account_circle"),a()(),n(5,"div",38)(6,"span",39),s(7),a(),n(8,"span",40),s(9),a()()()()),o&2){let e=i.$implicit;r(7),l(e.name),r(2),_("ID: ",e.id)}}function xt(o,i){if(o&1&&(n(0,"th",32)(1,"div",33)(2,"mat-icon",34),s(3,"email"),a(),n(4,"span"),s(5),a()()()),o&2){let e=d(2);r(5),l(e.translationService.translate("email"))}}function vt(o,i){if(o&1&&(n(0,"td",41)(1,"div",42)(2,"mat-icon",43),s(3,"email"),a(),n(4,"span",44),s(5),a()()()),o&2){let e=i.$implicit;r(5),l(e.email)}}function Ct(o,i){if(o&1&&(n(0,"th",32)(1,"div",33)(2,"mat-icon",34),s(3,"admin_panel_settings"),a(),n(4,"span"),s(5),a()()()),o&2){let e=d(2);r(5),l(e.translationService.translate("userRole"))}}function Mt(o,i){if(o&1&&(n(0,"td",45)(1,"div",46)(2,"mat-icon",47),s(3),a(),n(4,"span",48),s(5),a()()()),o&2){let e=i.$implicit,t=d(2);r(),S("role-"+e.userType),r(2),l(t.getRoleIcon(e.userType)),r(2),l(t.getRoleDisplayName(e.userType))}}function ht(o,i){if(o&1&&(n(0,"th",32)(1,"div",33)(2,"mat-icon",34),s(3,"toggle_on"),a(),n(4,"span"),s(5),a()()()),o&2){let e=d(2);r(5),l(e.translationService.translate("status"))}}function Pt(o,i){if(o&1&&(n(0,"td",49)(1,"div",50)(2,"mat-icon",51),s(3),a(),n(4,"span",52),s(5),a()()()),o&2){let e=i.$implicit,t=d(2);r(),S(e.isActive?"status-active":"status-inactive"),r(2),l(e.isActive?"check_circle":"cancel"),r(2),l(t.getStatusText(e))}}function bt(o,i){if(o&1&&(n(0,"th",32)(1,"div",33)(2,"mat-icon",34),s(3,"verified_user"),a(),n(4,"span"),s(5),a()()()),o&2){let e=d(2);r(5),l(e.translationService.translate("verification"))}}function Ot(o,i){if(o&1&&(n(0,"td",53)(1,"div",54)(2,"mat-icon",55),s(3),a(),n(4,"span",56),s(5),a()()()),o&2){let e=i.$implicit,t=d(2);r(),S("verification-"+t.getVerificationStatus(e)),r(2),l(t.getVerificationIcon(e)),r(2),l(t.getVerificationStatusText(e))}}function St(o,i){if(o&1&&(n(0,"th",57)(1,"div",33)(2,"mat-icon",34),s(3,"settings"),a(),n(4,"span"),s(5),a()()()),o&2){let e=d(2);r(5),l(e.translationService.translate("actions"))}}function wt(o,i){if(o&1){let e=h();n(0,"button",65),f("click",function(){p(e);let c=d().$implicit,g=d(2);return u(g.activateUser.emit(c))}),n(1,"mat-icon"),s(2,"check_circle"),a()()}if(o&2){let e=d(3);m("matTooltip",e.translationService.translate("activate"))}}function yt(o,i){if(o&1){let e=h();n(0,"button",66),f("click",function(){p(e);let c=d().$implicit,g=d(2);return u(g.deactivateUser.emit(c))}),n(1,"mat-icon"),s(2,"block"),a()()}if(o&2){let e=d(3);m("matTooltip",e.translationService.translate("deactivate"))}}function Ut(o,i){if(o&1){let e=h();n(0,"td",58)(1,"div",59)(2,"button",60),f("click",function(){let c=p(e).$implicit,g=d(2);return u(g.reviewUser.emit(c))}),n(3,"mat-icon"),s(4,"preview"),a()(),n(5,"button",61),f("click",function(){let c=p(e).$implicit,g=d(2);return u(g.editUser.emit(c))}),n(6,"mat-icon"),s(7,"edit"),a()(),x(8,wt,3,1,"button",62)(9,yt,3,1,"button",63),n(10,"button",64),f("click",function(){let c=p(e).$implicit,g=d(2);return u(g.deleteUser.emit(c))}),n(11,"mat-icon"),s(12,"delete"),a()()()()}if(o&2){let e=i.$implicit,t=d(2);r(),O("rtl",t.translationService.isRTL()),r(),m("matTooltip",t.translationService.translate("review")),r(3),m("matTooltip",t.translationService.translate("edit")),r(3),m("ngIf",!e.isActive),r(),m("ngIf",e.isActive),r(),m("matTooltip",t.translationService.translate("delete"))}}function It(o,i){o&1&&M(0,"tr",67)}function Et(o,i){o&1&&M(0,"tr",68)}function kt(o,i){if(o&1&&(n(0,"div",9)(1,"div",10)(2,"h3",11),s(3),a(),n(4,"div",12)(5,"span",13),s(6),a()()(),n(7,"div",14)(8,"table",15),P(9,16),x(10,ft,6,1,"th",17)(11,_t,10,2,"td",18),b(),P(12,19),x(13,xt,6,1,"th",17)(14,vt,6,1,"td",20),b(),P(15,21),x(16,Ct,6,1,"th",17)(17,Mt,6,4,"td",22),b(),P(18,23),x(19,ht,6,1,"th",17)(20,Pt,6,4,"td",24),b(),P(21,25),x(22,bt,6,1,"th",17)(23,Ot,6,4,"td",26),b(),P(24,27),x(25,St,6,1,"th",28)(26,Ut,13,7,"td",29),b(),x(27,It,1,0,"tr",30)(28,Et,1,0,"tr",31),a()()()),o&2){let e=d();r(3),l(e.translationService.translate("userList")||"\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646"),r(3),xe("",e.users.length," ",e.translationService.translate("users")||"\u0645\u0633\u062A\u062E\u062F\u0645"),r(2),m("dataSource",e.users),r(19),m("matHeaderRowDef",e.displayedColumns),r(),m("matRowDefColumns",e.displayedColumns)}}function Tt(o,i){if(o&1&&(n(0,"div",69)(1,"div",70)(2,"div",71)(3,"mat-icon"),s(4,"people_outline"),a()(),n(5,"h3",72),s(6),a(),n(7,"p",73),s(8),a()()()),o&2){let e=d();r(6),l(e.translationService.translate("noUsersFound")||"\u0644\u0627 \u064A\u0648\u062C\u062F \u0645\u0633\u062A\u062E\u062F\u0645\u0648\u0646"),r(2),l(e.translationService.translate("noUsersDescription")||"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0623\u064A \u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0641\u064A \u0627\u0644\u0646\u0638\u0627\u0645")}}function Dt(o,i){o&1&&(n(0,"div",74),ue(1),a())}var ee=class o{users=[];isLoading=!1;displayedColumns=["name","email","role","status","verification","actions"];translationService;totalUsers=0;editUser=new v;deleteUser=new v;reviewUser=new v;activateUser=new v;deactivateUser=new v;getRoleDisplayName(i){if(!this.translationService)return i;switch(i){case"admin":return this.translationService.translate("admin");case"manager":return this.translationService.translate("manager");case"operator":return this.translationService.translate("operator");case"customer":return this.translationService.translate("customer");case"delivery":return this.translationService.translate("delivery");case"restaurant_owner":return this.translationService.translate("restaurantOwner");default:return i}}getVerificationStatus(i){return i.reviewStatus?i.reviewStatus.toLowerCase():"pending"}getVerificationStatusColor(i){switch(this.getVerificationStatus(i)){case"accepted":return"accent";case"rejected":return"warn";case"pending":return"primary";default:return"primary"}}getVerificationStatusText(i){if(!this.translationService)return this.getVerificationStatus(i);switch(this.getVerificationStatus(i)){case"accepted":return this.translationService.translate("verified");case"rejected":return this.translationService.translate("rejected");case"pending":return this.translationService.translate("pendingVerification");default:return this.translationService.translate("pendingVerification")}}getStatusColor(i){return i.isActive?"accent":"warn"}getStatusText(i){return this.translationService?i.isActive?this.translationService.translate("active"):this.translationService.translate("inactive"):i.isActive?"Active":"Inactive"}getRoleIcon(i){switch(i){case"admin":return"admin_panel_settings";case"manager":return"manage_accounts";case"operator":return"support_agent";case"customer":return"person";case"delivery":return"local_shipping";case"restaurant_owner":return"restaurant";default:return"person"}}getVerificationIcon(i){switch(this.getVerificationStatus(i)){case"accepted":return"verified";case"rejected":return"cancel";case"pending":return"pending";default:return"pending"}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=y({type:o,selectors:[["app-user-list"]],inputs:{users:"users",isLoading:"isLoading",displayedColumns:"displayedColumns",translationService:"translationService",totalUsers:"totalUsers"},outputs:{editUser:"editUser",deleteUser:"deleteUser",reviewUser:"reviewUser",activateUser:"activateUser",deactivateUser:"deactivateUser"},ngContentSelectors:ut,decls:5,vars:6,consts:[[1,"users-container"],["class","loading-container",4,"ngIf"],["class","table-container",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","pagination-container",4,"ngIf"],[1,"loading-container"],[1,"loading-content"],["diameter","60"],[1,"loading-text"],[1,"table-container"],[1,"table-header"],[1,"table-title"],[1,"table-stats"],[1,"stats-text"],[1,"table-wrapper"],["mat-table","",1,"users-table",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","class","sortable-header",4,"matHeaderCellDef"],["mat-cell","","class","user-cell",4,"matCellDef"],["matColumnDef","email"],["mat-cell","","class","email-cell",4,"matCellDef"],["matColumnDef","role"],["mat-cell","","class","role-cell",4,"matCellDef"],["matColumnDef","status"],["mat-cell","","class","status-cell",4,"matCellDef"],["matColumnDef","verification"],["mat-cell","","class","verification-cell",4,"matCellDef"],["matColumnDef","actions"],["mat-header-cell","","class","actions-header",4,"matHeaderCellDef"],["mat-cell","","class","actions-cell",4,"matCellDef"],["mat-header-row","","class","table-header-row",4,"matHeaderRowDef"],["mat-row","","class","table-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"sortable-header"],[1,"header-content"],[1,"header-icon"],["mat-cell","",1,"user-cell"],[1,"user-info"],[1,"user-avatar"],[1,"user-details"],[1,"user-name"],[1,"user-id"],["mat-cell","",1,"email-cell"],[1,"email-content"],[1,"email-icon"],[1,"email-text"],["mat-cell","",1,"role-cell"],[1,"role-badge"],[1,"role-icon"],[1,"role-text"],["mat-cell","",1,"status-cell"],[1,"status-chip"],[1,"status-icon"],[1,"status-text"],["mat-cell","",1,"verification-cell"],[1,"verification-chip"],[1,"verification-icon"],[1,"verification-text"],["mat-header-cell","",1,"actions-header"],["mat-cell","",1,"actions-cell"],[1,"action-buttons"],["mat-icon-button","",1,"action-btn","review-btn",3,"click","matTooltip"],["mat-icon-button","",1,"action-btn","edit-btn",3,"click","matTooltip"],["mat-icon-button","","class","action-btn activate-btn",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","","class","action-btn deactivate-btn",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",1,"action-btn","delete-btn",3,"click","matTooltip"],["mat-icon-button","",1,"action-btn","activate-btn",3,"click","matTooltip"],["mat-icon-button","",1,"action-btn","deactivate-btn",3,"click","matTooltip"],["mat-header-row","",1,"table-header-row"],["mat-row","",1,"table-row"],[1,"empty-state"],[1,"empty-content"],[1,"empty-icon"],[1,"empty-title"],[1,"empty-description"],[1,"pagination-container"]],template:function(e,t){e&1&&(pe(),n(0,"div",0),x(1,gt,5,1,"div",1)(2,kt,29,6,"div",2)(3,Tt,9,2,"div",3)(4,Dt,2,0,"div",4),a()),e&2&&(O("rtl",t.translationService.isRTL()),r(),m("ngIf",t.isLoading),r(),m("ngIf",!t.isLoading&&t.users.length>0),r(),m("ngIf",!t.isLoading&&t.users.length===0),r(),m("ngIf",!t.isLoading&&t.users.length>0))},dependencies:[I,U,X,Ke,Ze,it,et,Xe,rt,tt,nt,at,ot,Q,k,H,D,T,E,Ne,R,V,K,Z],styles:[".users-container[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 4px 20px #00000014;overflow:hidden;animation:_ngcontent-%COMP%_slideInUp .6s ease-out .4s both}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:80px 20px;background:linear-gradient(135deg,#f8f9fa,#e9ecef)}.loading-content[_ngcontent-%COMP%]{text-align:center}.loading-content[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{margin-top:16px;color:#4a5568;font-size:1rem;font-weight:500}.table-container[_ngcontent-%COMP%]{padding:0}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 24px 16px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-bottom:1px solid #e0e0e0}.table-title[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;font-weight:600;color:#1a202c}.table-stats[_ngcontent-%COMP%]   .stats-text[_ngcontent-%COMP%]{color:#4a5568;font-size:.9rem;font-weight:500}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto;background:#fff}.users-table[_ngcontent-%COMP%]{width:100%;background:#fff}.users-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-weight:600;font-size:.9rem;padding:16px 12px;border:none}.users-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:16px 12px;border-bottom:1px solid #f0f0f0;vertical-align:middle}.users-table[_ngcontent-%COMP%]   .table-header-row[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.users-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{transition:all .3s ease}.users-table[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.header-content[_ngcontent-%COMP%]   .header-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.user-cell[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.user-cell[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.user-cell[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.user-cell[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.user-cell[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-weight:600;color:#1a202c;font-size:.95rem}.user-cell[_ngcontent-%COMP%]   .user-id[_ngcontent-%COMP%]{font-size:.8rem;color:#4a5568}.email-cell[_ngcontent-%COMP%]   .email-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.email-cell[_ngcontent-%COMP%]   .email-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#4a5568}.email-cell[_ngcontent-%COMP%]   .email-text[_ngcontent-%COMP%]{color:#1a202c;font-size:.9rem}.role-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:8px 12px;border-radius:20px;font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.role-badge[_ngcontent-%COMP%]   .role-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.role-badge[_ngcontent-%COMP%]   .role-text[_ngcontent-%COMP%]{font-size:.75rem}.role-admin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a24);color:#fff}.role-manager[_ngcontent-%COMP%]{background:linear-gradient(135deg,#feca57,#ff9ff3);color:#fff}.role-operator[_ngcontent-%COMP%]{background:linear-gradient(135deg,#48dbfb,#0abde3);color:#fff}.role-customer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1dd1a1,#55a3ff);color:#fff}.role-delivery[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a55eea,#26de81);color:#fff}.role-restaurant_owner[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fd79a8,#fdcb6e);color:#fff}.status-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:16px;font-size:.8rem;font-weight:600}.status-chip[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.status-chip[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:.75rem}.status-active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00b894,#00cec9);color:#fff}.status-inactive[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e17055,#d63031);color:#fff}.verification-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:16px;font-size:.8rem;font-weight:600}.verification-chip[_ngcontent-%COMP%]   .verification-icon[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px}.verification-chip[_ngcontent-%COMP%]   .verification-text[_ngcontent-%COMP%]{font-size:.75rem}.verification-accepted[_ngcontent-%COMP%]{background:linear-gradient(135deg,#00b894,#00cec9);color:#fff}.verification-rejected[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e17055,#d63031);color:#fff}.verification-pending[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fdcb6e,#e17055);color:#fff}.actions-cell[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:center}.actions-cell[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:8px;transition:all .3s ease}.actions-cell[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.actions-cell[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.actions-cell[_ngcontent-%COMP%]   .review-btn[_ngcontent-%COMP%]{color:#667eea}.actions-cell[_ngcontent-%COMP%]   .review-btn[_ngcontent-%COMP%]:hover{background-color:#667eea1a}.actions-cell[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{color:#4facfe}.actions-cell[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]:hover{background-color:#4facfe1a}.actions-cell[_ngcontent-%COMP%]   .activate-btn[_ngcontent-%COMP%]{color:#00b894}.actions-cell[_ngcontent-%COMP%]   .activate-btn[_ngcontent-%COMP%]:hover{background-color:#00b8941a}.actions-cell[_ngcontent-%COMP%]   .deactivate-btn[_ngcontent-%COMP%]{color:#e17055}.actions-cell[_ngcontent-%COMP%]   .deactivate-btn[_ngcontent-%COMP%]:hover{background-color:#e170551a}.actions-cell[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{color:#d63031}.actions-cell[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]:hover{background-color:#d630311a}.empty-state[_ngcontent-%COMP%]{padding:80px 20px;text-align:center;background:linear-gradient(135deg,#f8f9fa,#e9ecef)}.empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;margin:0 auto 24px;color:#fff}.empty-content[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;width:40px;height:40px}.empty-content[_ngcontent-%COMP%]   .empty-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a202c;margin:0 0 12px}.empty-content[_ngcontent-%COMP%]   .empty-description[_ngcontent-%COMP%]{color:#4a5568;font-size:1rem;line-height:1.6;max-width:400px;margin:0 auto}.pagination-container[_ngcontent-%COMP%]{padding:20px 24px;background:#f8f9fa;border-top:1px solid #e0e0e0}.rtl[_ngcontent-%COMP%]{direction:rtl}.rtl[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .email-content[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .verification-chip[_ngcontent-%COMP%]{flex-direction:row-reverse}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.table-header[_ngcontent-%COMP%]{flex-direction:column;gap:12px;align-items:flex-start}.users-table[_ngcontent-%COMP%]{font-size:14px}.users-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:12px 8px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:2px}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px}.action-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.user-avatar[_ngcontent-%COMP%]{width:32px;height:32px}.user-avatar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}}@media (max-width: 992px){.users-table[_ngcontent-%COMP%]{min-width:900px}.table-wrapper[_ngcontent-%COMP%]{overflow-x:auto}}@media (max-width: 576px){.users-table[_ngcontent-%COMP%]{min-width:750px}.empty-state[_ngcontent-%COMP%]{padding:60px 20px}.empty-icon[_ngcontent-%COMP%]{width:60px;height:60px}.empty-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:30px;width:30px;height:30px}}"]})};function At(o,i){if(o&1&&(n(0,"mat-error"),s(1),a()),o&2){let e=d();r(),_(" ",e.translationService.translate("userNameRequired")||"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0637\u0644\u0648\u0628"," ")}}function Rt(o,i){if(o&1&&(n(0,"mat-error"),s(1),a()),o&2){let e=d();r(),_(" ",e.translationService.translate("emailRequired")||"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0645\u0637\u0644\u0648\u0628"," ")}}function zt(o,i){if(o&1&&(n(0,"mat-error"),s(1),a()),o&2){let e=d();r(),_(" ",e.translationService.translate("emailInvalid")||"\u064A\u0631\u062C\u0649 \u0625\u062F\u062E\u0627\u0644 \u0628\u0631\u064A\u062F \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A \u0635\u062D\u064A\u062D"," ")}}function Lt(o,i){if(o&1&&(n(0,"mat-error"),s(1),a()),o&2){let e=d(2);r(),_(" ",e.translationService.translate("passwordRequired")||"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u0645\u0637\u0644\u0648\u0628\u0629"," ")}}function jt(o,i){if(o&1&&(n(0,"mat-error"),s(1),a()),o&2){let e=d(2);r(),_(" ",e.translationService.translate("passwordMinLength")||"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631 \u064A\u062C\u0628 \u0623\u0646 \u062A\u0643\u0648\u0646 6 \u0623\u062D\u0631\u0641 \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644"," ")}}function Bt(o,i){if(o&1&&(n(0,"div",6)(1,"mat-form-field",7)(2,"mat-label"),s(3),a(),M(4,"input",22),n(5,"mat-icon",9),s(6,"lock"),a(),x(7,Lt,2,1,"mat-error",10)(8,jt,2,1,"mat-error",10),a()()),o&2){let e,t,c=d();r(3),l(c.translationService.translate("password")||"\u0643\u0644\u0645\u0629 \u0627\u0644\u0645\u0631\u0648\u0631"),r(4),m("ngIf",(e=c.userForm.get("password"))==null?null:e.hasError("required")),r(),m("ngIf",(t=c.userForm.get("password"))==null?null:t.hasError("minlength"))}}function Nt(o,i){if(o&1&&(n(0,"mat-option",23)(1,"div",24)(2,"mat-icon",25),s(3),a(),n(4,"span"),s(5),a()()()),o&2){let e=i.$implicit,t=d();m("value",e),r(3),l(t.getRoleIcon(e)),r(2),l(t.translationService.translate(e)||e)}}function qt(o,i){if(o&1&&(n(0,"mat-error"),s(1),a()),o&2){let e=d();r(),_(" ",e.translationService.translate("roleRequired")||"\u062F\u0648\u0631 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0645\u0637\u0644\u0648\u0628"," ")}}function Yt(o,i){o&1&&M(0,"mat-spinner",26)}function $t(o,i){if(o&1&&(n(0,"mat-icon"),s(1),a()),o&2){let e=d();r(),l(e.isEditMode?"save":"add")}}function Ht(o,i){if(o&1&&(n(0,"span"),s(1),a()),o&2){let e=d();r(),l(e.translationService.translate("save")||"\u062D\u0641\u0638")}}var te=class o{userForm;isEditMode=!1;isSaving=!1;translationService;roles=[];submit=new v;cancel=new v;onSubmit(){this.submit.emit()}getRoleIcon(i){switch(i){case"admin":return"admin_panel_settings";case"manager":return"manage_accounts";case"operator":return"support_agent";case"customer":return"person";case"delivery":return"local_shipping";case"restaurant_owner":return"restaurant";default:return"person"}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=y({type:o,selectors:[["app-user-form"]],inputs:{userForm:"userForm",isEditMode:"isEditMode",isSaving:"isSaving",translationService:"translationService",roles:"roles"},outputs:{submit:"submit",cancel:"cancel"},decls:56,vars:22,consts:[[1,"user-form-container"],[1,"user-form",3,"ngSubmit","formGroup"],[1,"form-header"],[1,"form-icon"],[1,"form-title"],[1,"form-fields"],[1,"field-group"],["appearance","outline",1,"full-width"],["matInput","","formControlName","name","required",""],["matSuffix",""],[4,"ngIf"],["matInput","","type","email","formControlName","email","required",""],["class","field-group",4,"ngIf"],["formControlName","role","required",""],[3,"value",4,"ngFor","ngForOf"],[1,"status-toggle"],["formControlName","isActive","color","primary"],[1,"toggle-content"],[1,"form-actions"],["mat-stroked-button","","type","button",1,"cancel-btn",3,"click"],["mat-raised-button","","color","primary","type","submit",1,"save-btn",3,"disabled"],["diameter","20",4,"ngIf"],["matInput","","type","password","formControlName","password","required",""],[3,"value"],[1,"role-option"],[1,"role-option-icon"],["diameter","20"]],template:function(e,t){if(e&1&&(n(0,"div",0)(1,"form",1),f("ngSubmit",function(){return t.onSubmit()}),n(2,"div",2)(3,"div",3)(4,"mat-icon"),s(5),a()(),n(6,"div",4)(7,"h3"),s(8),a(),n(9,"p"),s(10),a()()(),n(11,"div",5)(12,"div",6)(13,"mat-form-field",7)(14,"mat-label"),s(15),a(),M(16,"input",8),n(17,"mat-icon",9),s(18,"person"),a(),x(19,At,2,1,"mat-error",10),a()(),n(20,"div",6)(21,"mat-form-field",7)(22,"mat-label"),s(23),a(),M(24,"input",11),n(25,"mat-icon",9),s(26,"email"),a(),x(27,Rt,2,1,"mat-error",10)(28,zt,2,1,"mat-error",10),a()(),x(29,Bt,9,3,"div",12),n(30,"div",6)(31,"mat-form-field",7)(32,"mat-label"),s(33),a(),n(34,"mat-select",13),x(35,Nt,6,3,"mat-option",14),a(),n(36,"mat-icon",9),s(37,"admin_panel_settings"),a(),x(38,qt,2,1,"mat-error",10),a()(),n(39,"div",6)(40,"div",15)(41,"mat-slide-toggle",16)(42,"div",17)(43,"mat-icon"),s(44),a(),n(45,"span"),s(46),a()()()()()(),n(47,"div",18)(48,"button",19),f("click",function(){return t.cancel.emit()}),n(49,"mat-icon"),s(50,"close"),a(),s(51),a(),n(52,"button",20),x(53,Yt,1,0,"mat-spinner",21)(54,$t,2,1,"mat-icon",10)(55,Ht,2,1,"span",10),a()()()()),e&2){let c,g,C,ce,le;O("rtl",t.translationService.isRTL()),r(),m("formGroup",t.userForm),r(4),l(t.isEditMode?"edit":"person_add"),r(3),l(t.isEditMode?t.translationService.translate("editUser")||"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645":t.translationService.translate("addUser")||"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062A\u062E\u062F\u0645"),r(2),l(t.isEditMode?t.translationService.translate("editUserDescription")||"\u062A\u0639\u062F\u064A\u0644 \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645":t.translationService.translate("addUserDescription")||"\u0625\u0636\u0627\u0641\u0629 \u0645\u0633\u062A\u062E\u062F\u0645 \u062C\u062F\u064A\u062F \u0625\u0644\u0649 \u0627\u0644\u0646\u0638\u0627\u0645"),r(5),l(t.translationService.translate("userName")||"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),r(4),m("ngIf",(c=t.userForm.get("name"))==null?null:c.hasError("required")),r(4),l(t.translationService.translate("email")||"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A"),r(4),m("ngIf",(g=t.userForm.get("email"))==null?null:g.hasError("required")),r(),m("ngIf",(C=t.userForm.get("email"))==null?null:C.hasError("email")),r(),m("ngIf",!t.isEditMode),r(4),l(t.translationService.translate("userRole")||"\u062F\u0648\u0631 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645"),r(2),m("ngForOf",t.roles),r(3),m("ngIf",(ce=t.userForm.get("role"))==null?null:ce.hasError("required")),r(6),l((le=t.userForm.get("isActive"))!=null&&le.value?"toggle_on":"toggle_off"),r(2),l(t.translationService.translate("userActive")||"\u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0646\u0634\u0637"),r(5),_(" ",t.translationService.translate("cancel")||"\u0625\u0644\u063A\u0627\u0621"," "),r(),m("disabled",t.userForm.invalid||t.isSaving),r(),m("ngIf",t.isSaving),r(),m("ngIf",!t.isSaving),r(),m("ngIf",!t.isSaving)}},dependencies:[I,we,U,Y,Ve,N,q,Te,Re,Fe,Ae,F,B,j,Ie,ke,z,J,$,Be,Ue,k,A,D,T,W,V,K,E,ct,st],styles:[".user-form-container[_ngcontent-%COMP%]{background:#fff;border-radius:20px;overflow:hidden;animation:_ngcontent-%COMP%_slideInUp .6s ease-out}.user-form[_ngcontent-%COMP%]{padding:0}.form-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:24px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.form-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:#fff3;display:flex;align-items:center;justify-content:center;flex-shrink:0}.form-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.form-title[_ngcontent-%COMP%]{flex:1}.form-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1.3rem;font-weight:600;color:#fff}.form-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem;opacity:.95;line-height:1.4;color:#ffffffe6}.form-fields[_ngcontent-%COMP%]{padding:24px;display:flex;flex-direction:column;gap:20px}.field-group[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.field-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-outline[_ngcontent-%COMP%]{border-radius:12px}.field-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{border-radius:12px}.field-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-focus-overlay[_ngcontent-%COMP%]{border-radius:12px}.field-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%]{margin-top:8px}.field-group[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{font-size:.8rem;margin-top:4px}.role-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.role-option[_ngcontent-%COMP%]   .role-option-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#667eea}.status-toggle[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:12px;border:1px solid #e0e0e0}.status-toggle[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.status-toggle[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#667eea}.status-toggle[_ngcontent-%COMP%]   mat-slide-toggle[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;color:#1a202c}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:20px 24px;background:#f8f9fa;border-top:1px solid #e0e0e0}.cancel-btn[_ngcontent-%COMP%]{border-radius:12px;padding:12px 24px;font-weight:500;display:flex;align-items:center;gap:8px;transition:all .3s ease}.cancel-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.cancel-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.save-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;padding:12px 24px;font-weight:600;display:flex;align-items:center;gap:8px;transition:all .3s ease}.save-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.save-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #667eea66}.save-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.rtl[_ngcontent-%COMP%]{direction:rtl}.rtl[_ngcontent-%COMP%]   .form-header[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .role-option[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{flex-direction:row-reverse}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.form-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:12px}.form-fields[_ngcontent-%COMP%]{padding:20px;gap:16px}.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.form-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%], .form-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{width:100%;justify-content:center}.status-toggle[_ngcontent-%COMP%]{padding:12px}}@media (max-width: 480px){.form-header[_ngcontent-%COMP%]{padding:20px}.form-icon[_ngcontent-%COMP%]{width:40px;height:40px}.form-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.form-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2rem}.form-fields[_ngcontent-%COMP%], .form-actions[_ngcontent-%COMP%]{padding:16px}}"]})};function Gt(o,i){o&1&&(n(0,"div",31)(1,"mat-icon"),s(2,"person"),a()())}function Qt(o,i){if(o&1&&M(0,"img",32),o&2){let e=d();m("src",e.user.profileImageUrl,me)}}function Wt(o,i){if(o&1&&(n(0,"div",33),s(1),a()),o&2){let e=d();r(),l(e.user.phoneNumber)}}function Jt(o,i){if(o&1&&(n(0,"div",34)(1,"h4",14),s(2),a(),n(3,"div",35)(4,"div",36)(5,"div",37)(6,"mat-icon"),s(7),a()(),n(8,"div",38)(9,"div",39),s(10),a(),n(11,"div",40),s(12),a()()()()()),o&2){let e=d();r(2),l(e.translationService.translate("verificationHistory")),r(3),S("status-"+e.getVerificationStatus(e.user)),r(2),l(e.getVerificationStatusIcon(e.getVerificationStatus(e.user))),r(3),l(e.getVerificationStatusText(e.getVerificationStatus(e.user))),r(2),l(e.user.reviewReason)}}function Kt(o,i){if(o&1&&(n(0,"div",41)(1,"h4",14),s(2),a(),n(3,"div",42)(4,"div",43)(5,"mat-icon"),s(6,"restaurant"),a(),n(7,"div",44)(8,"h5"),s(9),a(),n(10,"p"),s(11),a(),n(12,"ul",45)(13,"li"),s(14),a(),n(15,"li"),s(16),a(),n(17,"li"),s(18),a(),n(19,"li"),s(20),a(),n(21,"li"),s(22),a()()()()()()),o&2){let e=d();r(2),l(e.translationService.translate("restaurantInformation")),r(7),l(e.translationService.translate("restaurantOwnerReview")),r(2),l(e.translationService.translate("restaurantReviewGuidelines")),r(3),l(e.translationService.translate("checkRestaurantData")),r(2),l(e.translationService.translate("verifyBusinessPapers")),r(2),l(e.translationService.translate("reviewMenuPhotos")),r(2),l(e.translationService.translate("confirmPrivacyPolicy")),r(2),l(e.translationService.translate("validateRealMeals"))}}function Xt(o,i){if(o&1){let e=h();n(0,"div",46)(1,"button",47),f("click",function(){p(e);let c=d();return u(c.onAccept())}),n(2,"mat-icon"),s(3,"check"),a(),s(4),a(),n(5,"button",48),f("click",function(){p(e);let c=d();return u(c.onReject())}),n(6,"mat-icon"),s(7,"close"),a(),s(8),a()()}if(o&2){let e=d();r(),m("disabled",!(e.reason!=null&&e.reason.trim())||e.loading),r(3),_(" ",e.translationService.translate("accept")," "),r(),m("disabled",!(e.reason!=null&&e.reason.trim())||e.loading),r(3),_(" ",e.translationService.translate("reject")," ")}}function Zt(o,i){if(o&1){let e=h();n(0,"div",49)(1,"button",50),f("click",function(){p(e);let c=d();return u(c.onActivate())}),n(2,"mat-icon"),s(3,"power_settings_new"),a(),s(4),a(),n(5,"button",51),f("click",function(){p(e);let c=d();return u(c.onDeactivate())}),n(6,"mat-icon"),s(7,"power_off"),a(),s(8),a()()}if(o&2){let e=d();r(),m("disabled",!(e.reason!=null&&e.reason.trim())||e.loading||e.user.isActive),r(3),_(" ",e.translationService.translate("activate")," "),r(),m("disabled",!(e.reason!=null&&e.reason.trim())||e.loading||!e.user.isActive),r(3),_(" ",e.translationService.translate("deactivate")," ")}}var ne=class o{user;translationService;accept=new v;reject=new v;activate=new v;deactivate=new v;close=new v;reason=null;loading=!1;showRestaurantInfo=!1;constructor(){}ngOnInit(){this.user.userType==="restaurant_owner"&&(this.showRestaurantInfo=!0)}onAccept(){this.accept.emit(this.reason)}onReject(){this.reject.emit(this.reason)}onActivate(){this.activate.emit(this.reason)}onDeactivate(){this.deactivate.emit(this.reason)}onClose(){this.close.emit()}getVerificationStatus(i){return i.reviewStatus||"pendingVerification"}getVerificationStatusIcon(i){switch(i){case"Verified":return"verified";case"Rejected":return"cancel";default:return"pending"}}getVerificationStatusText(i){return this.translationService.translate(i)}getRoleDisplayName(i){if(!this.translationService)return i;switch(i){case"admin":return this.translationService.translate("admin");case"manager":return this.translationService.translate("manager");case"operator":return this.translationService.translate("operator");case"customer":return this.translationService.translate("customer");case"delivery":return this.translationService.translate("delivery");case"restaurant_owner":return this.translationService.translate("restaurantOwner");case"unknown":return this.translationService.translate("unknown");default:return i}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=y({type:o,selectors:[["app-user-profile-review"]],inputs:{user:"user",translationService:"translationService"},outputs:{accept:"accept",reject:"reject",activate:"activate",deactivate:"deactivate",close:"close"},decls:63,vars:38,consts:[[1,"review-card"],[1,"review-header"],[1,"user-avatar-section"],["class","profile-img-placeholder",4,"ngIf"],["alt","Profile","class","profile-img",3,"src",4,"ngIf"],[1,"verification-status-indicator"],[1,"review-content"],[1,"user-info-section"],[1,"user-name"],[1,"user-email"],["class","user-phone",4,"ngIf"],[1,"user-role"],[1,"role-badge"],[1,"details-section"],[1,"section-title"],[1,"details-grid"],[1,"detail-item"],[1,"detail-label"],[1,"detail-value"],[1,"status-badge"],[1,"verification-badge"],["class","verification-section",4,"ngIf"],["class","restaurant-section",4,"ngIf"],[1,"action-section"],[1,"reason-input"],["matInput","","maxlength","500","rows","3",3,"ngModelChange","ngModel","placeholder"],["align","end"],[1,"action-buttons"],["class","verification-actions",4,"ngIf"],["class","activation-actions",4,"ngIf"],["mat-button","",1,"close-btn",3,"click"],[1,"profile-img-placeholder"],["alt","Profile",1,"profile-img",3,"src"],[1,"user-phone"],[1,"verification-section"],[1,"verification-history"],[1,"history-item"],[1,"history-icon"],[1,"history-content"],[1,"history-status"],[1,"history-reason"],[1,"restaurant-section"],[1,"restaurant-info"],[1,"restaurant-notice"],[1,"notice-content"],[1,"review-checklist"],[1,"verification-actions"],["mat-raised-button","","color","primary",1,"action-btn","accept-btn",3,"click","disabled"],["mat-raised-button","","color","warn",1,"action-btn","reject-btn",3,"click","disabled"],[1,"activation-actions"],["mat-raised-button","","color","accent",1,"action-btn","activate-btn",3,"click","disabled"],["mat-raised-button","","color","warn",1,"action-btn","deactivate-btn",3,"click","disabled"]],template:function(e,t){e&1&&(n(0,"mat-card",0)(1,"mat-card-header",1)(2,"div",2),x(3,Gt,3,0,"div",3)(4,Qt,1,1,"img",4),a(),n(5,"div",5)(6,"mat-icon"),s(7),a(),n(8,"span"),s(9),a()()(),n(10,"mat-card-content",6)(11,"div",7)(12,"h3",8),s(13),a(),n(14,"div",9),s(15),a(),x(16,Wt,2,1,"div",10),n(17,"div",11)(18,"span",12),s(19),a()()(),n(20,"div",13)(21,"h4",14),s(22),a(),n(23,"div",15)(24,"div",16)(25,"span",17),s(26),a(),n(27,"span",18),s(28),a()(),n(29,"div",16)(30,"span",17),s(31),a(),n(32,"span",18),s(33),Oe(34,"date"),a()(),n(35,"div",16)(36,"span",17),s(37),a(),n(38,"span",18)(39,"span",19),s(40),a()()(),n(41,"div",16)(42,"span",17),s(43),a(),n(44,"span",18)(45,"span",20),s(46),a()()()()(),x(47,Jt,13,6,"div",21)(48,Kt,23,8,"div",22),n(49,"div",23)(50,"mat-form-field",24)(51,"mat-label"),s(52),a(),n(53,"textarea",25),Me("ngModelChange",function(g){return Ce(t.reason,g)||(t.reason=g),g}),a(),n(54,"mat-hint",26),s(55),a()(),n(56,"div",27),x(57,Xt,9,4,"div",28)(58,Zt,9,4,"div",29),n(59,"button",30),f("click",function(){return t.onClose()}),n(60,"mat-icon"),s(61,"close"),a(),s(62),a()()()()()),e&2&&(r(3),m("ngIf",!t.user.profileImageUrl),r(),m("ngIf",t.user.profileImageUrl),r(),S("status-"+t.getVerificationStatus(t.user)),r(2),l(t.getVerificationStatusIcon(t.getVerificationStatus(t.user))),r(2),l(t.getVerificationStatusText(t.getVerificationStatus(t.user))),r(4),l(t.user.name),r(2),l(t.user.email),r(),m("ngIf",t.user.phoneNumber),r(2),S("role-"+(t.user.userType||"unknown")),r(),_(" ",t.getRoleDisplayName(t.user.userType||"unknown")," "),r(3),l(t.translationService.translate("userDetails")),r(4),_("",t.translationService.translate("userID"),":"),r(2),l(t.user.id),r(3),_("",t.translationService.translate("createdAt"),":"),r(2),l(Se(34,35,t.user.creationTime,"medium")),r(4),_("",t.translationService.translate("status"),":"),r(2),S(t.user.isActive?"active":"inactive"),r(),_(" ",t.user.isActive?t.translationService.translate("active"):t.translationService.translate("inactive")," "),r(3),_("",t.translationService.translate("verificationStatus"),":"),r(2),S("status-"+t.getVerificationStatus(t.user)),r(),_(" ",t.getVerificationStatusText(t.getVerificationStatus(t.user))," "),r(),m("ngIf",t.user.reviewReason),r(),m("ngIf",t.showRestaurantInfo),r(4),l(t.translationService.translate("enterReasonForAction")),r(),m("placeholder",he(t.translationService.translate("enterReasonForAction"))),ve("ngModel",t.reason),r(2),_("",(t.reason==null?null:t.reason.length)||0,"/500"),r(2),m("ngIf",t.user.reviewStatus!=="Verified"),r(),m("ngIf",t.user.reviewStatus==="Verified"),r(4),_(" ",t.translationService.translate("close")," "))},dependencies:[I,U,ye,je,N,q,ze,De,R,Qe,We,Je,F,B,j,Ee,z,J,k,A,D,T,E,V,Z],styles:['.profile-review-card[_ngcontent-%COMP%]{max-width:600px;margin:32px auto;border-radius:16px;box-shadow:0 4px 24px #0000001f;padding:0;overflow:hidden;animation:_ngcontent-%COMP%_slideInUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}.review-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:24px;margin:0}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px}.user-avatar-section[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.profile-img[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;object-fit:cover;border:3px solid rgba(255,255,255,.3);box-shadow:0 4px 12px #00000026}.profile-img-placeholder[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;background:#fff3;display:flex;align-items:center;justify-content:center;border:3px solid rgba(255,255,255,.3)}.profile-img-placeholder[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:40px;color:#fffc}.verification-status-indicator[_ngcontent-%COMP%]{position:absolute;bottom:-2px;right:-2px;width:28px;height:28px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:3px solid white;box-shadow:0 2px 8px #0003}.verification-status-indicator.status-accepted[_ngcontent-%COMP%]{background:#4caf50}.verification-status-indicator.status-rejected[_ngcontent-%COMP%]{background:#f44336}.verification-status-indicator.status-pending[_ngcontent-%COMP%]{background:#ff9800}.verification-status-indicator[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;color:#fff}.user-info-section[_ngcontent-%COMP%]{flex:1}.user-name[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.8rem;font-weight:600;color:#fff}.user-email[_ngcontent-%COMP%]{font-size:1rem;color:#ffffffe6;margin-bottom:4px}.user-phone[_ngcontent-%COMP%]{font-size:.9rem;color:#fffc;margin-bottom:8px}.user-role[_ngcontent-%COMP%]   .role-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:12px;font-size:.8rem;font-weight:500;text-transform:uppercase;background:#fff3;color:#fff;border:1px solid rgba(255,255,255,.3)}.review-content[_ngcontent-%COMP%]{padding:24px}.section-title[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.2rem;font-weight:600;color:#333;border-bottom:2px solid #f0f0f0;padding-bottom:8px}.details-section[_ngcontent-%COMP%]{margin-bottom:24px}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.detail-label[_ngcontent-%COMP%]{font-size:.85rem;color:#666;font-weight:500}.detail-value[_ngcontent-%COMP%]{font-size:.95rem;color:#333;font-weight:500}.verification-section[_ngcontent-%COMP%]{margin-bottom:24px}.verification-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:12px;background:#f8f9fa;border-radius:8px;border-left:4px solid #dee2e6}.verification-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-shrink:0}.verification-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-icon.status-accepted[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.verification-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-icon.status-rejected[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.verification-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-icon.status-pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}.verification-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.verification-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-content[_ngcontent-%COMP%]{flex:1}.verification-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-status[_ngcontent-%COMP%]{font-weight:600;color:#333;margin-bottom:4px}.verification-history[_ngcontent-%COMP%]   .history-item[_ngcontent-%COMP%]   .history-reason[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-style:italic}.action-section[_ngcontent-%COMP%]   .reason-input[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.action-section[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:12px;justify-content:flex-start}.action-section[_ngcontent-%COMP%]   .verification-actions[_ngcontent-%COMP%], .action-section[_ngcontent-%COMP%]   .activation-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.action-section[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;border-radius:8px;font-weight:500;transition:all .2s ease}.action-section[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.action-section[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.action-section[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px}.action-section[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{margin-left:auto}.status-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:12px;font-size:.8rem;font-weight:500;text-transform:uppercase}.status-badge.active[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.status-badge.inactive[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.verification-badge[_ngcontent-%COMP%]{padding:4px 12px;border-radius:12px;font-size:.8rem;font-weight:500;text-transform:uppercase}.verification-badge.verification-accepted[_ngcontent-%COMP%]{background:#d4edda;color:#155724}.verification-badge.verification-rejected[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24}.verification-badge.verification-pending[_ngcontent-%COMP%]{background:#fff3cd;color:#856404}@media (max-width: 768px){.profile-review-card[_ngcontent-%COMP%]{max-width:95vw;margin:16px auto}.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:16px}.user-avatar-section[_ngcontent-%COMP%]{align-self:center}.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]   .verification-actions[_ngcontent-%COMP%], .action-buttons[_ngcontent-%COMP%]   .activation-actions[_ngcontent-%COMP%]{justify-content:center}.action-buttons[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{margin-left:0;margin-top:8px}}@media (max-width: 480px){.review-header[_ngcontent-%COMP%], .review-content[_ngcontent-%COMP%]{padding:16px}.user-name[_ngcontent-%COMP%]{font-size:1.5rem}.profile-img[_ngcontent-%COMP%], .profile-img-placeholder[_ngcontent-%COMP%]{width:60px;height:60px}.verification-status-indicator[_ngcontent-%COMP%]{width:24px;height:24px}.verification-status-indicator[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px}}.restaurant-section[_ngcontent-%COMP%]{margin-top:24px;padding:20px;background:linear-gradient(135deg,#fff3e0,#ffe0b2);border-radius:12px;border-left:4px solid #ff9800}.restaurant-section[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#e65100;margin-bottom:16px;font-size:18px;font-weight:600}.restaurant-section[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%]   .restaurant-notice[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;padding:16px;background:#fffc;border-radius:8px;border:1px solid #ffcc80}.restaurant-section[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%]   .restaurant-notice[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff9800;font-size:24px;width:24px;height:24px;margin-top:2px}.restaurant-section[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%]   .restaurant-notice[_ngcontent-%COMP%]   .notice-content[_ngcontent-%COMP%]{flex:1}.restaurant-section[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%]   .restaurant-notice[_ngcontent-%COMP%]   .notice-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#e65100;margin:0 0 8px;font-size:16px;font-weight:600}.restaurant-section[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%]   .restaurant-notice[_ngcontent-%COMP%]   .notice-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#795548;margin:0 0 12px;line-height:1.5}.restaurant-section[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%]   .restaurant-notice[_ngcontent-%COMP%]   .notice-content[_ngcontent-%COMP%]   .review-checklist[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.restaurant-section[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%]   .restaurant-notice[_ngcontent-%COMP%]   .notice-content[_ngcontent-%COMP%]   .review-checklist[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#5d4037;font-size:14px;line-height:1.4;position:relative;padding:4px 0 4px 20px}.restaurant-section[_ngcontent-%COMP%]   .restaurant-info[_ngcontent-%COMP%]   .restaurant-notice[_ngcontent-%COMP%]   .notice-content[_ngcontent-%COMP%]   .review-checklist[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:6px;width:8px;height:8px;background-color:#4caf50;border-radius:50%}']})};var en=()=>[5,10,25,100];function tn(o,i){if(o&1&&(P(0),n(1,"mat-icon"),s(2,"add"),a(),s(3),b()),o&2){let e=d();r(3),_(" ",e.translationService.translate("addUser")," ")}}function nn(o,i){if(o&1&&(P(0),s(1),n(2,"mat-icon"),s(3,"add"),a(),b()),o&2){let e=d();r(),_(" ",e.translationService.translate("addUser")," ")}}function rn(o,i){if(o&1){let e=h();n(0,"div",25),f("click",function(){p(e);let c=d();return u(c.closeUserDialog())}),n(1,"div",26),f("click",function(c){return p(e),u(c.stopPropagation())}),n(2,"div",27)(3,"h2"),s(4),a(),n(5,"button",28),f("click",function(){p(e);let c=d();return u(c.closeUserDialog())}),n(6,"mat-icon"),s(7,"close"),a()()(),n(8,"app-user-form",29),f("submit",function(){p(e);let c=d();return u(c.saveUser())})("cancel",function(){p(e);let c=d();return u(c.closeUserDialog())}),a()()()}if(o&2){let e=d();r(),O("rtl",e.translationService.isRTL()),r(3),l(e.isEditMode?e.translationService.translate("editUser"):e.translationService.translate("addUser")),r(4),m("userForm",e.userForm)("isEditMode",e.isEditMode)("isSaving",e.isSaving)("roles",e.roles)("translationService",e.translationService)}}function an(o,i){if(o&1){let e=h();n(0,"div",25),f("click",function(){p(e);let c=d();return u(c.closeProfileReview())}),n(1,"div",26),f("click",function(c){return p(e),u(c.stopPropagation())}),n(2,"div",27)(3,"h2"),s(4),a(),n(5,"button",28),f("click",function(){p(e);let c=d();return u(c.closeProfileReview())}),n(6,"mat-icon"),s(7,"close"),a()()(),n(8,"app-user-profile-review",30),f("accept",function(c){p(e);let g=d();return u(g.onAcceptUser(c))})("reject",function(c){p(e);let g=d();return u(g.onRejectUser(c))})("close",function(){p(e);let c=d();return u(c.closeProfileReview())}),a()()()}if(o&2){let e=d();r(),O("rtl",e.translationService.isRTL()),r(3),l(e.translationService.translate("profileReview")),r(4),m("user",e.selectedUser)("translationService",e.translationService)}}var mt=class o{constructor(i,e,t,c){this.userService=i;this.translationService=e;this.fb=t;this.snackBar=c;this.userForm=this.fb.group({id:[""],name:["",[w.required]],email:["",[w.required,w.email]],password:["",[w.required,w.minLength(6)]],role:["",[w.required]],isActive:[!0]})}users=[];totalUsers=0;displayedColumns=["name","email","role","status","verification","actions"];isLoading=!1;showUserDialog=!1;isEditMode=!1;isSaving=!1;userForm;showProfileReviewDialog=!1;selectedUser=null;roles=[];destroy$=new de;paginator;ngOnInit(){}getActiveUsersCount(){return this.users.filter(i=>i.isActive).length}getPendingUsersCount(){return this.users.filter(i=>i.reviewStatus==="pending"||!i.reviewStatus).length}refreshUsers(){this.loadUsers()}ngAfterViewInit(){setTimeout(()=>this.loadUsers())}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadUsers(){this.isLoading=!0;let i=this.paginator?this.paginator.pageIndex*this.paginator.pageSize:0,e=this.paginator?this.paginator.pageSize:10;this.userService.getList({skipCount:i,maxResultCount:e,sorting:void 0}).subscribe(t=>{this.users=t.items??[],this.totalUsers=t.totalCount??0,this.isLoading=!1},t=>{this.snackBar.open("Error loading users","",{duration:3e3}),this.isLoading=!1})}openUserDialog(i){let e=this.userForm.get("password");this.userService.getRoles().subscribe(t=>{t&&t.items&&(this.roles=t.items.map(c=>c.name))}),this.isEditMode=!!i,this.showUserDialog=!0,i?(this.userForm.patchValue({id:i.id,name:i.name,email:i.email,role:i.userType}),e?.clearValidators(),e?.updateValueAndValidity()):(this.userForm.reset({isActive:!0}),e?.setValidators([w.required,w.minLength(6)]),e?.updateValueAndValidity())}closeUserDialog(){this.showUserDialog=!1,this.userForm.reset()}saveUser(){if(this.userForm.valid&&!this.isSaving){this.isSaving=!0;let i=this.userForm.value;if(this.isEditMode){let e={name:i.name,phoneNumber:i.phoneNumber,profileImageUrl:i.profileImageUrl};this.userService.update(i.id,e).subscribe({next:t=>{this.snackBar.open("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D","",{duration:3e3}),this.loadUsers(),this.isSaving=!1,this.closeUserDialog()},error:t=>{this.snackBar.open("\u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645","",{duration:3e3}),this.isSaving=!1}})}else{let e={name:i.name,email:i.email,password:i.password,phoneNumber:i.phoneNumber,profileImageUrl:i.profileImageUrl,role:i.role};this.userService.create(e).subscribe({next:t=>{this.snackBar.open("\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D","",{duration:3e3}),this.loadUsers(),this.isSaving=!1,this.closeUserDialog()},error:t=>{this.snackBar.open("\u062E\u0637\u0623 \u0641\u064A \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645","",{duration:3e3}),this.isSaving=!1}})}}}deleteUser(i){i.id&&this.userService.delete(i.id).subscribe(()=>{this.snackBar.open("\u062A\u0645 \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D","",{duration:3e3}),this.loadUsers()},e=>{this.snackBar.open("\u062E\u0637\u0623 \u0641\u064A \u062D\u0630\u0641 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645","",{duration:3e3})})}openProfileReview(i){this.selectedUser=i,this.showProfileReviewDialog=!0}closeProfileReview(){this.showProfileReviewDialog=!1,this.selectedUser=null}onAcceptUser(i){!this.selectedUser?.id||i===null||this.userService.acceptUser(this.selectedUser.id,i).subscribe({next:()=>{this.snackBar.open("\u062A\u0645 \u0642\u0628\u0648\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0648\u062A\u0641\u0639\u064A\u0644\u0647","",{duration:3e3}),this.loadUsers(),this.closeProfileReview()},error:()=>{this.snackBar.open("\u062E\u0637\u0623 \u0641\u064A \u0642\u0628\u0648\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645","",{duration:3e3})}})}onRejectUser(i){!this.selectedUser?.id||i===null||this.userService.rejectUser(this.selectedUser.id,i).subscribe({next:()=>{this.snackBar.open("\u062A\u0645 \u0631\u0641\u0636 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0648\u062A\u0639\u0637\u064A\u0644\u0647","",{duration:3e3}),this.loadUsers(),this.closeProfileReview()},error:()=>{this.snackBar.open("\u062E\u0637\u0623 \u0641\u064A \u0631\u0641\u0636 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645","",{duration:3e3})}})}activateUser(i){i.id&&this.userService.acceptUser(i.id,"Activated by admin").subscribe({next:()=>{this.snackBar.open("\u062A\u0645 \u062A\u0641\u0639\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D","",{duration:3e3}),this.loadUsers()},error:e=>{console.error("Error activating user:",e),this.snackBar.open("\u062E\u0637\u0623 \u0641\u064A \u062A\u0641\u0639\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645","",{duration:3e3})}})}deactivateUser(i){i.id&&this.userService.rejectUser(i.id,"Deactivated by admin").subscribe({next:()=>{this.snackBar.open("\u062A\u0645 \u062A\u0639\u0637\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645 \u0628\u0646\u062C\u0627\u062D","",{duration:3e3}),this.loadUsers()},error:e=>{console.error("Error deactivating user:",e),this.snackBar.open("\u062E\u0637\u0623 \u0641\u064A \u062A\u0639\u0637\u064A\u0644 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645","",{duration:3e3})}})}debugUsers(){this.userService.getAllUsersForDebug().subscribe({next:i=>{console.log("All users in database:",i),this.snackBar.open(`Found ${i.length} users in database`,"",{duration:3e3})},error:i=>{console.error("Error getting users for debug:",i),this.snackBar.open("Error getting users for debug","",{duration:3e3})}})}debugSpecificUser(){this.userService.getUserByIdForDebug("17f169de-669d-ff25-f27b-3a1ac76e32bd").subscribe({next:e=>{console.log("Specific user found:",e),this.snackBar.open(`User found: ${e?.email}`,"",{duration:3e3})},error:e=>{console.error("Error getting specific user:",e),this.snackBar.open("Error getting specific user","",{duration:3e3})}})}debugSoftDeletedUsers(){this.userService.getSoftDeletedUsersForDebug().subscribe({next:i=>{console.log("Soft deleted users:",i),this.snackBar.open(`Found ${i.length} soft deleted users`,"",{duration:3e3})},error:i=>{console.error("Error getting soft deleted users:",i),this.snackBar.open("Error getting soft deleted users","",{duration:3e3})}})}onPageChange(i){this.paginator.pageIndex=i.pageIndex,this.paginator.pageSize=i.pageSize,this.loadUsers()}getRoleDisplayName(i){switch(i){case"admin":return this.translationService.translate("admin");case"manager":return this.translationService.translate("manager");case"operator":return this.translationService.translate("operator");default:return i}}static \u0275fac=function(e){return new(e||o)(L(lt),L(Ye),L(Le),L(He))};static \u0275cmp=y({type:o,selectors:[["app-user-management"]],viewQuery:function(e,t){if(e&1&&ge(G,5),e&2){let c;fe(c=_e())&&(t.paginator=c.first)}},features:[Pe([{provide:qe,useClass:$e}])],decls:59,vars:27,consts:[["paginator",""],[1,"user-management-container"],[1,"header-section"],[1,"header-content"],[1,"title-section"],[1,"page-title"],[1,"page-subtitle"],[1,"stats-section"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-content"],[1,"stat-number"],[1,"stat-label"],[1,"stat-icon","active"],[1,"stat-icon","pending"],[1,"actions-section"],[1,"actions-left"],["mat-raised-button","","color","primary",1,"add-user-btn",3,"click"],[4,"ngIf"],["mat-stroked-button","","color","accent",1,"refresh-btn",3,"click","disabled"],[1,"actions-right"],["mat-stroked-button","","color","warn",1,"debug-btn",3,"click"],[3,"editUser","deleteUser","reviewUser","activateUser","deactivateUser","users","isLoading","displayedColumns","translationService"],[3,"page","length","pageSize","pageSizeOptions","showFirstLastButtons"],["class","dialog-overlay",3,"click",4,"ngIf"],[1,"dialog-overlay",3,"click"],[1,"dialog-content",3,"click"],[1,"dialog-header"],["mat-icon-button","",3,"click"],[3,"submit","cancel","userForm","isEditMode","isSaving","roles","translationService"],[3,"accept","reject","close","user","translationService"]],template:function(e,t){if(e&1){let c=h();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h1",5),s(5),a(),n(6,"p",6),s(7),a()(),n(8,"div",7)(9,"div",8)(10,"div",9)(11,"mat-icon"),s(12,"people"),a()(),n(13,"div",10)(14,"span",11),s(15),a(),n(16,"span",12),s(17),a()()(),n(18,"div",8)(19,"div",13)(20,"mat-icon"),s(21,"person_check"),a()(),n(22,"div",10)(23,"span",11),s(24),a(),n(25,"span",12),s(26),a()()(),n(27,"div",8)(28,"div",14)(29,"mat-icon"),s(30,"person_pending"),a()(),n(31,"div",10)(32,"span",11),s(33),a(),n(34,"span",12),s(35),a()()()()()(),n(36,"div",15)(37,"div",16)(38,"button",17),f("click",function(){return p(c),u(t.openUserDialog())}),x(39,tn,4,1,"ng-container",18)(40,nn,4,1,"ng-container",18),a(),n(41,"button",19),f("click",function(){return p(c),u(t.refreshUsers())}),n(42,"mat-icon"),s(43,"refresh"),a(),s(44),a()(),n(45,"div",20)(46,"button",21),f("click",function(){return p(c),u(t.debugUsers())}),n(47,"mat-icon"),s(48,"bug_report"),a(),s(49," Debug Users "),a(),n(50,"button",21),f("click",function(){return p(c),u(t.debugSpecificUser())}),n(51,"mat-icon"),s(52,"search"),a(),s(53," Debug Specific User "),a()()(),n(54,"app-user-list",22),f("editUser",function(C){return p(c),u(t.openUserDialog(C))})("deleteUser",function(C){return p(c),u(t.deleteUser(C))})("reviewUser",function(C){return p(c),u(t.openProfileReview(C))})("activateUser",function(C){return p(c),u(t.activateUser(C))})("deactivateUser",function(C){return p(c),u(t.deactivateUser(C))}),n(55,"mat-paginator",23,0),f("page",function(C){return p(c),u(t.onPageChange(C))}),a()()(),x(57,rn,9,8,"div",24)(58,an,9,5,"div",24)}e&2&&(O("rtl",t.translationService.isRTL()),r(5),l(t.translationService.translate("userManagement")),r(2),l(t.translationService.translate("userManagementDescription")||"\u0625\u062F\u0627\u0631\u0629 \u0627\u0644\u0645\u0633\u062A\u062E\u062F\u0645\u064A\u0646 \u0648\u0627\u0644\u0635\u0644\u0627\u062D\u064A\u0627\u062A \u0641\u064A \u0627\u0644\u0646\u0638\u0627\u0645"),r(8),l(t.totalUsers),r(2),l(t.translationService.translate("totalUsers")),r(7),l(t.getActiveUsersCount()),r(2),l(t.translationService.translate("activeUsers")),r(7),l(t.getPendingUsersCount()),r(2),l(t.translationService.translate("pendingUsers")),r(4),m("ngIf",!t.translationService.isRTL()),r(),m("ngIf",t.translationService.isRTL()),r(),m("disabled",t.isLoading),r(),O("spinning",t.isLoading),r(2),_(" ",t.translationService.translate("refresh")," "),r(10),m("users",t.users)("isLoading",t.isLoading)("displayedColumns",t.displayedColumns)("translationService",t.translationService),r(),m("length",t.totalUsers)("pageSize",10)("pageSizeOptions",be(26,en))("showFirstLastButtons",!0),r(2),m("ngIf",t.showUserDialog),r(),m("ngIf",t.showProfileReviewDialog&&t.selectedUser))},dependencies:[I,U,Y,X,Q,G,k,A,H,D,T,Ge,F,z,$,R,W,V,E,ee,te,ne],styles:[".user-management-container[_ngcontent-%COMP%]{padding:24px;font-family:Cairo,Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);min-height:100vh}.header-section[_ngcontent-%COMP%]{margin-bottom:32px;animation:_ngcontent-%COMP%_slideInDown .6s ease-out}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:32px;flex-wrap:wrap}.title-section[_ngcontent-%COMP%]{flex:1;min-width:300px}.page-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a202c;margin:0 0 8px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.page-subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#4a5568;margin:0;line-height:1.6;font-weight:500}.stats-section[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:20px;box-shadow:0 4px 20px #00000014;display:flex;align-items:center;gap:16px;min-width:180px;transition:all .3s ease;border:1px solid rgba(255,255,255,.2)}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 30px #0000001f}.stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.stat-icon.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe)}.stat-icon.pending[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffecd2,#fcb69f);color:#d35400}.stat-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.stat-number[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;color:#1a202c;line-height:1}.stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#4a5568;font-weight:500}.actions-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding:20px;background:#fff;border-radius:16px;box-shadow:0 2px 12px #0000000f;animation:_ngcontent-%COMP%_slideInUp .6s ease-out .2s both}.actions-left[_ngcontent-%COMP%], .actions-right[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}.add-user-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;padding:12px 24px;font-weight:600;display:flex;align-items:center;gap:8px;transition:all .3s ease}.add-user-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea66}.refresh-btn[_ngcontent-%COMP%], .debug-btn[_ngcontent-%COMP%]{border-radius:12px;padding:12px 20px;font-weight:500;display:flex;align-items:center;gap:8px;transition:all .3s ease}.refresh-btn[_ngcontent-%COMP%]:hover, .debug-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.dialog-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;justify-content:center;align-items:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .3s ease-out;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.dialog-content[_ngcontent-%COMP%]{background:#fff;border-radius:20px;width:90%;max-width:600px;max-height:90vh;overflow-y:auto;box-shadow:0 20px 60px #0000004d;animation:_ngcontent-%COMP%_slideInUp .4s ease-out}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px;border-bottom:1px solid #e0e0e0;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:20px 20px 0 0}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600;color:#1a202c}.user-form[_ngcontent-%COMP%]{padding:24px;display:flex;flex-direction:column;gap:20px}.full-width[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:24px;padding-top:20px;border-top:1px solid #e0e0e0}.rtl[_ngcontent-%COMP%]{direction:rtl}.rtl[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .actions-section[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .add-user-btn[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .debug-btn[_ngcontent-%COMP%]{flex-direction:row-reverse}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_slideInDown{0%{transform:translateY(-30px);opacity:0}to{transform:translateY(0);opacity:1}}@media (max-width: 768px){.user-management-container[_ngcontent-%COMP%]{padding:16px}.header-content[_ngcontent-%COMP%]{flex-direction:column;gap:20px}.stats-section[_ngcontent-%COMP%]{justify-content:center}.stat-card[_ngcontent-%COMP%]{min-width:150px;padding:16px}.actions-section[_ngcontent-%COMP%]{flex-direction:column;gap:16px;align-items:stretch}.actions-left[_ngcontent-%COMP%], .actions-right[_ngcontent-%COMP%]{justify-content:center}.page-title[_ngcontent-%COMP%]{font-size:2rem}.dialog-content[_ngcontent-%COMP%]{width:95%;margin:10px}}@media (max-width: 480px){.stat-card[_ngcontent-%COMP%]{min-width:120px;padding:12px;gap:12px}.stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}.stat-number[_ngcontent-%COMP%]{font-size:1.5rem}.page-title[_ngcontent-%COMP%]{font-size:1.8rem}}"]})};export{mt as UserManagementComponent};
