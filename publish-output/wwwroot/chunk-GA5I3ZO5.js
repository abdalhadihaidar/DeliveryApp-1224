import{a as Pt,c as yt}from"./chunk-DCW55RZ7.js";import{a as Ce}from"./chunk-VFVVYYI3.js";import{a as wt}from"./chunk-YHUEABSH.js";import"./chunk-IJRZG5DY.js";import{a as St}from"./chunk-D2L3R3XT.js";import{a as at}from"./chunk-W345M3QW.js";import{a as Ct,b as Mt,c as bt,d as Ot}from"./chunk-MHPTN35L.js";import{e as Ke}from"./chunk-IWOWZ65F.js";import"./chunk-CIN4ONNM.js";import"./chunk-UHU4RJ54.js";import"./chunk-GGQ7LRWG.js";import{c as Me,d as be,f as V,g as Oe}from"./chunk-W4AHS3DZ.js";import{a as rt,c as ot,d as st,e as lt}from"./chunk-6IL5P6PK.js";import"./chunk-SUUQXVLQ.js";import{a as oe,b as se}from"./chunk-SBN3BR4S.js";import{a as Ie,b as $}from"./chunk-SOD3ETRX.js";import{a as le,b as de,c as it,d as ce,e as ue,f as me,g as L}from"./chunk-YZHQBPKS.js";import{b as q,d as Ae,f as Y}from"./chunk-GURXHOCJ.js";import{a as dt,b as ct,c as ut,d as mt,e as pt,f as gt,g as ft,h as _t,i as vt,j as xt,k as ht}from"./chunk-66EBL4AI.js";import{b as we,c as tt}from"./chunk-BHUWSNYL.js";import{b as ve,c as xe}from"./chunk-5QG37IKZ.js";import{c as Q,e as J,h as K,k as X,l as ie,m as ae,n as re}from"./chunk-4QNLZ27S.js";import"./chunk-F5X5MWHG.js";import{a as Ze,b as et}from"./chunk-H6HE4MHR.js";import"./chunk-QI4NFHPB.js";import"./chunk-3XTS6IX6.js";import{a as pe,b as ge,c as fe,e as _e,g as j}from"./chunk-VE33HBPU.js";import{a as De,b as he}from"./chunk-RKVGNEAU.js";import{a as W,b as H}from"./chunk-YYCZXRKQ.js";import"./chunk-YG2AVUDB.js";import{$a as U,Da as Z,Ha as ee,La as te,Na as Xe,Wa as ne,Ya as R,Za as z,ab as nt,g as B,h as F,k as Pe,l as ye,n as N}from"./chunk-F6AVZLPP.js";import{Ac as w,Dc as Je,Fc as A,H as qe,Hc as E,N as Ye,R as Ge,Sb as c,Tb as r,Ub as i,Vb as M,Wb as D,Xb as I,Zb as C,ba as Fe,cc as f,dc as p,fb as a,h as G,hc as Ne,ic as Ve,jc as Re,kb as h,n as Be,nc as Se,oc as Qe,pc as y,qc as b,rb as k,rc as o,sa as _,sc as d,ta as v,tc as m,uc as T,xb as g,xc as O,yc as S,zc as P}from"./chunk-PBCT4LDD.js";function Rt(s,n){if(s&1&&(r(0,"div",8)(1,"span",9),o(2),i(),r(3,"span",10),o(4),i()()),s&2){let e=p();a(2),m("",e.data.translationService.translate("dashboard.deliveryPerson")||"\u0627\u0644\u0645\u0646\u062F\u0648\u0628",":"),a(2),d(e.data.order.deliveryPersonName)}}function zt(s,n){if(s&1&&(r(0,"div",30)(1,"div",31)(2,"span",32),o(3),i(),r(4,"span",33),o(5),i()(),r(6,"div",34),o(7),i()()),s&2){let e=n.$implicit;a(3),d(e.name),a(2),m("x",e.quantity),a(2),m("",e.price*e.quantity," \u0631.\u0633")}}function Ut(s,n){if(s&1&&(r(0,"div",20)(1,"div",21)(2,"mat-icon"),o(3,"local_shipping"),i()(),r(4,"div",22)(5,"div",23),o(6),i(),r(7,"div",24),o(8),A(9,"date"),i()()()),s&2){let e=p();a(6),d(e.data.translationService.translate("dashboard.estimatedDelivery")||"\u0627\u0644\u0648\u0642\u062A \u0627\u0644\u0645\u062A\u0648\u0642\u0639 \u0644\u0644\u062A\u0648\u0635\u064A\u0644"),a(2),d(E(9,2,e.data.order.estimatedDeliveryTime,"dd/MM/yyyy HH:mm"))}}function Lt(s,n){if(s&1&&(r(0,"div",20)(1,"div",21)(2,"mat-icon"),o(3,"check_circle"),i()(),r(4,"div",22)(5,"div",23),o(6),i(),r(7,"div",24),o(8),A(9,"date"),i()()()),s&2){let e=p();a(6),d(e.data.translationService.translate("dashboard.actualDelivery")||"\u062A\u0645 \u0627\u0644\u062A\u0648\u0635\u064A\u0644"),a(2),d(E(9,2,e.data.order.actualDeliveryTime,"dd/MM/yyyy HH:mm"))}}function jt(s,n){if(s&1&&(r(0,"div",8)(1,"span",9),o(2),i(),r(3,"span",10),o(4),i()()),s&2){let e=p(2);a(2),m("",e.data.translationService.translate("dashboard.notes")||"\u0645\u0644\u0627\u062D\u0638\u0627\u062A",":"),a(2),d(e.data.order.notes)}}function Wt(s,n){if(s&1&&(r(0,"div",8)(1,"span",9),o(2),i(),r(3,"span",35),o(4),i()()),s&2){let e=p(2);a(2),m("",e.data.translationService.translate("dashboard.cancellationReason")||"\u0633\u0628\u0628 \u0627\u0644\u0625\u0644\u063A\u0627\u0621",":"),a(2),d(e.data.order.cancellationReason)}}function Ht(s,n){if(s&1&&(r(0,"mat-card",6)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon"),o(4,"note"),i(),o(5),i()(),r(6,"mat-card-content"),g(7,jt,5,2,"div",11)(8,Wt,5,2,"div",11),i()()),s&2){let e=p();a(5),m(" ",e.data.translationService.translate("dashboard.notes")||"\u0645\u0644\u0627\u062D\u0638\u0627\u062A"," "),a(2),c("ngIf",e.data.order.notes),a(),c("ngIf",e.data.order.cancellationReason)}}var Ee=class s{constructor(n,e){this.dialogRef=n;this.data=e}onClose(){this.dialogRef.close()}onPrint(){window.print()}getStatusClass(n){switch(n){case"pending":return"status-pending";case"confirmed":return"status-confirmed";case"preparing":return"status-preparing";case"ready":return"status-ready";case"waiting_courier":return"status-waiting-courier";case"out_for_delivery":return"status-out-for-delivery";case"delivering":return"status-delivering";case"delivered":return"status-delivered";case"cancelled":return"status-cancelled";default:return"status-unknown"}}getStatusText(n){let t={pending:"pending",confirmed:"confirmed",preparing:"preparing",ready:"ready",waiting_courier:"waiting_courier",out_for_delivery:"out_for_delivery",delivering:"delivering",delivered:"delivered",cancelled:"cancelled"}[n];return t&&this.data.translationService.translate(t)||n}getPaymentStatusClass(n){switch(n){case"paid":return"payment-paid";case"pending":return"payment-pending";case"failed":return"payment-failed";case"refunded":return"payment-refunded";default:return"payment-unknown"}}getPaymentStatusText(n){return{paid:"\u062A\u0645 \u0627\u0644\u062F\u0641\u0639",pending:"\u0641\u064A \u0627\u0646\u062A\u0638\u0627\u0631 \u0627\u0644\u062F\u0641\u0639",failed:"\u0641\u0634\u0644 \u0627\u0644\u062F\u0641\u0639",refunded:"\u062A\u0645 \u0627\u0644\u0627\u0633\u062A\u0631\u062F\u0627\u062F"}[n]||n}static \u0275fac=function(e){return new(e||s)(h(le),h(de))};static \u0275cmp=k({type:s,selectors:[["app-order-details-dialog"]],decls:120,vars:44,consts:[[1,"order-details-dialog"],[1,"dialog-header"],["mat-dialog-title",""],["mat-icon-button","",1,"close-button",3,"click"],[1,"dialog-content"],[1,"order-info-grid"],[1,"info-card"],[1,"order-number"],[1,"info-row"],[1,"label"],[1,"value"],["class","info-row",4,"ngIf"],[1,"info-card","items-card"],[1,"items-list"],["class","item-row",4,"ngFor","ngForOf"],[1,"total-row"],[1,"total-label"],[1,"total-amount"],[1,"info-card","timeline-card"],[1,"timeline"],[1,"timeline-item"],[1,"timeline-icon"],[1,"timeline-content"],[1,"timeline-title"],[1,"timeline-time"],["class","timeline-item",4,"ngIf"],["class","info-card",4,"ngIf"],[1,"dialog-actions"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"],[1,"item-row"],[1,"item-info"],[1,"item-name"],[1,"item-quantity"],[1,"item-price"],[1,"value","cancellation-reason"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon"),o(4,"receipt_long"),i(),o(5),i(),r(6,"button",3),f("click",function(){return t.onClose()}),r(7,"mat-icon"),o(8,"close"),i()()(),r(9,"mat-dialog-content",4)(10,"div",5)(11,"mat-card",6)(12,"mat-card-header")(13,"mat-card-title")(14,"mat-icon"),o(15,"confirmation_number"),i(),o(16),i()(),r(17,"mat-card-content")(18,"div",7),o(19),i(),r(20,"mat-chip-set")(21,"mat-chip"),o(22),i(),r(23,"mat-chip"),o(24),i()()()(),r(25,"mat-card",6)(26,"mat-card-header")(27,"mat-card-title")(28,"mat-icon"),o(29,"person"),i(),o(30),i()(),r(31,"mat-card-content")(32,"div",8)(33,"span",9),o(34),i(),r(35,"span",10),o(36),i()(),r(37,"div",8)(38,"span",9),o(39),i(),r(40,"span",10),o(41),i()(),r(42,"div",8)(43,"span",9),o(44),i(),r(45,"span",10),o(46),i()()()(),r(47,"mat-card",6)(48,"mat-card-header")(49,"mat-card-title")(50,"mat-icon"),o(51,"restaurant"),i(),o(52),i()(),r(53,"mat-card-content")(54,"div",8)(55,"span",9),o(56),i(),r(57,"span",10),o(58),i()(),g(59,Rt,5,2,"div",11),i()(),r(60,"mat-card",12)(61,"mat-card-header")(62,"mat-card-title")(63,"mat-icon"),o(64,"shopping_cart"),i(),o(65),i()(),r(66,"mat-card-content")(67,"div",13),g(68,zt,8,3,"div",14),M(69,"mat-divider"),r(70,"div",15)(71,"span",16),o(72),i(),r(73,"span",17),o(74),i()()()()(),r(75,"mat-card",18)(76,"mat-card-header")(77,"mat-card-title")(78,"mat-icon"),o(79,"schedule"),i(),o(80),i()(),r(81,"mat-card-content")(82,"div",19)(83,"div",20)(84,"div",21)(85,"mat-icon"),o(86,"receipt"),i()(),r(87,"div",22)(88,"div",23),o(89),i(),r(90,"div",24),o(91),A(92,"date"),i()()(),g(93,Ut,10,5,"div",25)(94,Lt,10,5,"div",25),i()()(),r(95,"mat-card",6)(96,"mat-card-header")(97,"mat-card-title")(98,"mat-icon"),o(99,"payment"),i(),o(100),i()(),r(101,"mat-card-content")(102,"div",8)(103,"span",9),o(104),i(),r(105,"span",10),o(106),i()(),r(107,"div",8)(108,"span",9),o(109),i(),r(110,"mat-chip"),o(111),i()()()(),g(112,Ht,9,3,"mat-card",26),i()(),r(113,"mat-dialog-actions",27)(114,"button",28),f("click",function(){return t.onClose()}),o(115),i(),r(116,"button",29),f("click",function(){return t.onPrint()}),r(117,"mat-icon"),o(118,"print"),i(),o(119),i()()()),e&2&&(y("rtl",t.data.translationService.isRTL()),a(5),m(" ",t.data.translationService.translate("dashboard.orderDetails")||"\u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0637\u0644\u0628"," "),a(11),m(" ",t.data.translationService.translate("dashboard.orderNumber")||"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628"," "),a(3),d(t.data.order.orderNumber),a(2),b("status-chip "+t.getStatusClass(t.data.order.status)),a(),m(" ",t.getStatusText(t.data.order.status)," "),a(),b("payment-chip "+t.getPaymentStatusClass(t.data.order.paymentStatus)),a(),m(" ",t.getPaymentStatusText(t.data.order.paymentStatus)," "),a(6),m(" ",t.data.translationService.translate("dashboard.customer")||"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644"," "),a(4),m("",t.data.translationService.translate("dashboard.customerName")||"\u0627\u0644\u0627\u0633\u0645",":"),a(2),d(t.data.order.customerName),a(3),m("",t.data.translationService.translate("dashboard.phoneNumber")||"\u0627\u0644\u0647\u0627\u062A\u0641",":"),a(2),d(t.data.order.customerPhone),a(3),m("",t.data.translationService.translate("dashboard.deliveryAddress")||"\u0627\u0644\u0639\u0646\u0648\u0627\u0646",":"),a(2),d(t.data.order.deliveryAddress),a(6),m(" ",t.data.translationService.translate("dashboard.restaurant")||"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0645\u0637\u0639\u0645"," "),a(4),m("",t.data.translationService.translate("dashboard.restaurantName")||"\u0627\u0633\u0645 \u0627\u0644\u0645\u0637\u0639\u0645",":"),a(2),d(t.data.order.restaurantName),a(),c("ngIf",t.data.order.deliveryPersonName),a(6),m(" ",t.data.translationService.translate("dashboard.orderItems")||"\u0639\u0646\u0627\u0635\u0631 \u0627\u0644\u0637\u0644\u0628"," "),a(3),c("ngForOf",t.data.order.items),a(4),m("",t.data.translationService.translate("dashboard.totalAmount")||"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A",":"),a(2),m("",t.data.order.totalAmount," \u0631.\u0633"),a(6),m(" ",t.data.translationService.translate("dashboard.orderTimeline")||"\u0627\u0644\u062C\u062F\u0648\u0644 \u0627\u0644\u0632\u0645\u0646\u064A"," "),a(9),d(t.data.translationService.translate("dashboard.orderPlaced")||"\u062A\u0645 \u0648\u0636\u0639 \u0627\u0644\u0637\u0644\u0628"),a(2),d(E(92,41,t.data.order.orderDate,"dd/MM/yyyy HH:mm")),a(2),c("ngIf",t.data.order.estimatedDeliveryTime),a(),c("ngIf",t.data.order.actualDeliveryTime),a(6),m(" ",t.data.translationService.translate("dashboard.paymentInfo")||"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u062F\u0641\u0639"," "),a(4),m("",t.data.translationService.translate("dashboard.paymentMethod")||"\u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u062F\u0641\u0639",":"),a(2),d(t.data.order.paymentMethod),a(3),m("",t.data.translationService.translate("dashboard.paymentStatus")||"\u062D\u0627\u0644\u0629 \u0627\u0644\u062F\u0641\u0639",":"),a(),b("payment-chip "+t.getPaymentStatusClass(t.data.order.paymentStatus)),a(),m(" ",t.getPaymentStatusText(t.data.order.paymentStatus)," "),a(),c("ngIf",t.data.order.notes||t.data.order.cancellationReason),a(3),m(" ",t.data.translationService.translate("dashboard.close")||"\u0625\u063A\u0644\u0627\u0642"," "),a(4),m(" ",t.data.translationService.translate("dashboard.print")||"\u0637\u0628\u0627\u0639\u0629"," "))},dependencies:[N,B,F,Pe,L,ce,me,ue,U,z,R,H,W,$,Ie,Y,q,Ae,j,pe,fe,_e,ge],styles:[".order-details-dialog[_ngcontent-%COMP%]{max-width:800px;max-height:90vh;overflow-y:auto}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px 0;border-bottom:1px solid #e0e0e0;margin-bottom:20px}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0;font-size:1.5rem;font-weight:600;color:#2c3e50}.close-button[_ngcontent-%COMP%]{color:#666}.dialog-content[_ngcontent-%COMP%]{padding:0 24px}.order-info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px}.info-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 2px 8px #0000001a}.info-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;margin:-16px -16px 16px;padding:16px;border-radius:12px 12px 0 0}.info-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:1rem;font-weight:600}.order-number[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#2c3e50;margin-bottom:12px}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid #f0f0f0}.info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.label[_ngcontent-%COMP%]{font-weight:600;color:#666;min-width:120px}.value[_ngcontent-%COMP%]{color:#2c3e50;text-align:right}.cancellation-reason[_ngcontent-%COMP%]{color:#e74c3c;font-weight:500}.items-list[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f0f0f0}.items-list[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.items-list[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50}.items-list[_ngcontent-%COMP%]   .item-quantity[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.items-list[_ngcontent-%COMP%]   .item-price[_ngcontent-%COMP%]{font-weight:600;color:#27ae60}.items-list[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 0 0;font-size:1.1rem;font-weight:700}.items-list[_ngcontent-%COMP%]   .total-label[_ngcontent-%COMP%]{color:#2c3e50}.items-list[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{color:#27ae60;font-size:1.3rem}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:12px 0;border-bottom:1px solid #f0f0f0}.timeline[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.timeline[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0}.timeline[_ngcontent-%COMP%]   .timeline-content[_ngcontent-%COMP%]{flex:1}.timeline[_ngcontent-%COMP%]   .timeline-title[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;margin-bottom:4px}.timeline[_ngcontent-%COMP%]   .timeline-time[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.status-chip.status-pending[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.status-chip.status-confirmed[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.status-chip.status-preparing[_ngcontent-%COMP%]{background-color:#9c27b0;color:#fff}.status-chip.status-ready[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.status-chip.status-waiting-courier[_ngcontent-%COMP%]{background-color:#ff5722;color:#fff}.status-chip.status-out-for-delivery[_ngcontent-%COMP%]{background-color:#00bcd4;color:#fff}.status-chip.status-delivering[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}.status-chip.status-delivered[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.status-chip.status-cancelled[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.payment-chip.payment-paid[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.payment-chip.payment-pending[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.payment-chip.payment-failed[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.payment-chip.payment-refunded[_ngcontent-%COMP%]{background-color:#9e9e9e;color:#fff}.dialog-actions[_ngcontent-%COMP%]{padding:20px 24px;border-top:1px solid #e0e0e0;display:flex;justify-content:flex-end;gap:12px}.rtl[_ngcontent-%COMP%]{direction:rtl}.rtl[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{flex-direction:row-reverse}.rtl[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-align:left}.rtl[_ngcontent-%COMP%]   .item-row[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .total-row[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .timeline-item[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{flex-direction:row-reverse}@media (max-width: 768px){.order-info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function qt(s,n){if(s&1&&(r(0,"div",30),M(1,"mat-spinner",31),r(2,"p"),o(3),i()()),s&2){let e=p();a(3),d(e.data.translationService.translate("loadingDeliveryPersons")||"\u062C\u0627\u0631\u064D \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0646\u062F\u0648\u0628\u064A\u0646...")}}function Yt(s,n){if(s&1&&(r(0,"div",32)(1,"mat-icon"),o(2,"person_off"),i(),r(3,"h4"),o(4),i(),r(5,"p"),o(6),i()()),s&2){let e=p();a(4),d(e.data.translationService.translate("noDeliveryPersonsFound")||"\u0644\u0627 \u064A\u0648\u062C\u062F \u0645\u0646\u062F\u0648\u0628\u0648\u0646 \u0645\u062A\u0627\u062D\u0648\u0646"),a(2),d(e.data.translationService.translate("noDeliveryPersonsMessage")||"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0645\u0646\u062F\u0648\u0628\u064A\u0646 \u0645\u062A\u0627\u062D\u064A\u0646 \u0644\u0644\u062A\u0639\u064A\u064A\u0646")}}function Gt(s,n){s&1&&(r(0,"mat-icon"),o(1,"check"),i())}function Qt(s,n){s&1&&M(0,"mat-spinner",46)}function Jt(s,n){if(s&1){let e=C();r(0,"div",45)(1,"button",27),f("click",function(){_(e);let l=p().$implicit,u=p(2);return v(u.assignDeliveryPerson(l))}),g(2,Gt,2,0,"mat-icon",28)(3,Qt,1,0,"mat-spinner",29),o(4),i()()}if(s&2){let e=p(3);a(),c("disabled",e.isAssigning),a(),c("ngIf",!e.isAssigning),a(),c("ngIf",e.isAssigning),a(),m(" ",e.data.translationService.translate("assign")||"\u062A\u0639\u064A\u064A\u0646"," ")}}function Kt(s,n){if(s&1){let e=C();r(0,"mat-card",35),f("click",function(){let l=_(e).$implicit,u=p(2);return v(u.selectDeliveryPerson(l))}),r(1,"mat-card-content")(2,"div",36)(3,"div",37)(4,"mat-icon"),o(5,"person"),i()(),r(6,"div",38)(7,"h4",39),o(8),i(),r(9,"p",40),o(10),i()(),r(11,"div",41)(12,"mat-chip")(13,"mat-icon"),o(14),i(),o(15),i()()(),M(16,"mat-divider"),r(17,"div",42)(18,"div",43)(19,"mat-icon"),o(20,"location_on"),i(),r(21,"span"),o(22),i()(),r(23,"div",43)(24,"mat-icon"),o(25,"straighten"),i(),r(26,"span"),o(27),i()(),r(28,"div",43)(29,"mat-icon"),o(30,"shopping_cart"),i(),r(31,"span"),o(32),i()(),r(33,"div",43)(34,"mat-icon"),o(35,"star"),i(),r(36,"span"),o(37),A(38,"number"),i()()(),g(39,Jt,5,4,"div",44),i()()}if(s&2){let e=n.$implicit,t=p(2);y("selected",(t.selectedDeliveryPerson==null?null:t.selectedDeliveryPerson.id)===e.id),a(8),d(e.name),a(2),d(e.phone),a(2),b("status-chip "+t.getStatusClass(e.status)),a(2),d(t.getStatusIcon(e.status)),a(),m(" ",t.getStatusText(e.status)," "),a(7),d(e.location),a(5),m("",e.distance," \u0643\u0645"),a(5),T("",e.currentOrders," ",t.data.translationService.translate("currentOrders")||"\u0637\u0644\u0628\u0627\u062A \u062D\u0627\u0644\u064A\u0629"),a(5),d(E(38,14,e.rating,"1.1-1")),a(2),c("ngIf",(t.selectedDeliveryPerson==null?null:t.selectedDeliveryPerson.id)===e.id)}}function Xt(s,n){if(s&1&&(r(0,"div",33),g(1,Kt,40,17,"mat-card",34),i()),s&2){let e=p();a(),c("ngForOf",e.filteredDeliveryPersons)}}function Zt(s,n){s&1&&(r(0,"mat-icon"),o(1,"check"),i())}function en(s,n){s&1&&M(0,"mat-spinner",46)}var ke=class s{constructor(n,e,t,l,u){this.dialogRef=n;this.data=e;this.snackBar=t;this.adminOrderService=l;this.userService=u}deliveryPersons=[];filteredDeliveryPersons=[];selectedDeliveryPerson=null;searchTerm="";statusFilter="all";isLoading=!1;isAssigning=!1;ngOnInit(){this.loadDeliveryPersons()}loadDeliveryPersons(){this.isLoading=!0,this.userService.getList({sorting:"name asc",maxResultCount:100,skipCount:0}).subscribe({next:n=>{this.deliveryPersons=(n.items||[]).filter(e=>e.isActive&&(e.roles?.includes("delivery")||e.userType==="delivery")).map(e=>({id:e.id||"",name:e.name||e.userName||"Unknown",phone:e.phoneNumber||"N/A",status:e.isActive?"available":"offline",currentOrders:0,rating:4.5,location:"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F",distance:0})),this.filteredDeliveryPersons=this.deliveryPersons,this.isLoading=!1},error:n=>{console.error("Error loading delivery persons:",n),this.snackBar.open("\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u0645\u064A\u0644 \u0627\u0644\u0645\u0646\u062F\u0648\u0628\u064A\u0646","\u0625\u063A\u0644\u0627\u0642",{duration:3e3}),this.isLoading=!1}})}filterDeliveryPersons(){let n=[...this.deliveryPersons];if(this.searchTerm){let e=this.searchTerm.toLowerCase();n=n.filter(t=>t.name.toLowerCase().includes(e)||t.phone.includes(e)||t.location.toLowerCase().includes(e))}this.statusFilter!=="all"&&(n=n.filter(e=>e.status===this.statusFilter)),this.filteredDeliveryPersons=n}selectDeliveryPerson(n){this.selectedDeliveryPerson=n}assignDeliveryPerson(n){this.isAssigning=!0;let e={deliveryPersonId:n.id};this.adminOrderService.assignDeliveryPerson(this.data.order.id,e).subscribe({next:t=>{this.isAssigning=!1,this.snackBar.open("\u062A\u0645 \u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u0645\u0646\u062F\u0648\u0628 \u0628\u0646\u062C\u0627\u062D","\u0625\u063A\u0644\u0627\u0642",{duration:3e3}),this.dialogRef.close({success:!0,deliveryPerson:n,order:t})},error:t=>{this.isAssigning=!1,console.error("Error assigning delivery person:",t),this.snackBar.open("\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u0639\u064A\u064A\u0646 \u0627\u0644\u0645\u0646\u062F\u0648\u0628","\u0625\u063A\u0644\u0627\u0642",{duration:3e3})}})}assignSelectedDeliveryPerson(){this.selectedDeliveryPerson&&this.assignDeliveryPerson(this.selectedDeliveryPerson)}onClose(){this.dialogRef.close()}getStatusClass(n){return`status-${n}`}getStatusIcon(n){switch(n){case"available":return"check_circle";case"busy":return"schedule";case"offline":return"offline_bolt";default:return"help"}}getStatusText(n){switch(n){case"available":return"\u0645\u062A\u0627\u062D";case"busy":return"\u0645\u0634\u063A\u0648\u0644";case"offline":return"\u063A\u064A\u0631 \u0645\u062A\u0635\u0644";default:return"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641"}}static \u0275fac=function(e){return new(e||s)(h(le),h(de),h(oe),h(Ce),h(St))};static \u0275cmp=k({type:s,selectors:[["app-assign-delivery-dialog"]],decls:75,vars:32,consts:[[1,"assign-delivery-dialog"],[1,"dialog-header"],["mat-dialog-title",""],["mat-icon-button","",1,"close-button",3,"click"],[1,"dialog-content"],[1,"order-info-card"],[1,"order-details"],[1,"detail-row"],[1,"label"],[1,"value"],[1,"value","amount"],[1,"search-section"],["appearance","outline",1,"search-field"],["matInput","",3,"ngModelChange","input","ngModel","placeholder"],["matSuffix",""],["appearance","outline",1,"filter-field"],[3,"ngModelChange","selectionChange","ngModel"],["value","all"],["value","available"],["value","busy"],[1,"delivery-persons-section"],[1,"section-title"],["class","loading-container",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","delivery-persons-grid",4,"ngIf"],[1,"dialog-actions"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],[4,"ngIf"],["diameter","20",4,"ngIf"],[1,"loading-container"],["diameter","40"],[1,"empty-state"],[1,"delivery-persons-grid"],["class","delivery-person-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"delivery-person-card",3,"click"],[1,"person-header"],[1,"person-avatar"],[1,"person-info"],[1,"person-name"],[1,"person-phone"],[1,"person-status"],[1,"person-details"],[1,"detail-item"],["class","person-actions",4,"ngIf"],[1,"person-actions"],["diameter","20"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2)(3,"mat-icon"),o(4,"person_add"),i(),o(5),i(),r(6,"button",3),f("click",function(){return t.onClose()}),r(7,"mat-icon"),o(8,"close"),i()()(),r(9,"mat-dialog-content",4)(10,"mat-card",5)(11,"mat-card-header")(12,"mat-card-title")(13,"mat-icon"),o(14,"receipt_long"),i(),o(15),i()(),r(16,"mat-card-content")(17,"div",6)(18,"div",7)(19,"span",8),o(20),i(),r(21,"span",9),o(22),i()(),r(23,"div",7)(24,"span",8),o(25),i(),r(26,"span",9),o(27),i()(),r(28,"div",7)(29,"span",8),o(30),i(),r(31,"span",9),o(32),i()(),r(33,"div",7)(34,"span",8),o(35),i(),r(36,"span",9),o(37),i()(),r(38,"div",7)(39,"span",8),o(40),i(),r(41,"span",10),o(42),i()()()()(),r(43,"div",11)(44,"mat-form-field",12)(45,"mat-label"),o(46),i(),r(47,"input",13),P("ngModelChange",function(u){return S(t.searchTerm,u)||(t.searchTerm=u),u}),f("input",function(){return t.filterDeliveryPersons()}),i(),r(48,"mat-icon",14),o(49,"search"),i()(),r(50,"mat-form-field",15)(51,"mat-label"),o(52),i(),r(53,"mat-select",16),P("ngModelChange",function(u){return S(t.statusFilter,u)||(t.statusFilter=u),u}),f("selectionChange",function(){return t.filterDeliveryPersons()}),r(54,"mat-option",17),o(55),i(),r(56,"mat-option",18),o(57),i(),r(58,"mat-option",19),o(59),i()()()(),r(60,"div",20)(61,"h3",21)(62,"mat-icon"),o(63,"local_shipping"),i(),o(64),i(),g(65,qt,4,1,"div",22)(66,Yt,7,2,"div",23)(67,Xt,2,1,"div",24),i()(),r(68,"mat-dialog-actions",25)(69,"button",26),f("click",function(){return t.onClose()}),o(70),i(),r(71,"button",27),f("click",function(){return t.assignSelectedDeliveryPerson()}),g(72,Zt,2,0,"mat-icon",28)(73,en,1,0,"mat-spinner",29),o(74),i()()()),e&2&&(y("rtl",t.data.translationService.isRTL()),a(5),m(" ",t.data.translationService.translate("assignDeliveryPerson")||"\u062A\u0639\u064A\u064A\u0646 \u0645\u0646\u062F\u0648\u0628 \u0627\u0644\u062A\u0648\u0635\u064A\u0644"," "),a(10),m(" ",t.data.translationService.translate("orderInformation")||"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0627\u0644\u0637\u0644\u0628"," "),a(5),m("",t.data.translationService.translate("orderNumber")||"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628",":"),a(2),d(t.data.order.orderNumber),a(3),m("",t.data.translationService.translate("customer")||"\u0627\u0644\u0639\u0645\u064A\u0644",":"),a(2),d(t.data.order.customerName),a(3),m("",t.data.translationService.translate("restaurant")||"\u0627\u0644\u0645\u0637\u0639\u0645",":"),a(2),d(t.data.order.restaurantName),a(3),m("",t.data.translationService.translate("deliveryAddress")||"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u062A\u0648\u0635\u064A\u0644",":"),a(2),d(t.data.order.deliveryAddress),a(3),m("",t.data.translationService.translate("totalAmount")||"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A",":"),a(2),m("",t.data.order.totalAmount," \u0631.\u0633"),a(4),d(t.data.translationService.translate("searchDeliveryPersons")||"\u0627\u0644\u0628\u062D\u062B \u0639\u0646 \u0627\u0644\u0645\u0646\u062F\u0648\u0628\u064A\u0646"),a(),c("placeholder",w(t.data.translationService.translate("searchByNameOrPhone")||"\u0627\u0644\u0628\u062D\u062B \u0628\u0627\u0644\u0627\u0633\u0645 \u0623\u0648 \u0627\u0644\u0647\u0627\u062A\u0641")),O("ngModel",t.searchTerm),a(5),d(t.data.translationService.translate("filterByStatus")||"\u062A\u0635\u0641\u064A\u0629 \u0628\u0627\u0644\u062D\u0627\u0644\u0629"),a(),O("ngModel",t.statusFilter),a(2),d(t.data.translationService.translate("allStatuses")||"\u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0627\u0644\u0627\u062A"),a(2),d(t.data.translationService.translate("available")||"\u0645\u062A\u0627\u062D"),a(2),d(t.data.translationService.translate("busy")||"\u0645\u0634\u063A\u0648\u0644"),a(5),m(" ",t.data.translationService.translate("availableDeliveryPersons")||"\u0627\u0644\u0645\u0646\u062F\u0648\u0628\u0648\u0646 \u0627\u0644\u0645\u062A\u0627\u062D\u0648\u0646"," "),a(),c("ngIf",t.isLoading),a(),c("ngIf",!t.isLoading&&t.filteredDeliveryPersons.length===0),a(),c("ngIf",!t.isLoading&&t.filteredDeliveryPersons.length>0),a(3),m(" ",t.data.translationService.translate("cancel")||"\u0625\u0644\u063A\u0627\u0621"," "),a(),c("disabled",!t.selectedDeliveryPerson||t.isAssigning),a(),c("ngIf",!t.isAssigning),a(),c("ngIf",t.isAssigning),a(),m(" ",t.data.translationService.translate("confirmAssignment")||"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062A\u0639\u064A\u064A\u0646"," "))},dependencies:[N,B,F,ye,ne,Z,ee,te,L,ce,me,ue,U,z,R,H,W,ie,X,J,K,xe,ve,re,ae,Q,j,pe,fe,_e,ge,Y,q,$,Ie,he,De,se],styles:[".assign-delivery-dialog[_ngcontent-%COMP%]{max-width:900px;max-height:90vh;overflow-y:auto;background:linear-gradient(135deg,#f8f9fa,#e9ecef)}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 28px 20px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;margin:-24px -24px 0;border-radius:12px 12px 0 0}.dialog-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin:0;font-size:1.6rem;font-weight:700;color:#fff}.close-button[_ngcontent-%COMP%]{color:#ffffffe6;background:#ffffff1a;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center}.close-button[_ngcontent-%COMP%]:hover{background:#fff3}.dialog-content[_ngcontent-%COMP%]{padding:24px 28px}.order-info-card[_ngcontent-%COMP%]{margin-bottom:28px;border-radius:16px;box-shadow:0 4px 20px #00000014;border:1px solid rgba(102,126,234,.1);background:#fff}.order-info-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff;margin:-16px -16px 20px;padding:20px;border-radius:16px 16px 0 0}.order-info-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.1rem;font-weight:700}.order-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;padding:8px 0}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#f8f9fa;border-radius:8px;border-left:4px solid #667eea}.label[_ngcontent-%COMP%]{font-weight:600;color:#495057;font-size:.9rem}.value[_ngcontent-%COMP%]{color:#2c3e50;text-align:right;font-weight:500}.value.amount[_ngcontent-%COMP%]{font-weight:700;color:#28a745;font-size:1.1rem}.search-section[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:24px;align-items:center}.search-field[_ngcontent-%COMP%]{flex:2}.filter-field[_ngcontent-%COMP%]{flex:1}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:24px 0 16px;font-size:1.2rem;font-weight:600;color:#2c3e50}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;gap:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin:0}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.empty-state[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;color:#bdc3c7}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;color:#2c3e50}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.delivery-persons-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px;margin-bottom:28px}.delivery-person-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 4px 20px #00000014;transition:all .3s ease;cursor:pointer;background:#fff;border:2px solid transparent;overflow:hidden}.delivery-person-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 32px #0000001f;border-color:#667eea4d}.delivery-person-card.selected[_ngcontent-%COMP%]{border:2px solid #667eea;background:linear-gradient(135deg,#667eea0d,#764ba20d);box-shadow:0 8px 32px #667eea33}.person-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:16px;padding:16px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:12px}.person-avatar[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0;box-shadow:0 4px 12px #667eea4d}.person-info[_ngcontent-%COMP%]{flex:1}.person-name[_ngcontent-%COMP%]{margin:0 0 6px;font-size:1.2rem;font-weight:700;color:#2c3e50}.person-phone[_ngcontent-%COMP%]{margin:0;font-size:.95rem;color:#6c757d;font-weight:500}.person-status[_ngcontent-%COMP%]{flex-shrink:0}.status-chip[_ngcontent-%COMP%]{padding:6px 12px;border-radius:20px;font-size:.85rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.status-chip.status-available[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4caf50,#45a049);color:#fff;box-shadow:0 2px 8px #4caf504d}.status-chip.status-busy[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff9800,#f57c00);color:#fff;box-shadow:0 2px 8px #ff98004d}.status-chip.status-offline[_ngcontent-%COMP%]{background:linear-gradient(135deg,#9e9e9e,#757575);color:#fff;box-shadow:0 2px 8px #9e9e9e4d}.person-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:16px 0;padding:0 16px}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.9rem;color:#495057;padding:8px 12px;background:#f8f9fa;border-radius:8px;border-left:3px solid #667eea}.detail-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#667eea}.person-actions[_ngcontent-%COMP%]{margin-top:16px;text-align:center;padding:0 16px 16px}.person-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;padding:12px 24px;font-weight:600;font-size:.95rem;box-shadow:0 4px 12px #667eea4d;transition:all .3s ease}.person-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea66}.person-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background:#6c757d;box-shadow:none;transform:none}.dialog-actions[_ngcontent-%COMP%]{padding:24px 28px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-top:1px solid rgba(102,126,234,.1);display:flex;justify-content:flex-end;gap:16px;margin:0 -28px -24px;border-radius:0 0 12px 12px}.dialog-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 24px;border-radius:12px;font-weight:600;font-size:.95rem;transition:all .3s ease}.dialog-actions[_ngcontent-%COMP%]   button[mat-button][_ngcontent-%COMP%]{background:#6c757d1a;color:#6c757d;border:1px solid rgba(108,117,125,.2)}.dialog-actions[_ngcontent-%COMP%]   button[mat-button][_ngcontent-%COMP%]:hover{background:#6c757d33;transform:translateY(-1px)}.dialog-actions[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;box-shadow:0 4px 12px #667eea4d}.dialog-actions[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #667eea66}.dialog-actions[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]:disabled{background:#6c757d;box-shadow:none;transform:none}.rtl[_ngcontent-%COMP%]{direction:rtl}.rtl[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{flex-direction:row-reverse}.rtl[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-align:left}.rtl[_ngcontent-%COMP%]   .person-header[_ngcontent-%COMP%]{flex-direction:row-reverse}.rtl[_ngcontent-%COMP%]   .person-details[_ngcontent-%COMP%]{text-align:right}.rtl[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{flex-direction:row-reverse}@media (max-width: 768px){.order-details[_ngcontent-%COMP%]{grid-template-columns:1fr}.search-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.delivery-persons-grid[_ngcontent-%COMP%], .person-details[_ngcontent-%COMP%]{grid-template-columns:1fr}}"],data:{animation:[Me("fadeIn",[Oe(":enter",[V({opacity:0,transform:"translateY(20px)"}),be("0.3s ease-out",V({opacity:1,transform:"translateY(0)"}))])])]}})};function tn(s,n){if(s&1&&(r(0,"div",15)(1,"mat-icon"),o(2,"person"),i(),r(3,"div",16)(4,"span",17),o(5),i(),r(6,"span",18),o(7),i()()()),s&2){let e=p();a(5),d(e.data.translationService.translate("deliveryPerson")||"\u0645\u0646\u062F\u0648\u0628 \u0627\u0644\u062A\u0648\u0635\u064A\u0644"),a(2),d(e.data.order.deliveryPersonName)}}function nn(s,n){if(s&1){let e=C();r(0,"button",35),f("click",function(){let l=_(e).$implicit,u=p(2);return v(u.selectSuggestedStatus(l))}),r(1,"mat-icon"),o(2),i(),o(3),i()}if(s&2){let e=n.$implicit,t=p(2);a(2),d(t.getStatusIcon(e)),a(),m(" ",t.getStatusText(e)," ")}}function an(s,n){if(s&1&&(r(0,"mat-card",32)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon"),o(4,"lightbulb"),i(),o(5),i()(),r(6,"mat-card-content")(7,"div",33),g(8,nn,4,2,"button",34),i()()()),s&2){let e=p();a(5),m(" ",e.data.translationService.translate("smartSuggestions")||"\u0627\u0642\u062A\u0631\u0627\u062D\u0627\u062A \u0630\u0643\u064A\u0629"," "),a(3),c("ngForOf",e.data.smartSuggestions)}}function rn(s,n){if(s&1&&(r(0,"div",46)(1,"mat-chip",47)(2,"mat-icon"),o(3,"lightbulb"),i(),o(4),i()()),s&2){let e=p(2);a(4),m(" ",e.data.translationService.translate("suggested")||"\u0645\u0642\u062A\u0631\u062D"," ")}}function on(s,n){s&1&&(r(0,"mat-icon",48),o(1,"check_circle"),i())}function sn(s,n){s&1&&(r(0,"mat-icon",49),o(1,"arrow_forward"),i())}function ln(s,n){if(s&1){let e=C();r(0,"div",36),f("click",function(){let l=_(e).$implicit,u=p();return v(u.selectStatus(l))}),r(1,"div",37)(2,"div",38)(3,"mat-icon"),o(4),i()(),r(5,"div",39)(6,"h4",40),o(7),i(),r(8,"p",41),o(9),i(),g(10,rn,5,1,"div",42),i(),r(11,"div",43),g(12,on,2,0,"mat-icon",44)(13,sn,2,0,"mat-icon",45),i()()()}if(s&2){let e=n.$implicit,t=p();y("selected",t.selectedStatus===e.value)("suggested",t.data.smartSuggestions==null?null:t.data.smartSuggestions.includes(e.value)),a(2),Qe("background-color",e.color),a(2),d(e.icon),a(3),d(e.label),a(2),d(e.description),a(),c("ngIf",t.data.smartSuggestions==null?null:t.data.smartSuggestions.includes(e.value)),a(2),c("ngIf",t.selectedStatus===e.value),a(),c("ngIf",(t.data.smartSuggestions==null?null:t.data.smartSuggestions.includes(e.value))&&t.selectedStatus!==e.value)}}function dn(s,n){if(s&1){let e=C();r(0,"mat-form-field",59)(1,"mat-label"),o(2),i(),r(3,"input",60),P("ngModelChange",function(l){_(e);let u=p(2);return S(u.estimatedMinutes,l)||(u.estimatedMinutes=l),v(l)}),i(),r(4,"span",61),o(5),i()()}if(s&2){let e=p(2);a(2),d(e.data.translationService.translate("estimatedTime")||"\u0627\u0644\u0648\u0642\u062A \u0627\u0644\u0645\u062A\u0648\u0642\u0639"),a(),c("placeholder",w(e.data.translationService.translate("estimatedMinutes")||"\u0627\u0644\u0648\u0642\u062A \u0627\u0644\u0645\u062A\u0648\u0642\u0639 \u0628\u0627\u0644\u062F\u0642\u0627\u0626\u0642")),O("ngModel",e.estimatedMinutes),a(2),d(e.data.translationService.translate("minutes")||"\u062F\u0642\u064A\u0642\u0629")}}function cn(s,n){if(s&1){let e=C();r(0,"mat-form-field",62)(1,"mat-label"),o(2),i(),r(3,"mat-select",63),P("ngModelChange",function(l){_(e);let u=p(2);return S(u.cancellationReason,l)||(u.cancellationReason=l),v(l)}),r(4,"mat-option",64),o(5),i(),r(6,"mat-option",65),o(7),i(),r(8,"mat-option",66),o(9),i(),r(10,"mat-option",67),o(11),i(),r(12,"mat-option",68),o(13),i()()()}if(s&2){let e=p(2);a(2),d(e.data.translationService.translate("cancellationReason")||"\u0633\u0628\u0628 \u0627\u0644\u0625\u0644\u063A\u0627\u0621"),a(),O("ngModel",e.cancellationReason),a(2),d(e.data.translationService.translate("customerRequest")||"\u0637\u0644\u0628 \u0627\u0644\u0639\u0645\u064A\u0644"),a(2),d(e.data.translationService.translate("restaurantIssue")||"\u0645\u0634\u0643\u0644\u0629 \u0641\u064A \u0627\u0644\u0645\u0637\u0639\u0645"),a(2),d(e.data.translationService.translate("deliveryIssue")||"\u0645\u0634\u0643\u0644\u0629 \u0641\u064A \u0627\u0644\u062A\u0648\u0635\u064A\u0644"),a(2),d(e.data.translationService.translate("paymentIssue")||"\u0645\u0634\u0643\u0644\u0629 \u0641\u064A \u0627\u0644\u062F\u0641\u0639"),a(2),d(e.data.translationService.translate("other")||"\u0623\u062E\u0631\u0649")}}function un(s,n){if(s&1){let e=C();r(0,"mat-form-field",69)(1,"mat-label"),o(2),i(),r(3,"mat-select",63),P("ngModelChange",function(l){_(e);let u=p(2);return S(u.assignedDeliveryPerson,l)||(u.assignedDeliveryPerson=l),v(l)}),r(4,"mat-option",70),o(5),i(),r(6,"mat-option",71),o(7),i()()()}if(s&2){let e=p(2);a(2),d(e.data.translationService.translate("assignDeliveryPerson")||"\u062A\u0639\u064A\u064A\u0646 \u0645\u0646\u062F\u0648\u0628 \u0627\u0644\u062A\u0648\u0635\u064A\u0644"),a(),O("ngModel",e.assignedDeliveryPerson),a(2),d(e.data.translationService.translate("autoAssign")||"\u062A\u0639\u064A\u064A\u0646 \u062A\u0644\u0642\u0627\u0626\u064A"),a(2),d(e.data.translationService.translate("manualAssign")||"\u062A\u0639\u064A\u064A\u0646 \u064A\u062F\u0648\u064A")}}function mn(s,n){if(s&1&&(r(0,"div",75)(1,"mat-icon"),o(2),i(),r(3,"span"),o(4),i()()),s&2){let e=n.$implicit;a(),b("impact-icon "+e.type),a(),d(e.icon),a(2),d(e.message)}}function pn(s,n){if(s&1&&(r(0,"div",72)(1,"h4"),o(2),i(),r(3,"div",73),g(4,mn,5,4,"div",74),i()()),s&2){let e=p(2);a(2),d(e.data.translationService.translate("statusChangeImpact")||"\u062A\u0623\u062B\u064A\u0631 \u062A\u063A\u064A\u064A\u0631 \u0627\u0644\u062D\u0627\u0644\u0629"),a(2),c("ngForOf",e.getStatusChangeImpacts())}}function gn(s,n){if(s&1&&(r(0,"div",76)(1,"mat-icon"),o(2,"info"),i(),r(3,"p"),o(4),i()()),s&2){let e=p(2);a(4),d(e.getConfirmationMessage())}}function fn(s,n){if(s&1){let e=C();r(0,"mat-card",50)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon"),o(4,"info"),i(),o(5),i()(),r(6,"mat-card-content")(7,"div",51)(8,"mat-form-field",52)(9,"mat-label"),o(10),i(),r(11,"textarea",53),P("ngModelChange",function(l){_(e);let u=p();return S(u.updateNotes,l)||(u.updateNotes=l),v(l)}),i()(),g(12,dn,6,5,"mat-form-field",54)(13,cn,14,7,"mat-form-field",55)(14,un,8,4,"mat-form-field",56),i(),g(15,pn,5,2,"div",57)(16,gn,5,1,"div",58),i()()}if(s&2){let e=p();a(5),m(" ",e.data.translationService.translate("additionalInformation")||"\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0625\u0636\u0627\u0641\u064A\u0629"," "),a(5),d(e.data.translationService.translate("notes")||"\u0645\u0644\u0627\u062D\u0638\u0627\u062A"),a(),c("placeholder",w(e.data.translationService.translate("enterNotesForStatusUpdate")||"\u0623\u062F\u062E\u0644 \u0645\u0644\u0627\u062D\u0638\u0627\u062A \u0644\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062D\u0627\u0644\u0629 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)")),O("ngModel",e.updateNotes),a(),c("ngIf",e.selectedStatus==="preparing"||e.selectedStatus==="ready"),a(),c("ngIf",e.selectedStatus==="cancelled"),a(),c("ngIf",e.selectedStatus==="ready"||e.selectedStatus==="waiting_courier"),a(),c("ngIf",e.selectedStatus),a(),c("ngIf",e.selectedStatus)}}function _n(s,n){if(s&1){let e=C();r(0,"div",77)(1,"h3"),o(2,"\u0645\u0639\u0627\u064A\u0646\u0629 \u0627\u0644\u062A\u063A\u064A\u064A\u0631"),i(),r(3,"mat-chip"),o(4),i(),r(5,"button",28),f("click",function(){_(e);let l=p();return v(l.showPreview=!1)}),o(6,"\u0625\u0644\u063A\u0627\u0621"),i(),r(7,"button",78),f("click",function(){_(e);let l=p();return v(l.finalConfirm())}),o(8,"\u062A\u0623\u0643\u064A\u062F"),i()()}if(s&2){let e=p();a(3),b("status-chip "+e.getStatusClass(e.selectedStatus)),a(),m(" ",e.getStatusText(e.selectedStatus)," ")}}function vn(s,n){if(s&1){let e=C();r(0,"button",28),f("click",function(){_(e);let l=p();return v(l.undoStatus())}),o(1,"\u062A\u0631\u0627\u062C\u0639"),i()}}function xn(s,n){s&1&&(r(0,"mat-icon"),o(1,"check"),i())}function hn(s,n){s&1&&M(0,"mat-spinner",79)}var Te=class s{constructor(n,e,t,l){this.dialogRef=n;this.data=e;this.snackBar=t;this.adminOrderService=l;this.previousStatus=this.data.order.status,this.itemsCount=this.data.order.items.length,this.availableStatuses=[{value:"confirmed",label:"\u062A\u0645 \u0627\u0644\u062A\u0623\u0643\u064A\u062F",icon:"check_circle",color:"#2196f3",description:this.data.translationService.translate("statusDescriptions.confirmed")||"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u0637\u0644\u0628 \u0645\u0646 \u0642\u0628\u0644 \u0627\u0644\u0645\u0637\u0639\u0645"},{value:"preparing",label:"\u0642\u064A\u062F \u0627\u0644\u062A\u062D\u0636\u064A\u0631",icon:"restaurant",color:"#9c27b0",description:this.data.translationService.translate("statusDescriptions.preparing")||"\u0627\u0644\u0628\u062F\u0621 \u0641\u064A \u062A\u062D\u0636\u064A\u0631 \u0627\u0644\u0637\u0644\u0628"},{value:"ready",label:"\u062C\u0627\u0647\u0632 \u0644\u0644\u062A\u0648\u0635\u064A\u0644",icon:"local_shipping",color:"#4caf50",description:this.data.translationService.translate("statusDescriptions.ready")||"\u0627\u0644\u0637\u0644\u0628 \u062C\u0627\u0647\u0632 \u0644\u0644\u0627\u0633\u062A\u0644\u0627\u0645 \u0648\u0627\u0644\u062A\u0648\u0635\u064A\u0644"},{value:"waiting_courier",label:"\u0641\u064A \u0627\u0646\u062A\u0638\u0627\u0631 \u0627\u0644\u0645\u0646\u062F\u0648\u0628",icon:"person_pin",color:"#ff5722",description:this.data.translationService.translate("statusDescriptions.waiting_courier")||"\u0641\u064A \u0627\u0646\u062A\u0638\u0627\u0631 \u0642\u0628\u0648\u0644 \u0627\u0644\u0645\u0646\u062F\u0648\u0628 \u0644\u0644\u0637\u0644\u0628"},{value:"out_for_delivery",label:"\u0641\u064A \u0627\u0644\u0637\u0631\u064A\u0642",icon:"directions_car",color:"#00bcd4",description:this.data.translationService.translate("statusDescriptions.out_for_delivery")||"\u0627\u0644\u0645\u0646\u062F\u0648\u0628 \u0641\u064A \u0627\u0644\u0637\u0631\u064A\u0642 \u0644\u0644\u0639\u0645\u064A\u0644"},{value:"delivering",label:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u0648\u0635\u064A\u0644",icon:"local_shipping",color:"#3f51b5",description:this.data.translationService.translate("statusDescriptions.delivering")||"\u0627\u0644\u0645\u0646\u062F\u0648\u0628 \u064A\u0642\u0648\u0645 \u0628\u062A\u0648\u0635\u064A\u0644 \u0627\u0644\u0637\u0644\u0628"},{value:"delivered",label:"\u062A\u0645 \u0627\u0644\u062A\u0648\u0635\u064A\u0644",icon:"check_circle",color:"#4caf50",description:this.data.translationService.translate("statusDescriptions.delivered")||"\u062A\u0645 \u062A\u0633\u0644\u064A\u0645 \u0627\u0644\u0637\u0644\u0628 \u0644\u0644\u0639\u0645\u064A\u0644"},{value:"cancelled",label:"\u0645\u0644\u063A\u064A",icon:"cancel",color:"#f44336",description:this.data.translationService.translate("statusDescriptions.cancelled")||"\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0637\u0644\u0628"}],this.availableStatuses=this.availableStatuses.filter(u=>u.value!==this.data.order.status&&this.isValidTransition(this.data.order.status,u.value))}selectedStatus="";updateNotes="";cancellationReason="";assignedDeliveryPerson="auto";isUpdating=!1;availableStatuses=[];estimatedMinutes=null;showPreview=!1;previousStatus;itemsCount;selectStatus(n){this.selectedStatus=n.value}selectSuggestedStatus(n){let e=this.availableStatuses.find(t=>t.value===n);e&&this.selectStatus(e)}getStatusIcon(n){return{pending:"schedule",confirmed:"check_circle",preparing:"restaurant",ready:"local_shipping",waiting_courier:"person_pin",out_for_delivery:"directions_car",delivering:"local_shipping",delivered:"check_circle",cancelled:"cancel"}[n]||"help"}getStatusChangeImpacts(){let n=[];switch(this.selectedStatus){case"delivered":n.push({type:"success",icon:"notifications",message:this.data.translationService.translate("customerWillBeNotified")||"\u0633\u064A\u062A\u0645 \u0625\u0634\u0639\u0627\u0631 \u0627\u0644\u0639\u0645\u064A\u0644 \u0628\u062A\u0633\u0644\u064A\u0645 \u0627\u0644\u0637\u0644\u0628"}),n.push({type:"info",icon:"payment",message:this.data.translationService.translate("paymentWillBeProcessed")||"\u0633\u064A\u062A\u0645 \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u062F\u0641\u0639"});break;case"cancelled":n.push({type:"warning",icon:"notifications",message:this.data.translationService.translate("customerWillBeNotifiedOfCancellation")||"\u0633\u064A\u062A\u0645 \u0625\u0634\u0639\u0627\u0631 \u0627\u0644\u0639\u0645\u064A\u0644 \u0628\u0627\u0644\u0625\u0644\u063A\u0627\u0621"}),n.push({type:"info",icon:"payment",message:this.data.translationService.translate("refundWillBeProcessed")||"\u0633\u064A\u062A\u0645 \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0627\u0633\u062A\u0631\u062F\u0627\u062F"});break;case"ready":n.push({type:"info",icon:"notifications",message:this.data.translationService.translate("courierWillBeNotified")||"\u0633\u064A\u062A\u0645 \u0625\u0634\u0639\u0627\u0631 \u0627\u0644\u0645\u0646\u062F\u0648\u0628 \u0628\u0623\u0646 \u0627\u0644\u0637\u0644\u0628 \u062C\u0627\u0647\u0632"});break;case"out_for_delivery":n.push({type:"info",icon:"notifications",message:this.data.translationService.translate("customerWillBeNotifiedOfDelivery")||"\u0633\u064A\u062A\u0645 \u0625\u0634\u0639\u0627\u0631 \u0627\u0644\u0639\u0645\u064A\u0644 \u0628\u0623\u0646 \u0627\u0644\u0645\u0646\u062F\u0648\u0628 \u0641\u064A \u0627\u0644\u0637\u0631\u064A\u0642"});break}return n}confirmStatusUpdate(){if(!this.selectedStatus){this.snackBar.open(this.data.translationService.translate("pleaseSelectStatus")||"\u064A\u0631\u062C\u0649 \u0627\u062E\u062A\u064A\u0627\u0631 \u062D\u0627\u0644\u0629 \u062C\u062F\u064A\u062F\u0629","\u0625\u063A\u0644\u0627\u0642",{duration:3e3});return}if(this.estimatedMinutes!==null&&(this.estimatedMinutes<1||this.estimatedMinutes>120)){this.snackBar.open("\u0627\u0644\u0648\u0642\u062A \u0627\u0644\u0645\u062A\u0648\u0642\u0639 \u064A\u062C\u0628 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0628\u064A\u0646 1 \u0648 120 \u062F\u0642\u064A\u0642\u0629","\u0625\u063A\u0644\u0627\u0642",{duration:3e3});return}this.showPreview=!0}finalConfirm(){if(this.showPreview=!1,!this.selectedStatus){this.snackBar.open(this.data.translationService.translate("pleaseSelectStatus")||"\u064A\u0631\u062C\u0649 \u0627\u062E\u062A\u064A\u0627\u0631 \u062D\u0627\u0644\u0629 \u062C\u062F\u064A\u062F\u0629","\u0625\u063A\u0644\u0627\u0642",{duration:3e3});return}this.isUpdating=!0;let e={status:{pending:0,confirmed:1,preparing:2,ready:3,waiting_courier:4,out_for_delivery:5,delivering:6,delivered:7,cancelled:8}[this.selectedStatus]?.toString()||this.selectedStatus,reason:this.updateNotes||null,cancellationReason:this.selectedStatus==="cancelled"?this.cancellationReason:void 0};this.adminOrderService.updateOrderStatus(this.data.order.id,e).subscribe({next:t=>{this.isUpdating=!1,this.snackBar.open("\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628 \u0628\u0646\u062C\u0627\u062D","\u0625\u063A\u0644\u0627\u0642",{duration:3e3}),this.dialogRef.close({success:!0,order:t,newStatus:this.selectedStatus,notes:this.updateNotes,estimatedMinutes:this.estimatedMinutes})},error:t=>{this.isUpdating=!1,console.error("Error updating order status:",t),this.snackBar.open("\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628","\u0625\u063A\u0644\u0627\u0642",{duration:3e3})}})}undoStatus(){let n={status:this.previousStatus};this.adminOrderService.updateOrderStatus(this.data.order.id,n).subscribe(e=>{this.snackBar.open("\u062A\u0645 \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0627\u0644\u062A\u063A\u064A\u064A\u0631 \u0628\u0646\u062C\u0627\u062D","\u0625\u063A\u0644\u0627\u0642",{duration:3e3}),this.dialogRef.close({success:!0,order:e,newStatus:this.previousStatus})},e=>{console.error("Error undoing order status:",e),this.snackBar.open("\u062D\u062F\u062B \u062E\u0637\u0623 \u0641\u064A \u0627\u0644\u062A\u0631\u0627\u062C\u0639 \u0639\u0646 \u0627\u0644\u062A\u063A\u064A\u064A\u0631","\u0625\u063A\u0644\u0627\u0642",{duration:3e3})})}onClose(){this.dialogRef.close()}getStatusClass(n){return`status-${n}`}getStatusText(n){return{pending:"\u0641\u064A \u0627\u0646\u062A\u0638\u0627\u0631 \u0627\u0644\u062A\u0623\u0643\u064A\u062F",confirmed:"\u062A\u0645 \u0627\u0644\u062A\u0623\u0643\u064A\u062F",preparing:"\u0642\u064A\u062F \u0627\u0644\u062A\u062D\u0636\u064A\u0631",ready:"\u062C\u0627\u0647\u0632 \u0644\u0644\u062A\u0648\u0635\u064A\u0644",waiting_courier:"\u0641\u064A \u0627\u0646\u062A\u0638\u0627\u0631 \u0627\u0644\u0645\u0646\u062F\u0648\u0628",out_for_delivery:"\u0641\u064A \u0627\u0644\u0637\u0631\u064A\u0642",delivering:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u0648\u0635\u064A\u0644",delivered:"\u062A\u0645 \u0627\u0644\u062A\u0648\u0635\u064A\u0644",cancelled:"\u0645\u0644\u063A\u064A"}[n]||n}getConfirmationMessage(){return this.data.translationService.translate(`confirmationMessages.${this.selectedStatus}`)||"\u0633\u064A\u062A\u0645 \u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628"}formatOrderTime(n){if(!n)return"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F";let e=new Date(n),l=Math.floor((new Date().getTime()-e.getTime())/(1e3*60));if(l<1)return"\u0627\u0644\u0622\u0646";if(l<60)return`\u0645\u0646\u0630 ${l} \u062F\u0642\u064A\u0642\u0629`;let u=Math.floor(l/60);return u<24?`\u0645\u0646\u0630 ${u} \u0633\u0627\u0639\u0629`:`\u0645\u0646\u0630 ${Math.floor(u/24)} \u064A\u0648\u0645`}isValidTransition(n,e){return{pending:["confirmed","cancelled"],confirmed:["preparing","cancelled"],preparing:["ready","cancelled"],ready:["waiting_courier","cancelled"],waiting_courier:["out_for_delivery","cancelled"],out_for_delivery:["delivering","cancelled"],delivering:["delivered","cancelled"],delivered:[],cancelled:[]}[n]?.includes(e)||!1}static \u0275fac=function(e){return new(e||s)(h(le),h(de),h(oe),h(Ce))};static \u0275cmp=k({type:s,selectors:[["app-status-update-dialog"]],decls:74,vars:30,consts:[[1,"status-update-dialog"],[1,"dialog-header"],[1,"header-content"],[1,"header-icon"],[1,"header-text"],["mat-dialog-title",""],[1,"header-subtitle"],["mat-icon-button","",1,"close-button",3,"click"],[1,"dialog-content"],[1,"order-overview-card"],[1,"order-header"],[1,"order-info"],[1,"order-meta"],[1,"order-status"],[1,"order-details-grid"],[1,"detail-item"],[1,"detail-content"],[1,"detail-label"],[1,"detail-value"],["class","detail-item",4,"ngIf"],["class","suggestions-card",4,"ngIf"],[1,"status-selection-card"],[1,"status-options-grid"],["class","status-option",3,"selected","suggested","click",4,"ngFor","ngForOf"],["class","additional-info-card",4,"ngIf"],["class","preview-section",4,"ngIf"],[1,"dialog-actions"],["mat-button","",3,"click",4,"ngIf"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"],[4,"ngIf"],["diameter","20",4,"ngIf"],[1,"suggestions-card"],[1,"suggestions-list"],["mat-stroked-button","","class","suggestion-button",3,"click",4,"ngFor","ngForOf"],["mat-stroked-button","",1,"suggestion-button",3,"click"],[1,"status-option",3,"click"],[1,"status-option-content"],[1,"status-icon"],[1,"status-info"],[1,"status-label"],[1,"status-description"],["class","status-badges",4,"ngIf"],[1,"status-actions"],["class","selected-icon",4,"ngIf"],["class","suggestion-icon",4,"ngIf"],[1,"status-badges"],[1,"suggestion-badge"],[1,"selected-icon"],[1,"suggestion-icon"],[1,"additional-info-card"],[1,"info-grid"],["appearance","outline",1,"notes-field"],["matInput","","rows","3",3,"ngModelChange","ngModel","placeholder"],["appearance","outline","class","estimated-time-field",4,"ngIf"],["appearance","outline","class","cancellation-reason-field",4,"ngIf"],["appearance","outline","class","delivery-person-field",4,"ngIf"],["class","impact-analysis",4,"ngIf"],["class","confirmation-message",4,"ngIf"],["appearance","outline",1,"estimated-time-field"],["matInput","","type","number",3,"ngModelChange","ngModel","placeholder"],["matSuffix",""],["appearance","outline",1,"cancellation-reason-field"],[3,"ngModelChange","ngModel"],["value","customer_request"],["value","restaurant_issue"],["value","delivery_issue"],["value","payment_issue"],["value","other"],["appearance","outline",1,"delivery-person-field"],["value","auto"],["value","manual"],[1,"impact-analysis"],[1,"impact-items"],["class","impact-item",4,"ngFor","ngForOf"],[1,"impact-item"],[1,"confirmation-message"],[1,"preview-section"],["mat-raised-button","","color","primary",3,"click"],["diameter","20"]],template:function(e,t){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"mat-icon"),o(5,"local_shipping"),i()(),r(6,"div",4)(7,"h2",5),o(8),i(),r(9,"p",6),o(10),i()()(),r(11,"button",7),f("click",function(){return t.onClose()}),r(12,"mat-icon"),o(13,"close"),i()()(),r(14,"mat-dialog-content",8)(15,"mat-card",9)(16,"mat-card-content")(17,"div",10)(18,"div",11)(19,"h3"),o(20),i(),r(21,"p",12),o(22),i()(),r(23,"div",13)(24,"mat-chip")(25,"mat-icon"),o(26),i(),o(27),i()()(),r(28,"div",14)(29,"div",15)(30,"mat-icon"),o(31,"shopping_cart"),i(),r(32,"div",16)(33,"span",17),o(34),i(),r(35,"span",18),o(36),i()()(),r(37,"div",15)(38,"mat-icon"),o(39,"attach_money"),i(),r(40,"div",16)(41,"span",17),o(42),i(),r(43,"span",18),o(44),i()()(),r(45,"div",15)(46,"mat-icon"),o(47,"location_on"),i(),r(48,"div",16)(49,"span",17),o(50),i(),r(51,"span",18),o(52),i()()(),g(53,tn,8,2,"div",19),i()()(),g(54,an,9,2,"mat-card",20),r(55,"mat-card",21)(56,"mat-card-header")(57,"mat-card-title")(58,"mat-icon"),o(59,"swap_horiz"),i(),o(60),i()(),r(61,"mat-card-content")(62,"div",22),g(63,ln,14,12,"div",23),i()()(),g(64,fn,17,10,"mat-card",24)(65,_n,9,3,"div",25),i(),r(66,"mat-dialog-actions",26),g(67,vn,2,0,"button",27),r(68,"button",28),f("click",function(){return t.onClose()}),o(69),i(),r(70,"button",29),f("click",function(){return t.confirmStatusUpdate()}),g(71,xn,2,0,"mat-icon",30)(72,hn,1,0,"mat-spinner",31),o(73),i()()()),e&2&&(y("rtl",t.data.translationService.isRTL()),a(8),d(t.data.translationService.translate("updateOrderStatus")||"\u062A\u062D\u062F\u064A\u062B \u062D\u0627\u0644\u0629 \u0627\u0644\u0637\u0644\u0628"),a(2),T("",t.data.translationService.translate("orderNumber")||"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628",": ",t.data.order.orderNumber),a(10),d(t.data.order.customerName),a(2),T("",t.data.order.restaurantName," \u2022 ",t.formatOrderTime(t.data.order.orderDate)),a(2),b("current-status-chip "+t.getStatusClass(t.data.order.status)),a(2),d(t.getStatusIcon(t.data.order.status)),a(),m(" ",t.getStatusText(t.data.order.status)," "),a(7),d(t.data.translationService.translate("itemsCount")||"\u0639\u062F\u062F \u0627\u0644\u0639\u0646\u0627\u0635\u0631"),a(2),d(t.itemsCount),a(6),d(t.data.translationService.translate("totalAmount")||"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"),a(2),m("",t.data.order.totalAmount," \u0631.\u0633"),a(6),d(t.data.translationService.translate("deliveryAddress")||"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u062A\u0648\u0635\u064A\u0644"),a(2),d(t.data.order.deliveryAddress),a(),c("ngIf",t.data.order.deliveryPersonName),a(),c("ngIf",t.data.smartSuggestions&&t.data.smartSuggestions.length>0),a(6),m(" ",t.data.translationService.translate("selectNewStatus")||"\u0627\u062E\u062A\u0631 \u0627\u0644\u062D\u0627\u0644\u0629 \u0627\u0644\u062C\u062F\u064A\u062F\u0629"," "),a(3),c("ngForOf",t.availableStatuses),a(),c("ngIf",t.selectedStatus),a(),c("ngIf",t.showPreview),a(2),c("ngIf",t.previousStatus!==t.data.order.status),a(2),m(" ",t.data.translationService.translate("cancel")||"\u0625\u0644\u063A\u0627\u0621"," "),a(),c("disabled",!t.selectedStatus||t.isUpdating),a(),c("ngIf",!t.isUpdating),a(),c("ngIf",t.isUpdating),a(),m(" ",t.data.translationService.translate("confirmUpdate")||"\u062A\u0623\u0643\u064A\u062F \u0627\u0644\u062A\u062D\u062F\u064A\u062B"," "))},dependencies:[N,B,F,ne,Z,Xe,ee,te,L,ce,me,ue,U,z,R,H,W,ie,X,J,K,xe,ve,re,ae,Q,j,pe,fe,_e,ge,Y,q,$,he,De,se],styles:[".status-update-dialog[_ngcontent-%COMP%]{max-width:800px;max-height:90vh;overflow-y:auto}.dialog-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 24px 0;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;margin:-24px -24px 24px;border-radius:8px 8px 0 0}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.header-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center}.header-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:24px;width:24px;height:24px}.header-text[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:600}.header-subtitle[_ngcontent-%COMP%]{margin:4px 0 0;opacity:.9;font-size:.9rem}.close-button[_ngcontent-%COMP%]{color:#fff}.dialog-content[_ngcontent-%COMP%]{padding:0 24px}.order-overview-card[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:16px;box-shadow:0 4px 20px #0000001a;border:1px solid #e8f0fe}.order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid #f0f0f0}.order-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1.3rem;font-weight:600;color:#2c3e50}.order-meta[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.9rem}.current-status-chip[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600}.order-details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#f8f9fa;border-radius:8px;transition:all .2s ease}.detail-item[_ngcontent-%COMP%]:hover{background:#e9ecef;transform:translateY(-1px)}.detail-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea;font-size:20px;width:20px;height:20px}.detail-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.detail-label[_ngcontent-%COMP%]{font-size:.8rem;color:#666;font-weight:500}.detail-value[_ngcontent-%COMP%]{font-size:.9rem;color:#2c3e50;font-weight:600}.suggestions-card[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:16px;box-shadow:0 4px 20px #0000001a;border:1px solid #fff3cd;background:linear-gradient(135deg,#fff3cd,#ffeaa7)}.suggestions-list[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap}.suggestion-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;border-radius:20px;padding:8px 16px;font-weight:500;transition:all .2s ease}.suggestion-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.order-info-card[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.order-info-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;margin:-16px -16px 16px;padding:16px;border-radius:12px 12px 0 0}.order-info-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:1rem;font-weight:600}.order-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0}.label[_ngcontent-%COMP%]{font-weight:600;color:#666}.value[_ngcontent-%COMP%]{color:#2c3e50;text-align:right}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:24px 0 16px;font-size:1.2rem;font-weight:600;color:#2c3e50}.status-selection-card[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:16px;box-shadow:0 4px 20px #0000001a;border:1px solid #e8f0fe}.status-options-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px}.status-option[_ngcontent-%COMP%]{border-radius:12px;border:2px solid #e0e0e0;background:#fff;transition:all .3s ease;cursor:pointer;overflow:hidden}.status-option[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026;border-color:#667eea}.status-option.selected[_ngcontent-%COMP%]{border-color:#667eea;background:linear-gradient(135deg,#667eea1a,#764ba21a);box-shadow:0 8px 25px #667eea4d}.status-option.suggested[_ngcontent-%COMP%]{border-color:#ffc107;background:linear-gradient(135deg,#ffc1071a,#ffeb3b1a)}.status-option-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:20px}.status-icon[_ngcontent-%COMP%]{width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0;box-shadow:0 4px 12px #0003}.status-info[_ngcontent-%COMP%]{flex:1}.status-label[_ngcontent-%COMP%]{margin:0 0 6px;font-size:1.1rem;font-weight:600;color:#2c3e50}.status-description[_ngcontent-%COMP%]{margin:0 0 8px;font-size:.9rem;color:#666;line-height:1.4}.status-badges[_ngcontent-%COMP%]{display:flex;gap:8px}.suggestion-badge[_ngcontent-%COMP%]{background:#ffc107;color:#2c3e50;font-size:.75rem;font-weight:600}.status-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.selected-icon[_ngcontent-%COMP%]{color:#4caf50;font-size:24px;width:24px;height:24px}.suggestion-icon[_ngcontent-%COMP%]{color:#ffc107;font-size:20px;width:20px;height:20px}.additional-info-card[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:16px;box-shadow:0 4px 20px #0000001a;border:1px solid #e8f0fe}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:24px}.notes-field[_ngcontent-%COMP%], .estimated-time-field[_ngcontent-%COMP%], .cancellation-reason-field[_ngcontent-%COMP%], .delivery-person-field[_ngcontent-%COMP%]{width:100%}.impact-analysis[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:20px;margin-top:20px}.impact-analysis[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1.1rem;font-weight:600;color:#2c3e50;display:flex;align-items:center;gap:8px}.impact-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.impact-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#fff;border-radius:8px;border-left:4px solid #667eea}.impact-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.impact-icon.success[_ngcontent-%COMP%]{color:#4caf50}.impact-icon.warning[_ngcontent-%COMP%]{color:#ff9800}.impact-icon.info[_ngcontent-%COMP%]{color:#2196f3}.impact-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;color:#2c3e50;font-weight:500}.confirmation-message[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:#ffc1071a;border:1px solid rgba(255,193,7,.3);border-radius:8px;margin-top:16px}.confirmation-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff9800;flex-shrink:0}.confirmation-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-weight:500}.status-chip.status-pending[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.status-chip.status-confirmed[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.status-chip.status-preparing[_ngcontent-%COMP%]{background-color:#9c27b0;color:#fff}.status-chip.status-ready[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.status-chip.status-waiting-courier[_ngcontent-%COMP%]{background-color:#ff5722;color:#fff}.status-chip.status-out-for-delivery[_ngcontent-%COMP%]{background-color:#00bcd4;color:#fff}.status-chip.status-delivering[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}.status-chip.status-delivered[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.status-chip.status-cancelled[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.dialog-actions[_ngcontent-%COMP%]{padding:20px 24px;border-top:1px solid #e0e0e0;display:flex;justify-content:flex-end;gap:12px}.rtl[_ngcontent-%COMP%]{direction:rtl}.rtl[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{flex-direction:row-reverse}.rtl[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{text-align:left}.rtl[_ngcontent-%COMP%]   .status-option-header[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .confirmation-message[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .dialog-actions[_ngcontent-%COMP%]{flex-direction:row-reverse}@media (max-width: 768px){.order-details[_ngcontent-%COMP%], .status-options-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var Cn=()=>[10,15,25,50];function Mn(s,n){if(s&1&&(r(0,"mat-option",30)(1,"div",31),M(2,"span"),o(3),i()()),s&2){let e=n.$implicit,t=p();c("value",e.value),a(2),b("status-indicator "+t.getStatusClass(e.value)),a(),m(" ",e.label," ")}}function bn(s,n){if(s&1&&(r(0,"mat-option",30),o(1),i()),s&2){let e=n.$implicit;c("value",e.value),a(),m(" ",e.label," ")}}function On(s,n){if(s&1&&(r(0,"div",32)(1,"mat-icon",33),o(2,"refresh"),i(),r(3,"span"),o(4),i()()),s&2){let e=p();a(4),d(e.translationService.translate("loading")||"\u062C\u0627\u0631\u064D \u0627\u0644\u062A\u062D\u0645\u064A\u0644...")}}function Sn(s,n){if(s&1&&(r(0,"th",58),o(1),r(2,"mat-icon"),o(3,"arrow_drop_down"),i()()),s&2){let e=p(3);a(),m(" ",e.translationService.translate("orderNumber")||"\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628"," ")}}function Pn(s,n){s&1&&(r(0,"mat-icon",63),o(1,"schedule"),i())}function yn(s,n){if(s&1){let e=C();r(0,"td",59)(1,"div",60),f("click",function(){let l=_(e).$implicit,u=p(3);return v(u.viewOrderDetails(l))}),r(2,"span",61),o(3),i(),g(4,Pn,2,0,"mat-icon",62),i()()}if(s&2){let e=n.$implicit,t=p(3);a(3),d(e.orderNumber),a(),c("ngIf",t.isOverdue(e))}}function wn(s,n){if(s&1&&(r(0,"th",64),o(1),i()),s&2){let e=p(3);a(),m(" ",e.translationService.translate("customer")||"\u0627\u0644\u0639\u0645\u064A\u0644"," ")}}function Dn(s,n){if(s&1&&(r(0,"td",59)(1,"div",65)(2,"span",66),o(3),i(),r(4,"span",67),o(5),i()()()),s&2){let e=n.$implicit;a(3),d(e.customerName),a(2),d(e.customerPhone)}}function In(s,n){if(s&1&&(r(0,"th",64),o(1),i()),s&2){let e=p(3);a(),m(" ",e.translationService.translate("restaurant")||"\u0627\u0644\u0645\u0637\u0639\u0645"," ")}}function An(s,n){if(s&1&&(r(0,"td",59)(1,"span",68),o(2),i()()),s&2){let e=n.$implicit;a(2),d(e.restaurantName)}}function En(s,n){if(s&1&&(r(0,"th",64),o(1),i()),s&2){let e=p(3);a(),m(" ",e.translationService.translate("deliveryPerson")||"\u0627\u0644\u0645\u0646\u062F\u0648\u0628"," ")}}function kn(s,n){if(s&1&&(r(0,"span",74),o(1),i()),s&2){let e=p().$implicit;a(),d(e.deliveryPersonName)}}function Tn(s,n){s&1&&(r(0,"span",75),o(1,"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),i())}function Bn(s,n){s&1&&(r(0,"mat-icon",76),o(1,"person_add"),i())}function Fn(s,n){s&1&&(r(0,"mat-icon",77),o(1,"lock"),i())}function Nn(s,n){if(s&1){let e=C();r(0,"td",59)(1,"div",69),f("click",function(){let l=_(e).$implicit,u=p(3);return v(l.status==="ready"?u.assignDeliveryPerson(l):null)}),g(2,kn,2,1,"span",70)(3,Tn,2,0,"span",71)(4,Bn,2,0,"mat-icon",72)(5,Fn,2,0,"mat-icon",73),i()()}if(s&2){let e=n.$implicit;a(),y("clickable",e.status==="ready")("disabled",e.status!=="ready"),a(),c("ngIf",e.deliveryPersonName),a(),c("ngIf",!e.deliveryPersonName),a(),c("ngIf",e.status==="ready"),a(),c("ngIf",e.status!=="ready")}}function Vn(s,n){if(s&1&&(r(0,"th",64),o(1),i()),s&2){let e=p(3);a(),m(" ",e.translationService.translate("status")||"\u0627\u0644\u062D\u0627\u0644\u0629"," ")}}function Rn(s,n){if(s&1&&(r(0,"td",59)(1,"mat-chip-set")(2,"mat-chip"),o(3),i()(),r(4,"div",78)(5,"span"),o(6),i()()()),s&2){let e=n.$implicit,t=p(3);a(2),b("status-chip "+t.getStatusClass(e.status)),a(),m(" ",t.getStatusText(e.status)," "),a(2),b("payment-badge "+t.getPaymentStatusClass(e.paymentStatus)),a(),m(" ",t.getPaymentStatusText(e.paymentStatus)," ")}}function zn(s,n){if(s&1&&(r(0,"th",79),o(1),i()),s&2){let e=p(3);a(),m(" ",e.translationService.translate("totalAmount")||"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A"," ")}}function Un(s,n){if(s&1&&(r(0,"td",80)(1,"span",81),o(2),A(3,"number"),i()()),s&2){let e=n.$implicit;a(2),m("",E(3,1,e.totalAmount,"1.2-2")," \u0631.\u0633")}}function Ln(s,n){if(s&1&&(r(0,"th",82),o(1),i()),s&2){let e=p(3);a(),m(" ",e.translationService.translate("orderDate")||"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0637\u0644\u0628"," ")}}function jn(s,n){if(s&1&&(r(0,"td",83),o(1),A(2,"date"),i()),s&2){let e=n.$implicit;a(),m(" ",E(2,1,e.orderDate,"dd/MM/yyyy HH:mm")," ")}}function Wn(s,n){if(s&1&&(r(0,"th",82),o(1),i()),s&2){let e=p(3);a(),m(" ",e.translationService.translate("estimatedDelivery")||"\u0627\u0644\u0648\u0642\u062A \u0627\u0644\u0645\u062A\u0648\u0642\u0639"," ")}}function Hn(s,n){if(s&1&&(r(0,"span"),o(1),A(2,"date"),i()),s&2){let e=p().$implicit,t=p(3);b(t.isOverdue(e)?"overdue-time":"normal-time"),a(),m(" ",E(2,3,e.estimatedDeliveryTime,"HH:mm")," ")}}function $n(s,n){s&1&&(r(0,"span",86),o(1,"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"),i())}function qn(s,n){if(s&1&&(r(0,"td",83),g(1,Hn,3,6,"span",84)(2,$n,2,0,"span",85),i()),s&2){let e=n.$implicit;a(),c("ngIf",e.estimatedDeliveryTime),a(),c("ngIf",!e.estimatedDeliveryTime)}}function Yn(s,n){if(s&1&&(r(0,"th",87),o(1),i()),s&2){let e=p(3);a(),m(" ",e.translationService.translate("actions")||"\u0627\u0644\u0625\u062C\u0631\u0627\u0621\u0627\u062A"," ")}}function Gn(s,n){if(s&1){let e=C();r(0,"button",95),f("click",function(){let l=_(e).$implicit,u=p().$implicit,x=p(3);return v(x.updateOrderStatus(u,l.value))}),M(1,"span"),r(2,"span"),o(3),i()()}if(s&2){let e=n.$implicit,t=p().$implicit,l=p(3);c("disabled",t.status===e.value),a(),b("status-indicator "+l.getStatusClass(e.value)),a(2),d(e.label)}}function Qn(s,n){if(s&1){let e=C();r(0,"td",88)(1,"div",89)(2,"button",90),f("click",function(){let l=_(e).$implicit,u=p(3);return v(u.viewOrderDetails(l))}),r(3,"mat-icon"),o(4,"visibility"),i()(),r(5,"button",91)(6,"mat-icon"),o(7,"update"),i()(),r(8,"mat-menu",null,2),g(10,Gn,4,4,"button",92),i(),r(11,"button",93),f("click",function(){let l=_(e).$implicit,u=p(3);return v(u.assignDeliveryPerson(l))}),r(12,"mat-icon"),o(13,"person_add"),i()(),r(14,"button",94),f("click",function(){let l=_(e).$implicit,u=p(3);return v(u.cancelOrder(l))}),r(15,"mat-icon"),o(16,"cancel"),i()()()()}if(s&2){let e=n.$implicit,t=Se(9),l=p(3);a(2),c("matTooltip",w(l.translationService.translate("viewDetails")||"\u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644")),a(3),c("matTooltip",w(l.translationService.translate("updateStatus")||"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062D\u0627\u0644\u0629"))("matMenuTriggerFor",t)("disabled",e.status==="delivered"||e.status==="cancelled"),a(5),c("ngForOf",l.statusOptions.slice(1)),a(),c("matTooltip",w(l.translationService.translate("assignDelivery")||"\u062A\u0639\u064A\u064A\u0646 \u0645\u0646\u062F\u0648\u0628"))("disabled",e.status!=="ready"||e.status==="delivered"||e.status==="cancelled"),a(3),c("matTooltip",w(l.translationService.translate("cancelOrder")||"\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0637\u0644\u0628"))("disabled",e.status==="delivered"||e.status==="cancelled")}}function Jn(s,n){s&1&&M(0,"tr",96)}function Kn(s,n){if(s&1&&M(0,"tr",97),s&2){let e=n.$implicit,t=p(3);y("overdue-row",t.isOverdue(e))("cancelled-row",e.status==="cancelled")}}function Xn(s,n){if(s&1&&(r(0,"table",37),D(1,38),g(2,Sn,4,1,"th",39)(3,yn,5,2,"td",40),I(),D(4,41),g(5,wn,2,1,"th",42)(6,Dn,6,2,"td",40),I(),D(7,43),g(8,In,2,1,"th",42)(9,An,3,1,"td",40),I(),D(10,44),g(11,En,2,1,"th",42)(12,Nn,6,8,"td",40),I(),D(13,45),g(14,Vn,2,1,"th",42)(15,Rn,7,6,"td",40),I(),D(16,46),g(17,zn,2,1,"th",47)(18,Un,4,4,"td",48),I(),D(19,49),g(20,Ln,2,1,"th",50)(21,jn,3,4,"td",51),I(),D(22,52),g(23,Wn,2,1,"th",50)(24,qn,3,2,"td",51),I(),D(25,53),g(26,Yn,2,1,"th",54)(27,Qn,17,13,"td",55),I(),g(28,Jn,1,0,"tr",56)(29,Kn,1,4,"tr",57),i()),s&2){let e=p(2);c("dataSource",e.filteredOrdersData),a(28),c("matHeaderRowDef",e.displayedColumns),a(),c("matRowDefColumns",e.displayedColumns)}}function Zn(s,n){if(s&1){let e=C();r(0,"div",98)(1,"mat-icon",99),o(2,"receipt_long"),i(),r(3,"h3"),o(4),i(),r(5,"p"),o(6),i(),r(7,"button",100),f("click",function(){_(e);let l=p(2);return v(l.clearFilters())}),r(8,"mat-icon"),o(9,"clear_all"),i(),o(10),i()()}if(s&2){let e=p(2);a(4),d(e.translationService.translate("dashboard.noOrdersFound")||"\u0644\u0627 \u062A\u0648\u062C\u062F \u0637\u0644\u0628\u0627\u062A"),a(2),d(e.translationService.translate("dashboard.noOrdersDescription")||"\u0644\u0645 \u064A\u062A\u0645 \u0627\u0644\u0639\u062B\u0648\u0631 \u0639\u0644\u0649 \u0637\u0644\u0628\u0627\u062A \u062A\u0637\u0627\u0628\u0642 \u0627\u0644\u0645\u0639\u0627\u064A\u064A\u0631 \u0627\u0644\u0645\u062D\u062F\u062F\u0629"),a(4),m(" ",e.translationService.translate("dashboard.clearFilters")||"\u0645\u0633\u062D \u0627\u0644\u0641\u0644\u0627\u062A\u0631"," ")}}function ei(s,n){if(s&1&&(r(0,"div",34),g(1,Xn,30,3,"table",35)(2,Zn,11,3,"div",36),i()),s&2){let e=p();a(),c("ngIf",e.filteredOrdersData.length>0),a(),c("ngIf",e.filteredOrdersData.length===0)}}function ti(s,n){if(s&1){let e=C();r(0,"div",101)(1,"div",102)(2,"span"),o(3),i()(),r(4,"mat-paginator",103),f("page",function(l){_(e);let u=p();return v(u.onPageChange(l))}),i(),r(5,"div",104)(6,"span"),o(7),i()()()}if(s&2){let e=p();a(3),T("",e.totalItems," ",e.translationService.translate("dashboard.items")||"\u0639\u0646\u0635\u0631"),a(),c("length",e.totalItems)("pageIndex",e.pageIndex)("pageSize",e.pageSize)("pageSizeOptions",Je(8,Cn)),a(3),T("",e.translationService.translate("dashboard.show")||"\u0639\u0631\u0636"," ",e.pageSize)}}var Ft=class s{constructor(n,e,t,l,u,x){this.translationService=n;this.orderService=e;this.adminOrderService=t;this.snackBar=l;this.dialog=u;this.errorHandler=x;this.searchSubject.pipe(Ye(300),Ge(),Fe(this.destroy$)).subscribe(Nt=>{this.searchTerm=Nt,this.applyFilters()})}paginator;sort;currentDate=new Date;displayedColumns=["orderNumber","customer","restaurant","deliveryPerson","status","totalAmount","orderDate","estimatedDelivery","actions"];pageSize=15;totalItems=0;pageIndex=0;ordersData=[];filteredOrdersData=[];isLoading=!1;isRefreshing=!1;autoRefreshEnabled=!0;destroy$=new Be;searchSubject=new Be;filterStatus="all";filterPaymentStatus="all";filterRestaurant="";filterCustomer="";filterDateFrom=null;filterDateTo=null;searchTerm="";statusOptions=[{value:"all",label:"\u062C\u0645\u064A\u0639 \u0627\u0644\u062D\u0627\u0644\u0627\u062A",color:""},{value:"pending",label:"\u0641\u064A \u0627\u0646\u062A\u0638\u0627\u0631 \u0627\u0644\u062A\u0623\u0643\u064A\u062F",color:"warning"},{value:"confirmed",label:"\u062A\u0645 \u0627\u0644\u062A\u0623\u0643\u064A\u062F",color:"primary"},{value:"preparing",label:"\u0642\u064A\u062F \u0627\u0644\u062A\u062D\u0636\u064A\u0631",color:"accent"},{value:"ready",label:"\u062C\u0627\u0647\u0632 \u0644\u0644\u062A\u0648\u0635\u064A\u0644",color:"success"},{value:"waiting_courier",label:"\u0641\u064A \u0627\u0646\u062A\u0638\u0627\u0631 \u0627\u0644\u0645\u0646\u062F\u0648\u0628",color:"info"},{value:"out_for_delivery",label:"\u0641\u064A \u0627\u0644\u0637\u0631\u064A\u0642",color:"info"},{value:"delivering",label:"\u062C\u0627\u0631\u064A \u0627\u0644\u062A\u0648\u0635\u064A\u0644",color:"info"},{value:"delivered",label:"\u062A\u0645 \u0627\u0644\u062A\u0648\u0635\u064A\u0644",color:"success"},{value:"cancelled",label:"\u0645\u0644\u063A\u064A",color:"error"}];paymentStatusOptions=[{value:"all",label:"\u062C\u0645\u064A\u0639 \u062D\u0627\u0644\u0627\u062A \u0627\u0644\u062F\u0641\u0639"},{value:"pending",label:"\u0641\u064A \u0627\u0646\u062A\u0638\u0627\u0631 \u0627\u0644\u062F\u0641\u0639"},{value:"paid",label:"\u062A\u0645 \u0627\u0644\u062F\u0641\u0639"},{value:"failed",label:"\u0641\u0634\u0644 \u0627\u0644\u062F\u0641\u0639"},{value:"refunded",label:"\u062A\u0645 \u0627\u0644\u0627\u0633\u062A\u0631\u062F\u0627\u062F"}];mapOrderDtoToOrderData=n=>{let e={0:"pending",1:"confirmed",2:"preparing",3:"ready",4:"waiting_courier",5:"out_for_delivery",6:"delivering",7:"delivered",8:"cancelled"};return{id:n.id||"",orderNumber:n.id||"",customerName:n.customerName||"Unknown Customer",customerPhone:n.customerPhone||"N/A",restaurantName:n.restaurantName||"Unknown Restaurant",deliveryPersonName:n.deliveryPersonName||"Not Assigned",status:e[n.status]||"pending",totalAmount:n.totalAmount||0,orderDate:n.orderDate?new Date(n.orderDate):new Date,estimatedDeliveryTime:n.estimatedDeliveryTime?new Date(Date.now()+n.estimatedDeliveryTime*6e4):void 0,actualDeliveryTime:n.actualDeliveryTime?new Date(n.actualDeliveryTime):void 0,items:n.items||[],deliveryAddress:n.deliveryAddress||"Address not available",paymentMethod:n.paymentMethod||"Unknown",paymentStatus:n.paymentStatus||"pending",notes:n.notes,cancellationReason:n.cancellationReason}};ngOnInit(){this.loadOrders(),this.startAutoRefresh()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}startAutoRefresh(){this.autoRefreshEnabled&&qe(3e4).pipe(Fe(this.destroy$)).subscribe(()=>{!this.isLoading&&!this.isRefreshing&&this.refreshOrders()})}onSearchChange(n){this.searchSubject.next(n)}loadOrders(){return G(this,null,function*(){try{this.isLoading=!0;let n={skipCount:this.pageIndex*this.pageSize,maxResultCount:this.pageSize,sorting:"CreationTime desc",status:this.filterStatus!=="all"?this.filterStatus:void 0,paymentStatus:this.filterPaymentStatus!=="all"?this.filterPaymentStatus:void 0,restaurantName:this.filterRestaurant||void 0,customerName:this.searchTerm||void 0,dateFrom:this.filterDateFrom||void 0,dateTo:this.filterDateTo||void 0,searchTerm:this.searchTerm||void 0},e=yield this.adminOrderService.getOrders(n).toPromise();e?(this.ordersData=(e.items||[]).map(this.mapOrderDtoToOrderData),this.totalItems=e.totalCount||0):(this.ordersData=[],this.totalItems=0),this.applyFilters()}catch(n){console.error("Error loading orders:",n),this.errorHandler.showErrorMessage(this.translationService.translate("errorLoadingOrders")),this.ordersData=[],this.filteredOrdersData=[],this.totalItems=0}finally{this.isLoading=!1}})}refreshOrders(){return G(this,null,function*(){this.isRefreshing=!0;try{yield this.loadOrders(),this.errorHandler.showSuccessMessage(this.translationService.translate("dataUpdatedSuccessfully"))}finally{this.isRefreshing=!1}})}applyFilters(){let n=[...this.ordersData];if(this.filterStatus!=="all"&&(n=n.filter(e=>e.status===this.filterStatus)),this.filterPaymentStatus!=="all"&&(n=n.filter(e=>e.paymentStatus===this.filterPaymentStatus)),this.filterRestaurant&&(n=n.filter(e=>e.restaurantName.toLowerCase().includes(this.filterRestaurant.toLowerCase()))),this.searchTerm){let e=this.searchTerm.toLowerCase();n=n.filter(t=>t.orderNumber.toLowerCase().includes(e)||t.customerName.toLowerCase().includes(e)||t.customerPhone.includes(e)||t.restaurantName.toLowerCase().includes(e))}this.filterDateFrom&&(n=n.filter(e=>new Date(e.orderDate)>=new Date(this.filterDateFrom))),this.filterDateTo&&(n=n.filter(e=>new Date(e.orderDate)<=new Date(this.filterDateTo))),this.filteredOrdersData=n,this.totalItems=n.length,this.pageIndex=0}onPageChange(n){this.pageIndex=n.pageIndex,this.pageSize=n.pageSize}onFilterChange(){this.applyFilters()}clearFilters(){this.filterStatus="all",this.filterPaymentStatus="all",this.filterRestaurant="",this.filterCustomer="",this.filterDateFrom=null,this.filterDateTo=null,this.searchTerm="",this.applyFilters()}toggleAutoRefresh(){this.autoRefreshEnabled=!this.autoRefreshEnabled,this.autoRefreshEnabled&&this.startAutoRefresh()}updateOrderStatus(n,e){return G(this,null,function*(){if(this.isSimpleStatusUpdate(n.status,e)&&!this.requiresConfirmation(n.status,e)){this.performDirectStatusUpdate(n,e);return}this.dialog.open(Te,{width:"800px",maxHeight:"90vh",data:{order:n,newStatus:e,translationService:this.translationService,smartSuggestions:this.getSmartSuggestions(n),requiresConfirmation:this.requiresConfirmation(n.status,e)}}).afterClosed().subscribe(l=>{l&&l.success&&(n.status=l.newStatus,this.errorHandler.showSuccessMessage(this.translationService.translate("orderStatusUpdatedSuccessfully")),l.newStatus==="delivered"?this.showDeliveryCompletionFeedback(n):l.newStatus==="cancelled"&&this.showCancellationFeedback(n,l.cancellationReason))})})}showDeliveryCompletionFeedback(n){let e=this.translationService.translate("orderDeliveredSuccessfully")||`\u062A\u0645 \u062A\u0633\u0644\u064A\u0645 \u0627\u0644\u0637\u0644\u0628 ${n.orderNumber} \u0628\u0646\u062C\u0627\u062D \u0644\u0644\u0639\u0645\u064A\u0644 ${n.customerName}`;this.snackBar.open(e,this.translationService.translate("viewDetails")||"\u0639\u0631\u0636 \u0627\u0644\u062A\u0641\u0627\u0635\u064A\u0644",{duration:5e3,panelClass:["success-snackbar"]}).onAction().subscribe(()=>{this.viewOrderDetails(n)})}showCancellationFeedback(n,e){let t=this.translationService.translate("orderCancelledSuccessfully")||`\u062A\u0645 \u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0637\u0644\u0628 ${n.orderNumber} - \u0627\u0644\u0633\u0628\u0628: ${e||"\u063A\u064A\u0631 \u0645\u062D\u062F\u062F"}`;this.snackBar.open(t,this.translationService.translate("close")||"\u0625\u063A\u0644\u0627\u0642",{duration:5e3,panelClass:["warning-snackbar"]})}isSimpleStatusUpdate(n,e){return{pending:["confirmed"],confirmed:["preparing"],preparing:["ready"],ready:["waiting_courier"],waiting_courier:["out_for_delivery"],out_for_delivery:["delivering"],delivering:["delivered"]}[n]?.includes(e)||!1}requiresConfirmation(n,e){return["cancelled","delivered","ready"].includes(e)}getSmartSuggestions(n){let e=[],l=new Date().getTime()-new Date(n.orderDate).getTime(),u=Math.floor(l/(1e3*60));switch(n.status){case"pending":u>5&&e.push("confirmed");break;case"confirmed":u>10&&e.push("preparing");break;case"preparing":u>30&&e.push("ready");break;case"ready":u>45&&e.push("waiting_courier");break}return e}performDirectStatusUpdate(n,e){let l={status:{pending:0,confirmed:1,preparing:2,ready:3,waiting_courier:4,out_for_delivery:5,delivering:6,delivered:7,cancelled:8}[e]?.toString()||e,reason:null};this.adminOrderService.updateOrderStatus(n.id,l).subscribe({next:u=>{n.status=e,this.errorHandler.showSuccessMessage(this.translationService.translate("orderStatusUpdatedSuccessfully"))},error:u=>{console.error("Error updating order status:",u),this.errorHandler.showErrorMessage(this.translationService.translate("errorUpdatingOrderStatus"))}})}assignDeliveryPerson(n){return G(this,null,function*(){this.dialog.open(ke,{width:"900px",maxHeight:"90vh",data:{order:n,translationService:this.translationService}}).afterClosed().subscribe(t=>{t&&t.success&&(n.deliveryPersonName=t.deliveryPerson.name,this.errorHandler.showSuccessMessage(this.translationService.translate("deliveryPersonAssignedSuccessfully")))})})}cancelOrder(n){return G(this,null,function*(){let e=yield this.errorHandler.showPrompt({title:this.translationService.translate("cancelOrder"),message:this.translationService.translate("enterCancellationReason"),placeholder:this.translationService.translate("cancellationReason"),type:"textarea",required:!0,maxLength:500});if(e&&e.trim())try{yield this.adminOrderService.cancelOrder(n.id,{cancellationReason:e,refundAmount:n.paymentStatus==="paid"?n.totalAmount:0}).toPromise(),n.status="cancelled",n.cancellationReason=e,this.errorHandler.showSuccessMessage(this.translationService.translate("orderCancelledSuccessfully"))}catch(t){console.error("Error cancelling order:",t),this.errorHandler.showErrorMessage(this.translationService.translate("errorCancellingOrder"))}})}viewOrderDetails(n){let e=n.items.map(l=>`${l.name} (${l.quantity}x)`).join(", ");this.dialog.open(Ee,{width:"600px",data:{order:n,itemsList:e,translationService:this.translationService}}).afterClosed().subscribe(l=>{l&&console.log("Order details dialog closed with result:",l)})}showMessage(n,e){this.snackBar.open(n,"\u0625\u063A\u0644\u0627\u0642",{duration:3e3,panelClass:e==="success"?["success-snackbar"]:["error-snackbar"]})}getStatusClass(n){switch(n){case"pending":return"status-pending";case"confirmed":return"status-confirmed";case"preparing":return"status-preparing";case"ready":return"status-ready";case"waiting_courier":return"status-waiting-courier";case"out_for_delivery":return"status-out-for-delivery";case"delivering":return"status-delivering";case"delivered":return"status-delivered";case"cancelled":return"status-cancelled";default:return"status-unknown"}}getStatusText(n){return this.statusOptions.find(t=>t.value===n)?.label||n}getPaymentStatusClass(n){switch(n){case"paid":return"payment-paid";case"pending":return"payment-pending";case"failed":return"payment-failed";case"refunded":return"payment-refunded";default:return"payment-unknown"}}getPaymentStatusText(n){return this.paymentStatusOptions.find(t=>t.value===n)?.label||n}isOverdue(n){return!n.estimatedDeliveryTime||n.status==="delivered"||n.status==="cancelled"?!1:new Date>new Date(n.estimatedDeliveryTime)}getOrderStats(){return{total:this.ordersData.length,pending:this.ordersData.filter(n=>n.status==="pending").length,inProgress:this.ordersData.filter(n=>["confirmed","preparing","ready","out_for_delivery"].includes(n.status)).length,delivered:this.ordersData.filter(n=>n.status==="delivered").length,cancelled:this.ordersData.filter(n=>n.status==="cancelled").length,overdue:this.ordersData.filter(n=>this.isOverdue(n)).length}}exportOrders(){console.log("Export orders data"),this.errorHandler.showSuccessMessage(this.translationService.translate("dataExportedSuccessfully"))}Math=Math;static \u0275fac=function(e){return new(e||s)(h(nt),h(wt),h(Ce),h(oe),h(it),h(at))};static \u0275cmp=k({type:s,selectors:[["app-orders-board"]],viewQuery:function(e,t){if(e&1&&(Ne(we,5),Ne(Pt,5)),e&2){let l;Ve(l=Re())&&(t.paginator=l.first),Ve(l=Re())&&(t.sort=l.first)}},decls:86,vars:43,consts:[["fromPicker",""],["toPicker",""],["statusMenu","matMenu"],[1,"orders-board-container"],[1,"section-header"],[1,"header-info"],[1,"subtitle"],[1,"stats-grid"],[1,"stat-card","total"],[1,"stat-value"],[1,"stat-label"],[1,"stat-card","pending"],[1,"stat-card","progress"],[1,"stat-card","delivered"],[1,"stat-card","overdue"],[1,"filters-section"],[1,"filters-row"],["appearance","outline",1,"filter-field"],["matInput","",3,"ngModelChange","ngModel","placeholder"],["matSuffix",""],[3,"ngModelChange","selectionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","dd/mm/yyyy",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["mat-raised-button","","color","accent",1,"clear-filters-btn",3,"click"],["mat-raised-button","","color","primary",1,"refresh-btn",3,"click","disabled"],["mat-icon-button","",3,"click","matTooltip"],["class","loading-container",4,"ngIf"],["class","table-container",4,"ngIf"],["class","pagination-container",4,"ngIf"],[3,"value"],[1,"status-option"],[1,"loading-container"],[1,"loading-spinner"],[1,"table-container"],["mat-table","","class","orders-table",3,"dataSource",4,"ngIf"],["class","empty-state",4,"ngIf"],["mat-table","",1,"orders-table",3,"dataSource"],["matColumnDef","orderNumber"],["mat-header-cell","","class","sortable-header",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","customer"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","restaurant"],["matColumnDef","deliveryPerson"],["matColumnDef","status"],["matColumnDef","totalAmount"],["mat-header-cell","","class","number-header",4,"matHeaderCellDef"],["mat-cell","","class","number-cell",4,"matCellDef"],["matColumnDef","orderDate"],["mat-header-cell","","class","date-header",4,"matHeaderCellDef"],["mat-cell","","class","date-cell",4,"matCellDef"],["matColumnDef","estimatedDelivery"],["matColumnDef","actions"],["mat-header-cell","","class","actions-header",4,"matHeaderCellDef"],["mat-cell","","class","actions-cell",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"overdue-row","cancelled-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"sortable-header"],["mat-cell",""],[1,"order-number-cell",3,"click"],[1,"order-number"],["class","overdue-icon","matTooltip","\u0645\u062A\u0623\u062E\u0631",4,"ngIf"],["matTooltip","\u0645\u062A\u0623\u062E\u0631",1,"overdue-icon"],["mat-header-cell",""],[1,"customer-info"],[1,"customer-name"],[1,"customer-phone"],[1,"restaurant-name"],[1,"delivery-person-cell",3,"click"],["class","delivery-person-name",4,"ngIf"],["class","no-delivery-person",4,"ngIf"],["class","assign-icon",4,"ngIf"],["class","lock-icon",4,"ngIf"],[1,"delivery-person-name"],[1,"no-delivery-person"],[1,"assign-icon"],[1,"lock-icon"],[1,"payment-status"],["mat-header-cell","",1,"number-header"],["mat-cell","",1,"number-cell"],[1,"amount"],["mat-header-cell","",1,"date-header"],["mat-cell","",1,"date-cell"],[3,"class",4,"ngIf"],["class","no-time",4,"ngIf"],[1,"no-time"],["mat-header-cell","",1,"actions-header"],["mat-cell","",1,"actions-cell"],[1,"action-buttons"],["mat-icon-button","","color","primary",3,"click","matTooltip"],["mat-icon-button","",3,"matMenuTriggerFor","matTooltip","disabled"],["mat-menu-item","",3,"disabled","click",4,"ngFor","ngForOf"],["mat-icon-button","","color","accent",3,"click","matTooltip","disabled"],["mat-icon-button","","color","warn",3,"click","matTooltip","disabled"],["mat-menu-item","",3,"click","disabled"],["mat-header-row",""],["mat-row",""],[1,"empty-state"],[1,"empty-icon"],["mat-raised-button","","color","primary",3,"click"],[1,"pagination-container"],[1,"pagination-info"],["showFirstLastButtons","",3,"page","length","pageIndex","pageSize","pageSizeOptions"],[1,"items-per-page"]],template:function(e,t){if(e&1){let l=C();r(0,"div",3)(1,"div",4)(2,"div",5)(3,"h2"),o(4),i(),r(5,"p",6),o(6),i()(),r(7,"div",7)(8,"div",8)(9,"div",9),o(10),i(),r(11,"div",10),o(12,"\u0625\u062C\u0645\u0627\u0644\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A"),i()(),r(13,"div",11)(14,"div",9),o(15),i(),r(16,"div",10),o(17,"\u0641\u064A \u0627\u0646\u062A\u0638\u0627\u0631 \u0627\u0644\u062A\u0623\u0643\u064A\u062F"),i()(),r(18,"div",12)(19,"div",9),o(20),i(),r(21,"div",10),o(22,"\u0642\u064A\u062F \u0627\u0644\u062A\u0646\u0641\u064A\u0630"),i()(),r(23,"div",13)(24,"div",9),o(25),i(),r(26,"div",10),o(27,"\u062A\u0645 \u0627\u0644\u062A\u0648\u0635\u064A\u0644"),i()(),r(28,"div",14)(29,"div",9),o(30),i(),r(31,"div",10),o(32,"\u0645\u062A\u0623\u062E\u0631"),i()()()(),r(33,"div",15)(34,"div",16)(35,"mat-form-field",17)(36,"mat-label"),o(37),i(),r(38,"input",18),P("ngModelChange",function(x){return _(l),S(t.searchTerm,x)||(t.searchTerm=x),v(x)}),f("ngModelChange",function(x){return _(l),v(t.onSearchChange(x))}),i(),r(39,"mat-icon",19),o(40,"search"),i()(),r(41,"mat-form-field",17)(42,"mat-label"),o(43),i(),r(44,"mat-select",20),P("ngModelChange",function(x){return _(l),S(t.filterStatus,x)||(t.filterStatus=x),v(x)}),f("selectionChange",function(){return _(l),v(t.onFilterChange())}),g(45,Mn,4,4,"mat-option",21),i()(),r(46,"mat-form-field",17)(47,"mat-label"),o(48),i(),r(49,"mat-select",20),P("ngModelChange",function(x){return _(l),S(t.filterPaymentStatus,x)||(t.filterPaymentStatus=x),v(x)}),f("selectionChange",function(){return _(l),v(t.onFilterChange())}),g(50,bn,2,2,"mat-option",21),i()(),r(51,"mat-form-field",17)(52,"mat-label"),o(53),i(),r(54,"input",18),P("ngModelChange",function(x){return _(l),S(t.filterRestaurant,x)||(t.filterRestaurant=x),v(x)}),f("ngModelChange",function(){return _(l),v(t.onFilterChange())}),i(),r(55,"mat-icon",19),o(56,"restaurant"),i()()(),r(57,"div",16)(58,"mat-form-field",17)(59,"mat-label"),o(60),i(),r(61,"input",22),P("ngModelChange",function(x){return _(l),S(t.filterDateFrom,x)||(t.filterDateFrom=x),v(x)}),f("ngModelChange",function(){return _(l),v(t.onFilterChange())}),i(),M(62,"mat-datepicker-toggle",23)(63,"mat-datepicker",null,0),i(),r(65,"mat-form-field",17)(66,"mat-label"),o(67),i(),r(68,"input",22),P("ngModelChange",function(x){return _(l),S(t.filterDateTo,x)||(t.filterDateTo=x),v(x)}),f("ngModelChange",function(){return _(l),v(t.onFilterChange())}),i(),M(69,"mat-datepicker-toggle",23)(70,"mat-datepicker",null,1),i(),r(72,"button",24),f("click",function(){return _(l),v(t.clearFilters())}),r(73,"mat-icon"),o(74,"clear_all"),i(),o(75),i(),r(76,"button",25),f("click",function(){return _(l),v(t.refreshOrders())}),r(77,"mat-icon"),o(78,"refresh"),i(),o(79),i(),r(80,"button",26),f("click",function(){return _(l),v(t.toggleAutoRefresh())}),r(81,"mat-icon"),o(82,"autorenew"),i()()()(),g(83,On,5,1,"div",27)(84,ei,3,2,"div",28)(85,ti,8,9,"div",29),i()}if(e&2){let l=Se(64),u=Se(71);y("rtl",t.translationService.isRTL()),a(4),d(t.translationService.translate("ordersMonitoring")||"\u0645\u0631\u0627\u0642\u0628\u0629 \u0627\u0644\u0637\u0644\u0628\u0627\u062A"),a(2),d(t.translationService.translate("ordersDescription")||"\u0645\u0631\u0627\u0642\u0628\u0629 \u0648\u0625\u062F\u0627\u0631\u0629 \u062C\u0645\u064A\u0639 \u0627\u0644\u0637\u0644\u0628\u0627\u062A \u0641\u064A \u0627\u0644\u0648\u0642\u062A \u0627\u0644\u0641\u0639\u0644\u064A"),a(4),d(t.getOrderStats().total),a(5),d(t.getOrderStats().pending),a(5),d(t.getOrderStats().inProgress),a(5),d(t.getOrderStats().delivered),a(5),d(t.getOrderStats().overdue),a(7),d(t.translationService.translate("dashboard.searchOrders")||"\u0627\u0644\u0628\u062D\u062B \u0641\u064A \u0627\u0644\u0637\u0644\u0628\u0627\u062A"),a(),c("placeholder",w(t.translationService.translate("dashboard.searchByNumber")||"\u0627\u0644\u0628\u062D\u062B \u0628\u0631\u0642\u0645 \u0627\u0644\u0637\u0644\u0628 \u0623\u0648 \u0627\u0644\u0639\u0645\u064A\u0644")),O("ngModel",t.searchTerm),a(5),d(t.translationService.translate("filterByStatus")||"\u062A\u0635\u0641\u064A\u0629 \u0628\u0627\u0644\u062D\u0627\u0644\u0629"),a(),O("ngModel",t.filterStatus),a(),c("ngForOf",t.statusOptions),a(3),d(t.translationService.translate("filterByPayment")||"\u062A\u0635\u0641\u064A\u0629 \u0628\u062D\u0627\u0644\u0629 \u0627\u0644\u062F\u0641\u0639"),a(),O("ngModel",t.filterPaymentStatus),a(),c("ngForOf",t.paymentStatusOptions),a(3),d(t.translationService.translate("filterByRestaurant")||"\u062A\u0635\u0641\u064A\u0629 \u0628\u0627\u0644\u0645\u0637\u0639\u0645"),a(),c("placeholder",w(t.translationService.translate("restaurantName")||"\u0627\u0633\u0645 \u0627\u0644\u0645\u0637\u0639\u0645")),O("ngModel",t.filterRestaurant),a(6),d(t.translationService.translate("dateFrom")||"\u0645\u0646 \u062A\u0627\u0631\u064A\u062E"),a(),c("matDatepicker",l),O("ngModel",t.filterDateFrom),a(),c("for",l),a(5),d(t.translationService.translate("dateTo")||"\u0625\u0644\u0649 \u062A\u0627\u0631\u064A\u062E"),a(),c("matDatepicker",u),O("ngModel",t.filterDateTo),a(),c("for",u),a(6),m(" ",t.translationService.translate("dashboard.clearFilters")||"\u0645\u0633\u062D \u0627\u0644\u0641\u0644\u0627\u062A\u0631"," "),a(),c("disabled",t.isRefreshing),a(),y("spinning",t.isRefreshing),a(2),m(" ",t.translationService.translate("dashboard.refresh")||"\u062A\u062D\u062F\u064A\u062B"," "),a(),y("active",t.autoRefreshEnabled),c("matTooltip",w(t.autoRefreshEnabled?"\u0625\u064A\u0642\u0627\u0641 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062A\u0644\u0642\u0627\u0626\u064A":"\u062A\u0641\u0639\u064A\u0644 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062A\u0644\u0642\u0627\u0626\u064A")),a(3),c("ngIf",t.isLoading),a(),c("ngIf",!t.isLoading),a(),c("ngIf",!t.isLoading&&t.filteredOrdersData.length>0)}},dependencies:[N,B,F,ye,Pe,ne,Z,ee,te,ht,dt,ut,ft,mt,ct,_t,pt,gt,vt,xt,tt,we,H,W,U,z,R,ie,X,J,K,xe,ve,re,ae,Q,se,Y,q,Ae,et,Ze,lt,ot,rt,st,$,j,Ot,Ct,Mt,bt,Ke,L,he,yt],styles:['.orders-board-container[_ngcontent-%COMP%]{padding:24px;background:linear-gradient(135deg,#f5f7fa,#c3cfe2);min-height:100vh;font-family:Cairo,Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.orders-board-container.rtl[_ngcontent-%COMP%]{direction:rtl}.section-header[_ngcontent-%COMP%]{margin-bottom:32px}.section-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]{margin-bottom:24px}.section-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a202c;margin:0 0 8px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.section-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1.1rem;color:#4a5568;margin:0}.section-header[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.section-header[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;text-align:center;box-shadow:0 4px 20px #00000014;transition:all .3s ease;position:relative;overflow:hidden}.section-header[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 8px 30px #0000001f}.section-header[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px}.section-header[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.total[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#667eea,#764ba2)}.section-header[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.pending[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#ff9800,#f57c00)}.section-header[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.progress[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#2196f3,#1976d2)}.section-header[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.delivered[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#4caf50,#388e3c)}.section-header[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card.overdue[_ngcontent-%COMP%]:before{background:linear-gradient(90deg,#f44336,#d32f2f)}.section-header[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#1a202c;margin-bottom:8px;line-height:1}.section-header[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#4a5568;font-weight:500}.filters-section[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 4px 20px #00000014}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:16px;margin-bottom:16px}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .filter-field[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{width:100%}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .clear-filters-btn[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;border-radius:8px;font-weight:600;transition:all .3s ease}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .clear-filters-btn[_ngcontent-%COMP%]:hover, .filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #0003}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .clear-filters-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .clear-filters-btn[_ngcontent-%COMP%]   mat-icon.spinning[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]   mat-icon.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .clear-filters-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a24);color:#fff}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   .refresh-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;transition:all .3s ease}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]:hover{transform:scale(1.1)}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   button[mat-icon-button].active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#43e97b,#38f9d7);color:#fff}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;background:#fff;border-radius:12px;box-shadow:0 4px 20px #00000014}.loading-container[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;color:#667eea;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:16px}.loading-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:1.1rem;color:#4a5568;font-weight:500}.table-container[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 20px #00000014}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;font-weight:600;font-size:.9rem;padding:16px 12px}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-header-cell.sortable-header[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-header-cell.sortable-header[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a6fd8,#6a4190)}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-header-cell.sortable-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;margin-left:4px}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-header-cell.number-header[_ngcontent-%COMP%], .table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-header-cell.date-header[_ngcontent-%COMP%]{text-align:center}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-header-cell.actions-header[_ngcontent-%COMP%]{text-align:center;width:120px}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{padding:16px 12px;border-bottom:1px solid #f0f0f0}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-cell.number-cell[_ngcontent-%COMP%]{text-align:center;font-weight:600;color:#27ae60}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-cell.date-cell[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;color:#4a5568}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-cell.actions-cell[_ngcontent-%COMP%]{text-align:center}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]{transition:all .3s ease}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;transform:scale(1.01)}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-row.overdue-row[_ngcontent-%COMP%]{background-color:#fff5f5;border-left:4px solid #e74c3c}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .mat-mdc-row.cancelled-row[_ngcontent-%COMP%]{background-color:#f8f9fa;opacity:.7}.order-number-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;cursor:pointer;transition:all .3s ease}.order-number-cell[_ngcontent-%COMP%]:hover{color:#667eea;transform:translate(4px)}.order-number-cell[_ngcontent-%COMP%]   .order-number[_ngcontent-%COMP%]{font-weight:600;color:#1a202c}.order-number-cell[_ngcontent-%COMP%]   .overdue-icon[_ngcontent-%COMP%]{color:#e74c3c;font-size:16px;width:16px;height:16px}.customer-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.customer-info[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]{font-weight:600;color:#1a202c}.customer-info[_ngcontent-%COMP%]   .customer-phone[_ngcontent-%COMP%]{font-size:.85rem;color:#4a5568}.restaurant-name[_ngcontent-%COMP%]{font-weight:500;color:#1a202c}.delivery-person-cell[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;transition:all .3s ease}.delivery-person-cell.clickable[_ngcontent-%COMP%]{cursor:pointer}.delivery-person-cell.clickable[_ngcontent-%COMP%]:hover{color:#667eea;transform:translate(4px)}.delivery-person-cell.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.6}.delivery-person-cell.disabled[_ngcontent-%COMP%]   .no-delivery-person[_ngcontent-%COMP%]{color:#9ca3af}.delivery-person-cell.disabled[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%]{color:#9ca3af;font-size:16px;width:16px;height:16px}.delivery-person-cell[_ngcontent-%COMP%]   .delivery-person-name[_ngcontent-%COMP%]{font-weight:500;color:#1a202c}.delivery-person-cell[_ngcontent-%COMP%]   .no-delivery-person[_ngcontent-%COMP%]{color:#4a5568;font-style:italic}.delivery-person-cell[_ngcontent-%COMP%]   .assign-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px;color:#667eea}.status-chip[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;padding:4px 12px;border-radius:16px;text-transform:uppercase;letter-spacing:.5px}.status-chip.status-pending[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.status-chip.status-confirmed[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.status-chip.status-preparing[_ngcontent-%COMP%]{background-color:#9c27b0;color:#fff}.status-chip.status-ready[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.status-chip.status-waiting-courier[_ngcontent-%COMP%]{background-color:#ff5722;color:#fff}.status-chip.status-out-for-delivery[_ngcontent-%COMP%]{background-color:#00bcd4;color:#fff}.status-chip.status-delivering[_ngcontent-%COMP%]{background-color:#3f51b5;color:#fff}.status-chip.status-delivered[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.status-chip.status-cancelled[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.payment-status[_ngcontent-%COMP%]{margin-top:8px}.payment-status[_ngcontent-%COMP%]   .payment-badge[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;padding:2px 8px;border-radius:12px;text-transform:uppercase;letter-spacing:.5px}.payment-status[_ngcontent-%COMP%]   .payment-badge.payment-paid[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.payment-status[_ngcontent-%COMP%]   .payment-badge.payment-pending[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.payment-status[_ngcontent-%COMP%]   .payment-badge.payment-failed[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.payment-status[_ngcontent-%COMP%]   .payment-badge.payment-refunded[_ngcontent-%COMP%]{background-color:#9e9e9e;color:#fff}.amount[_ngcontent-%COMP%]{font-weight:700;color:#27ae60;font-size:1.1rem}.overdue-time[_ngcontent-%COMP%]{color:#e74c3c;font-weight:600}.normal-time[_ngcontent-%COMP%]{color:#27ae60;font-weight:500}.no-time[_ngcontent-%COMP%]{color:#4a5568;font-style:italic}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;transition:all .3s ease}.action-buttons[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #00000026}.action-buttons[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.action-buttons[_ngcontent-%COMP%]   button[mat-icon-button][_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;background:#fff;border-radius:12px;box-shadow:0 4px 20px #00000014}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;width:64px;height:64px;color:#bdc3c7;margin-bottom:20px}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a202c;margin-bottom:12px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#4a5568;margin-bottom:24px;max-width:400px;margin-left:auto;margin-right:auto}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0 auto;padding:12px 24px;border-radius:8px;font-weight:600;transition:all .3s ease}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #0003}.empty-state[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px}.pagination-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;background:#fff;border-radius:12px;box-shadow:0 4px 20px #00000014;margin-top:24px}.pagination-container[_ngcontent-%COMP%]   .pagination-info[_ngcontent-%COMP%], .pagination-container[_ngcontent-%COMP%]   .items-per-page[_ngcontent-%COMP%]{font-size:.9rem;color:#4a5568;font-weight:500}.pagination-container[_ngcontent-%COMP%]   .mat-mdc-paginator[_ngcontent-%COMP%]{background:transparent}.pagination-container[_ngcontent-%COMP%]   .mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-paginator-page-size-label[_ngcontent-%COMP%], .pagination-container[_ngcontent-%COMP%]   .mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-paginator-range-label[_ngcontent-%COMP%]{color:#4a5568;font-size:.9rem}.pagination-container[_ngcontent-%COMP%]   .mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]{color:#667eea}.pagination-container[_ngcontent-%COMP%]   .mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]:hover{background-color:#667eea1a}.pagination-container[_ngcontent-%COMP%]   .mat-mdc-paginator[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]:disabled{color:#bdc3c7}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.rtl[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{direction:rtl}.rtl[_ngcontent-%COMP%]   .order-number-cell[_ngcontent-%COMP%]:hover, .rtl[_ngcontent-%COMP%]   .delivery-person-cell[_ngcontent-%COMP%]:hover{transform:translate(-4px)}.rtl[_ngcontent-%COMP%]   .pagination-container[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:row-reverse}.rtl[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]{text-align:right}@media (max-width: 768px){.orders-board-container[_ngcontent-%COMP%]{padding:16px}.section-header[_ngcontent-%COMP%]   .header-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem}.section-header[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px}.filters-section[_ngcontent-%COMP%]{padding:16px}.filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table-container[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]{min-width:800px}.pagination-container[_ngcontent-%COMP%]{flex-direction:column;gap:16px;text-align:center}}@media (max-width: 480px){.section-header[_ngcontent-%COMP%]   .stats-grid[_ngcontent-%COMP%], .filters-section[_ngcontent-%COMP%]   .filters-row[_ngcontent-%COMP%]{grid-template-columns:1fr}.action-buttons[_ngcontent-%COMP%]{flex-wrap:wrap;gap:8px}}  .success-snackbar{background:linear-gradient(135deg,#4caf50,#66bb6a);color:#fff}  .warning-snackbar{background:linear-gradient(135deg,#ff9800,#ffb74d);color:#fff}  .success-snackbar .mat-simple-snackbar-action{color:#fff;font-weight:600}  .warning-snackbar .mat-simple-snackbar-action{color:#fff;font-weight:600}'],data:{animation:[Me("slideInUp",[Oe(":enter",[V({transform:"translateY(30px)",opacity:0}),be("0.6s ease-out",V({transform:"translateY(0)",opacity:1}))])]),Me("fadeIn",[Oe(":enter",[V({opacity:0}),be("0.3s ease-in",V({opacity:1}))])])]}})};export{Ft as OrdersBoardComponent};
